(window["matrixElement_jsonp"] = window["matrixElement_jsonp"] || []).push([[12,22],{

/***/ "030d":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("e5af");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("5ba85ea0", content, shadowRoot)
};

/***/ }),

/***/ "1db0":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("3868");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("11860d5d", content, shadowRoot)
};

/***/ }),

/***/ "30e6":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".recordButton_wrapper[data-v-16750db8]{position:relative}.recordButton_holder[data-v-16750db8]{visibility:hidden;position:absolute;display:flex;justify-content:center;align-items:center;height:16px;width:16px;background:#789;border-radius:50%;bottom:98px;transition:.1s;right:9px}.recordButton_holder .icon[data-v-16750db8]{color:#fff;font-size:7px}.recordButton_holder.active[data-v-16750db8]{visibility:visible}.recordButton_holder.hold[data-v-16750db8]{background:#789;visibility:visible;bottom:38px}.recordButton_holder.hold .icon[data-v-16750db8]{color:#fff}.recordButton_main[data-v-16750db8]{padding-top:1px;touch-action:none;display:flex;align-items:center;justify-content:center;width:35px;height:35px;line-height:35px!important;background:transparent;border-radius:50%;outline:none;position:relative}.recordButton_main.active[data-v-16750db8]{background:rgb(var(--color-bg-ac));animation:pulse-16750db8 1.2s infinite}.recordButton_main.active .icon[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color))}.recordButton_main.active[data-v-16750db8]:before{position:absolute;left:-30px;bottom:-30px;right:-30px;top:-30px;content:\"\";border-radius:50%;border:35px solid rgba(var(--color-bg-ac),.5);animation:pulse-16750db8 1.2s infinite}.recordButton_main.disabled .icon[data-v-16750db8]{color:rgb(var(--neutral-grad-2))}.recordButton_main.outside[data-v-16750db8],.recordButton_stop[data-v-16750db8]{background:rgb(var(--color-bad))}.recordButton_stop[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color));font-size:.7em}@keyframes pulse-16750db8{0%{opacity:1}50%{opacity:.8}to{opacity:1}}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "3868":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "#chatInput[data-v-efa2321a]{padding-bottom:.5em}[data-v-efa2321a] #modal.minimized .modal-wrapper{left:0}[data-v-efa2321a] .previewWrapper{padding-left:.5em!important;padding-right:.5em!important}.inputWrapper[data-v-efa2321a]{display:flex;position:relative}.inputWrapper .left[data-v-efa2321a]{width:35px;display:flex;justify-content:flex-end;align-items:center;text-align:center}.inputWrapper .left.donation+.center[data-v-efa2321a]{margin:0 0 0 .25em}.inputWrapper .left .iconbutton[data-v-efa2321a]{display:flex;align-items:center;justify-content:center;height:35px;width:35px;-webkit-tap-highlight-color:transparent}.inputWrapper .left .iconbutton.donate[data-v-efa2321a]{border:1px solid rgba(var(--neutral-grad-0),.9);border-radius:12px}.inputWrapper .left .icon.donate[data-v-efa2321a]{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy4yNTggMS45NzlMMTUuMTgyIDBsLTIuNDU3IDIuNTc5YTcuODUgNy44NSAwIDAwLTQuMDk2LTEuMTQ1Yy0xLjMwMiAwLTIuNTMuMzE1LTMuNjEyLjg3NEwyLjgxNyAwIC43NDIgMS45OCAyLjc0IDQuMDc1QTcuODU4IDcuODU4IDAgMDAuNzQxIDkuMzIxYzAgMS44NTQuNjQgMy41NTkgMS43MSA0LjkwNWwtMS43MSAxLjc5NUwyLjgxOCAxOGwxLjc5OC0xLjg4N2E3Ljg1MiA3Ljg1MiAwIDAwNC4wMTMgMS4wOTYgNy44NSA3Ljg1IDAgMDA0LjQ3NC0xLjM5TDE1LjE4MiAxOGwyLjA3Ni0xLjk3OS0yLjEyNy0yLjIzM2E3Ljg1IDcuODUgMCAwMDEuMzg2LTQuNDY3YzAtMS44Mi0uNjE3LTMuNDk2LTEuNjUyLTQuODNsMi4zOTMtMi41MTJ6TTMuNTU1IDkuMzJhNS4wNzQgNS4wNzQgMCAxMDEwLjE0OCAwIDUuMDc0IDUuMDc0IDAgMDAtMTAuMTQ4IDB6IiBmaWxsPSIjMDBBNEZGIi8+PC9zdmc+) no-repeat 50% 50%;background-size:contain;flex:1;font-size:1em;text-indent:-9999px;overflow:hidden}.inputWrapper .extended[data-v-efa2321a]{width:70px;margin-left:7px}.inputWrapper .leftdummy[data-v-efa2321a]{width:.5em}.inputWrapper>div[data-v-efa2321a]{transition:.3s}.inputWrapper .center[data-v-efa2321a]{max-height:110px;max-width:100%;display:flex;justify-content:space-between;align-items:center;flex-grow:1;border:1px solid transparent;border-radius:30px;background:rgb(var(--background-main))}.inputWrapper input[data-v-efa2321a]{border:1px solid rgb(var(--neutral-grad-0));background:rgba(var(--background-main),.5);border-radius:30px;width:100%;padding:.5em 1em}.notready[data-v-efa2321a],.waitjoined[data-v-efa2321a]{padding:.5em 0;text-align:center}.waitjoined span[data-v-efa2321a]{font-size:.8em}.greetings[data-v-efa2321a]{padding:.5em 0}.greetings[data-v-efa2321a],[data-v-efa2321a] .iconWrapper{text-align:center}.menu-item[data-v-efa2321a]{padding:.5em;background:rgb(var(--background-total-theme));line-height:44px;border-radius:5px;display:flex}.menu-item .title[data-v-efa2321a]{flex-grow:2;padding-right:44px;text-align:center}.menu-item .iconWrapper[data-v-efa2321a]{width:44px}.tipusers[data-v-efa2321a]{position:absolute;max-height:300px;border-radius:.5em;border:1px solid rgba(var(--neutral-grad-0),.9);overflow-y:overlay;background-color:rgba(var(--background-total-theme),.95);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);padding:.25em 0;bottom:100%;margin-bottom:.5em;left:.25em;right:.25em}.tipusers .previewWrapperExt[data-v-efa2321a]{border-radius:.75em;margin-left:.25em;margin-right:.25em;padding-top:.25em;padding-bottom:.25em}.tipusers .previewWrapperExt[data-v-efa2321a] .previewWrapper{padding-left:.25em!important;padding-right:.25em!important}.tipusers .previewWrapperExt.selected[data-v-efa2321a]{background:rgb(var(--background-main))}.disabled[data-v-efa2321a]{display:flex;justify-content:center;align-items:center;width:35px;height:35px;color:rgb(var(--neutral-grad-3))}.disabled i[data-v-efa2321a]{padding-top:1px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "39ee":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_0_id_7d91b437_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("beec");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_0_id_7d91b437_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_0_id_7d91b437_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_0_id_7d91b437_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_0_id_7d91b437_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "3bb6":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_picturePreview_vue_vue_type_style_index_0_id_67c83356_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("471e");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_picturePreview_vue_vue_type_style_index_0_id_67c83356_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_picturePreview_vue_vue_type_style_index_0_id_67c83356_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_picturePreview_vue_vue_type_style_index_0_id_67c83356_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_picturePreview_vue_vue_type_style_index_0_id_67c83356_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "471e":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("a8c4");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("74bf3874", content, shadowRoot)
};

/***/ }),

/***/ "4a18":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".emoji-mart,.emoji-mart *{box-sizing:border-box;line-height:1.15}.emoji-mart{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:flex;flex-direction:column;height:420px;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff}.emoji-mart-emoji{padding:6px;border:none;background:none;box-shadow:none}.emoji-mart-emoji span{display:inline-block}.emoji-mart-preview-emoji .emoji-mart-emoji span{width:38px;height:38px;font-size:32px}.emoji-type-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,EmojiOne Color,Android Emoji;word-break:keep-all}.emoji-type-image{background-size:5700%}.emoji-type-image.emoji-set-apple{background-image:url(https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png)}.emoji-type-image.emoji-set-facebook{background-image:url(https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png)}.emoji-type-image.emoji-set-google{background-image:url(https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png)}.emoji-type-image.emoji-set-twitter{background-image:url(https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png)}.emoji-mart-bar{border:0 solid #d9d9d9}.emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px}.emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.emoji-mart-scroll{position:relative;overflow-y:scroll;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-anchors{display:flex;flex-direction:row;justify-content:space-between;padding:0 6px;color:#858585;line-height:0}.emoji-mart-anchor{position:relative;display:block;flex:1 1 auto;text-align:center;padding:12px 4px;overflow:hidden;transition:color .1s ease-out;border:none;background:none;box-shadow:none}.emoji-mart-anchor-selected,.emoji-mart-anchor:hover{color:#464646}.emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0}.emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646}.emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px}.emoji-mart-anchors svg{fill:currentColor;max-height:18px}.emoji-mart .scroller{height:250px;position:relative;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-search{margin-top:6px;padding:0 6px}.emoji-mart-search input{font-size:16px;display:block;width:100%;padding:.2em .6em;border-radius:25px;border:1px solid #d9d9d9;outline:0}.emoji-mart-search-results{height:250px;overflow-y:scroll}.emoji-mart-category{position:relative}.emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default}.emoji-mart-category .emoji-mart-emoji:hover:before,.emoji-mart-emoji-selected:before{z-index:0;content:\"\";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;opacity:0;opacity:1}.emoji-mart-category-label{position:sticky;top:0}.emoji-mart-static .emoji-mart-category-label{z-index:2;position:relative}.emoji-mart-category-label h3{display:block;font-size:16px;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:hsla(0,0%,100%,.95)}.emoji-mart-emoji{position:relative;display:inline-block;font-size:0}.emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585}.emoji-mart-no-results .emoji-mart-category-label{display:none}.emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em}.emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none}.emoji-mart-preview{position:relative;height:70px}.emoji-mart-preview-data,.emoji-mart-preview-emoji,.emoji-mart-preview-skins{position:absolute;top:50%;transform:translateY(-50%)}.emoji-mart-preview-emoji{left:12px}.emoji-mart-preview-data{left:68px;right:12px;word-break:break-all}.emoji-mart-preview-skins{right:30px;text-align:right}.emoji-mart-preview-name{font-size:14px}.emoji-mart-preview-shortname{font-size:12px;color:#888}.emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em}.emoji-mart-preview-emoticon{font-size:11px;color:#bbb}.emoji-mart-title span{display:inline-block;vertical-align:middle}.emoji-mart-title .emoji-mart-emoji{padding:0}.emoji-mart-title-label{color:#999a9c;font-size:21px;font-weight:300}.emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch{width:16px;padding:0 2px}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after{opacity:.75}.emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;transition-property:width,padding;transition-duration:.125s;transition-timing-function:ease-out}.emoji-mart-skin-swatch:first-child{transition-delay:0s}.emoji-mart-skin-swatch:nth-child(2){transition-delay:.03s}.emoji-mart-skin-swatch:nth-child(3){transition-delay:.06s}.emoji-mart-skin-swatch:nth-child(4){transition-delay:.09s}.emoji-mart-skin-swatch:nth-child(5){transition-delay:.12s}.emoji-mart-skin-swatch:nth-child(6){transition-delay:.15s}.emoji-mart-skin-swatch-selected{position:relative;width:16px;padding:0 2px}.emoji-mart-skin-swatch-selected:after{content:\"\";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;transition:opacity .2s ease-out}.emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%}.emoji-mart-skin-tone-1{background-color:#ffc93a}.emoji-mart-skin-tone-2{background-color:#fadcbc}.emoji-mart-skin-tone-3{background-color:#e0bb95}.emoji-mart-skin-tone-4{background-color:#bf8f68}.emoji-mart-skin-tone-5{background-color:#9b643d}.emoji-mart-skin-tone-6{background-color:#594539}.emoji-mart .vue-recycle-scroller{position:relative}.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode){overflow-y:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode){overflow-x:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal{display:flex}.emoji-mart .vue-recycle-scroller__slot{flex:auto 0 0}.emoji-mart .vue-recycle-scroller__item-wrapper{flex:1;box-sizing:border-box;overflow:hidden;position:relative}.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view{position:absolute;top:0;left:0;will-change:transform}.emoji-mart .vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper{width:100%}.emoji-mart .vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper{height:100%}.emoji-mart .vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view{width:100%}.emoji-mart .vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view{height:100%}.emoji-mart .resize-observer[data-v-b329ee4c]{border:none;background-color:transparent;opacity:0}.emoji-mart .resize-observer[data-v-b329ee4c],.emoji-mart .resize-observer[data-v-b329ee4c] object{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;pointer-events:none;display:block;overflow:hidden}.emoji-mart-search .hidden{display:none;visibility:hidden}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "68cb":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("30e6");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("e4e3316e", content, shadowRoot)
};

/***/ }),

/***/ "75a1":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".mod-wrapper[data-v-75ceafe2]{position:absolute;top:0;left:0;justify-content:center;height:100%}.mod-wrapper[data-v-75ceafe2],.modal-window[data-v-75ceafe2]{display:flex;align-items:center;width:100%}.modal-window[data-v-75ceafe2]{border:1px solid rgb(var(--background-main));flex-direction:column;background-color:rgb(var(--background-total-theme));padding:1em;max-width:300px;margin:0 auto;border-radius:5px}.modal-window .btn[data-v-75ceafe2]{width:85%;padding:10px 5px;margin-top:25px;background-color:rgb(var(--color-bg-ac));border-radius:5px;color:#fff;cursor:pointer}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "9048":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_24811d8d_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a408");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_24811d8d_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_24811d8d_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_24811d8d_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_24811d8d_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "a3e2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_efa2321a_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1db0");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_efa2321a_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_efa2321a_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_efa2321a_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_efa2321a_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "a408":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("d256");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("460ffee1", content, shadowRoot)
};

/***/ }),

/***/ "a8c4":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".wrapper[data-v-67c83356]{position:relative}.fas[data-v-67c83356]{position:absolute;right:-8px;top:-8px}.preview-picture[data-v-67c83356]{width:50px;height:50px;border-radius:10px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "ae9e":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("4a18");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("adbd9d64", content, shadowRoot)
};

/***/ }),

/***/ "b8ce":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalWindow_vue_vue_type_style_index_0_id_75ceafe2_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ec82");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalWindow_vue_vue_type_style_index_0_id_75ceafe2_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalWindow_vue_vue_type_style_index_0_id_75ceafe2_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalWindow_vue_vue_type_style_index_0_id_75ceafe2_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModalWindow_vue_vue_type_style_index_0_id_75ceafe2_prod_lang_sass_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "beec":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("e11e");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("65e3ccb8", content, shadowRoot)
};

/***/ }),

/***/ "c7e3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_16750db8_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("68cb");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_16750db8_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_16750db8_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_16750db8_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_16750db8_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "d256":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".previewWrapper[data-v-24811d8d]{height:60px;position:absolute;top:0;width:100%;display:flex;align-items:center;justify-content:flex-start;padding:0;border-bottom:1px solid rgb(var(--background-main))}.previewWrapper .previewContact[data-v-24811d8d],.previewWrapper .previewContactSelect[data-v-24811d8d]{width:100%}.previewWrapper .previewBox[data-v-24811d8d]{width:100%;display:flex;justify-content:space-between;align-items:center}.previewWrapper .previewBox .previewWrapper[data-v-24811d8d]{flex-grow:1;width:100%}.previewWrapper .checkBox[data-v-24811d8d]{text-align:center;position:absolute;right:12px;top:50%;transform:translateY(-50%)}.previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList[data-v-24811d8d]{margin-bottom:8px}.contactList .title[data-v-24811d8d]{padding:0 .5em}.contactList.minimized .title[data-v-24811d8d]{display:none}.contactList.minimized .previewWrapper[data-v-24811d8d]{padding:.5em 0;border-bottom:0;cursor:pointer}.contactList.minimized .previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList.minimized .previewWrapper[data-v-24811d8d] .previewWrapper{padding:0}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "e11e":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".input_component[data-v-7d91b437]{width:100%;display:flex;justify-content:center;align-items:center;padding:0 1em;padding-right:0}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji{width:12.5%;height:40px;cursor:pointer}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji span{cursor:pointer}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji:hover{background:none;box-shadow:none}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji:hover:before{display:none}.input_component .input-wrapper[data-v-7d91b437]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;width:100%}.input_component .right[data-v-7d91b437]{margin:0 .5em}.input_component .iconbutton .leftdummy[data-v-7d91b437]{width:20px}.input_component .iconbutton .rightdummy[data-v-7d91b437]{width:35px}.input_component .iconbutton .idummy[data-v-7d91b437]{width:100%;height:35px;line-height:35px}.input_component .iconbutton .idummy i[data-v-7d91b437]{line-height:35px!important}.input_component .previews[data-v-7d91b437]{width:100%;max-width:198px;height:30px;display:flex;align-items:flex-start;padding:2px 0;overflow:hidden}.input_component .previews[data-v-7d91b437]:first-child{margin-left:0}.input_component .textarea[data-v-7d91b437]{width:100%;display:flex;justify-content:flex-start;align-items:center}.chat-input[data-v-7d91b437]{background:transparent;border:0;width:100%;max-height:100px;overflow-y:auto;resize:none;line-height:inherit}.chat-input[data-v-7d91b437]::-webkit-scrollbar{width:0!important}.fade-enter-active[data-v-7d91b437],.fade-leave-active[data-v-7d91b437]{transition:all .2s ease-in}.fade-enter[data-v-7d91b437],.fade-leave-to[data-v-7d91b437]{opacity:0}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "e49a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_1_id_7d91b437_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("ae9e");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_1_id_7d91b437_prod_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_1_id_7d91b437_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_1_id_7d91b437_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InputField_vue_vue_type_style_index_1_id_7d91b437_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "e5af":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".recordProgress[data-v-5df29904]{display:flex;height:20px;justify-content:flex-start;padding:0 1em;align-items:center;max-width:80%;flex-grow:2}.recordProgress .indicatorWrapper[data-v-5df29904]{min-width:20px;width:20px;margin-right:1em;display:flex;justify-content:center;align-items:center}.recordProgress .indicator[data-v-5df29904]{height:6px;width:6px;background:#ff033e;border-radius:50%}.recordProgress .indicator.recording[data-v-5df29904]{animation:pulse-5df29904 1.2s ease infinite}.recordProgress .del[data-v-5df29904]{min-width:20px;cursor:pointer;display:flex;justify-content:center;align-items:center;width:20px;height:20px;margin-right:1em}.recordProgress .del i[data-v-5df29904]{color:red;font-size:13px}.recordProgress .timer[data-v-5df29904]{margin-right:1em}.recordProgress .graph[data-v-5df29904]{margin:0 auto;width:100px;overflow:hidden;border-radius:15px}.cancel[data-v-5df29904],.recordProgress .graph[data-v-5df29904]{display:flex;justify-content:center}.cancel[data-v-5df29904]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgb(var(--background-secondary-theme));opacity:0;text-align:center;align-items:center}.cancel span[data-v-5df29904]{white-space:nowrap;font-size:.9em}@keyframes pulse-5df29904{0%{opacity:1}50%{opacity:.1}to{opacity:1}}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "ec82":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("75a1");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("eb3034c4", content, shadowRoot)
};

/***/ }),

/***/ "eee2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_5df29904_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("030d");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_5df29904_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_5df29904_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_5df29904_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_9_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_9_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_9_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_9_oneOf_1_4_index_scss_vue_type_style_index_0_id_5df29904_prod_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "f978":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/contacts/list/index.vue?vue&type=template&id=24811d8d&scoped=true&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    staticClass: "contactList",
    class: {
      minimized: _vm.minimized
    }
  }, [_c('RecycleScroller', {
    staticClass: "scroller",
    attrs: {
      "page-mode": "",
      "items": _vm.users,
      "item-size": 60,
      "key-field": "id"
    },
    scopedSlots: _vm._u([{
      key: "default",
      fn: function (_ref) {
        let {
          item
        } = _ref;
        return [_c('div', {
          staticClass: "previewWrapper minimizeex"
        }, [_vm.mode === 'Contacts' || _vm.mode === 'Select' ? _c('div', {
          staticClass: "previewContact",
          on: {
            "click": function ($event) {
              return _vm.navigateToProfile(item.id, item);
            }
          }
        }, [_c('preview', {
          attrs: {
            "contact": item,
            "mode": _vm.mode
          }
        })], 1) : _vm._e(), _vm.mode === 'Selectmany' ? _c('div', {
          staticClass: "previewBox",
          on: {
            "click": function ($event) {
              return _vm.toggleUser(item);
            }
          }
        }, [_c('div', {
          staticClass: "previewContactSelect"
        }, [_c('preview', {
          attrs: {
            "mode": _vm.mode,
            "contact": item
          }
        })], 1), _c('div', {
          staticClass: "checkBox"
        }, [_vm.selected[item.id] ? _c('i', {
          staticClass: "far fa-check-circle"
        }) : _vm._e(), !_vm.selected[item.id] ? _c('i', {
          staticClass: "far fa-circle"
        }) : _vm._e()])]) : _vm._e()])];
      }
    }])
  })], 1);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/contacts/list/index.vue?vue&type=template&id=24811d8d&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__("14d9");

// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js
var vuex_esm = __webpack_require__("2f62");

// EXTERNAL MODULE: ./src/components/contacts/preview/index.vue + 4 modules
var preview = __webpack_require__("92a6");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/utils/ModalWindow.vue?vue&type=template&id=75ceafe2&scoped=true&
var ModalWindowvue_type_template_id_75ceafe2_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "mod-wrapper"
  }, [_c('div', {
    staticClass: "modal-window"
  }, [_c('span', {
    staticClass: "message"
  }, [_vm._v(_vm._s(_vm.message))]), _c('button', {
    staticClass: "btn",
    on: {
      "click": _vm.close
    }
  }, [_vm._v("OK")])])]);
};
var ModalWindowvue_type_template_id_75ceafe2_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/utils/ModalWindow.vue?vue&type=template&id=75ceafe2&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/utils/ModalWindow.vue?vue&type=script&lang=js&
/* harmony default export */ var ModalWindowvue_type_script_lang_js_ = ({
  name: "ModalWindow",
  props: ["message"],
  methods: {
    close() {
      this.$emit("Close");
    }
  }
});
// CONCATENATED MODULE: ./src/components/utils/ModalWindow.vue?vue&type=script&lang=js&
 /* harmony default export */ var utils_ModalWindowvue_type_script_lang_js_ = (ModalWindowvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/utils/ModalWindow.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__("b8ce")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  utils_ModalWindowvue_type_script_lang_js_,
  ModalWindowvue_type_template_id_75ceafe2_scoped_true_render,
  ModalWindowvue_type_template_id_75ceafe2_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "75ceafe2",
  null
  ,true
)

/* harmony default export */ var ModalWindow = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/contacts/list?vue&type=script&lang=js&




/* harmony default export */ var list_vue_type_script_lang_js_ = ({
  name: "contactsList",
  data: function () {
    return {
      loading: false
    };
  },
  components: {
    preview: preview["a" /* default */],
    ModalWindow: ModalWindow
  },
  props: {
    mode: {
      default: "",
      type: String
    },
    users: Array,
    selected: Object,
    title: String
  },
  watch: {
    //$route: 'getdata'
  },
  computed: Object(vuex_esm["c" /* mapState */])({
    auth: state => state.auth,
    minimized: state => state.minimized,
    ...Object(vuex_esm["b" /* mapActions */])(["PREPARE_USERDATA"]),
    ...Object(vuex_esm["c" /* mapState */])(["contactsMap", "signedUpUsers"])
  }),
  methods: {
    select(contact) {
      this.$emit("select", contact);
    },
    navigateToProfile(id, contact) {
      if (this.mode == "Select") {
        this.select(contact);
      } else {
        this.$router.push({
          path: `/contact?id=${id}`
        }).catch(e => {});
      }
    },
    toggleUser(contact) {
      this.$emit("toggleUser", contact.id);
    }
  },
  mounted() {}
});
// CONCATENATED MODULE: ./src/components/contacts/list?vue&type=script&lang=js&
 /* harmony default export */ var contacts_list_vue_type_script_lang_js_ = (list_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/contacts/list/index.vue



function list_injectStyles (context) {
  
  var style0 = __webpack_require__("9048")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var list_component = Object(componentNormalizer["a" /* default */])(
  contacts_list_vue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  list_injectStyles,
  "24811d8d",
  null
  ,true
)

/* harmony default export */ var list = __webpack_exports__["default"] = (list_component.exports);

/***/ }),

/***/ "fe01":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/input/index.vue?vue&type=template&id=efa2321a&scoped=true&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    staticClass: "noswipepnt",
    attrs: {
      "id": "chatInput"
    }
  }, [_vm.ready ? _c('div', {
    staticClass: "work"
  }, [_vm.chat ? _c('div', {
    staticClass: "inputWrapper",
    class: {
      donate: _vm.donate
    }
  }, [_vm.tipusers.length ? _c('div', {
    staticClass: "tipusers"
  }, _vm._l(_vm.tipusers, function (user, i) {
    return _c('div', {
      key: user.id,
      staticClass: "previewWrapperExt",
      class: {
        selected: _vm.tipuserindex == i
      },
      on: {
        "click": function ($event) {
          return _vm.insertuser(user);
        }
      }
    }, [_c('preview', {
      attrs: {
        "contact": user,
        "mode": ""
      }
    })], 1);
  }), 0) : _vm._e(), _c('div', {
    staticClass: "center"
  }, [_vm.voiceEnable && (_vm.isRecording || _vm.record) ? _c('record-progress', {
    attrs: {
      "recordTime": _vm.recordTime,
      "isRecording": _vm.isRecording,
      "rmsData": _vm.recordRmsData,
      "opacity": _vm.cancelOpacity
    },
    on: {
      "onClear": _vm.clear
    }
  }) : _c('InputField', {
    ref: "newinput",
    attrs: {
      "donate": _vm.donate,
      "storagekey": 'chatinput' + _vm.chat.roomId,
      "tipusers": _vm.tipusers,
      "me": _vm.me
    },
    on: {
      "chatMessage": _vm.sendinput,
      "emptyInput": _vm.emitInputData,
      "FilledInput": _vm.HideUploadPic,
      "base64": _vm.pasteImage,
      "focused": _vm.focused,
      "tipsearchrequest": _vm.tipBySearch,
      "browsetip": _vm.browsetip,
      "selectcurrenttip": _vm.selectcurrenttip,
      "donateaction": _vm.sendtransactionWrapper
    }
  }), !_vm.streamMode && _vm.upload && _vm.chat ? _c('div', {
    staticClass: "left",
    class: {
      extended: _vm.voiceEnable
    }
  }, [!_vm.isRecording && !_vm.record ? _c('div', {
    staticClass: "iconbutton",
    on: {
      "click": _vm.showinputmenu
    }
  }, [_c('i', {
    staticClass: "icon fas fa-plus"
  })]) : _vm._e(), _vm.voiceEnable ? [_c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.isRecording || !_vm.record,
      expression: "isRecording || !record"
    }],
    staticClass: "iconbutton"
  }, [_c('recordVoice', {
    attrs: {
      "prepareRecording": _vm.prepareRecording ? true : false,
      "isRecording": _vm.isRecording,
      "disabled": _vm.microphoneDisabled
    },
    on: {
      "onRecordingStart": _vm.initRecording,
      "onRecordingStop": _vm.stopRecording,
      "onClear": _vm.clear,
      "canceling": _vm.setOpacity
    }
  })], 1)] : _vm._e(), !_vm.isRecording && _vm.record ? _c('div', {
    staticClass: "iconbutton",
    on: {
      "click": e => {
        _vm.sendVoiceMessage();
      }
    }
  }, [_vm._m(0)]) : _vm._e()], 2) : _vm._e()], 1), _vm.donate ? _c('div', {
    staticClass: "bottom"
  }, [_c('div', {
    staticClass: "count"
  }, [_c('i', {
    staticClass: "icon donate"
  }, [_vm._v("Donate")]), _c('span', {
    staticClass: "sum"
  }, [_vm._v(_vm._s(_vm.donate.value) + " PKOIN")])]), _c('i', {
    staticClass: "icon remove fa fa-times",
    on: {
      "click": _vm.removetransaction
    }
  })]) : _vm._e()]) : _vm._e()]) : _c('div', {
    staticClass: "notready"
  }, [_c('linepreloader')], 1)]);
};
var staticRenderFns = [function () {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', [_c('i', {
    staticClass: "icon fas fa-paper-plane"
  })]);
}];

// CONCATENATED MODULE: ./src/components/chat/input/index.vue?vue&type=template&id=efa2321a&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("1da1");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__("14d9");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unshift.js
var es_array_unshift = __webpack_require__("3c65");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.at.js
var es_typed_array_at = __webpack_require__("907a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-last.js
var es_typed_array_find_last = __webpack_require__("986a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-last-index.js
var es_typed_array_find_last_index = __webpack_require__("1d02");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js
var es_typed_array_set = __webpack_require__("3c5d");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.reduce.js
var es_array_reduce = __webpack_require__("13d5");

// EXTERNAL MODULE: ./src/application/functions.js
var functions = __webpack_require__("3139");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/input/InputField/InputField.vue?vue&type=template&id=7d91b437&scoped=true&
var InputFieldvue_type_template_id_7d91b437_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "input_component"
  }, [_c('div', {
    staticClass: "input-wrapper"
  }, [_c('div', {
    staticClass: "textarea"
  }, [_c('textarea', {
    ref: "textarea",
    staticClass: "chat-input",
    attrs: {
      "id": "textInput",
      "type": "text",
      "row": "1",
      "spellcheck": "true",
      "autocorrect": "on",
      "placeholder": _vm.$t('caption.sendmessage')
    },
    domProps: {
      "value": _vm.text
    },
    on: {
      "focus": _vm.focused,
      "blur": _vm.blured,
      "keydown": _vm.keydown,
      "input": _vm.textchange,
      "keyup": _vm.keyup,
      "click": _vm.keyup,
      "paste": _vm.paste_image
    }
  }), !_vm.streamMode && !_vm.mobile && _vm.emojiIndex ? _c('transition', {
    attrs: {
      "name": "fade",
      "mode": "out-in"
    }
  }, [_c('picker', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.display_emoji,
      expression: "display_emoji"
    }, {
      name: "click-outside",
      rawName: "v-click-outside",
      value: _vm.close_emoji_picker,
      expression: "close_emoji_picker"
    }],
    style: {
      width: 'auto',
      position: 'absolute',
      bottom: '48px',
      right: '0px',
      left: '0px',
      fontSize: '0.8em',
      fontFamily: 'Segoe UI'
    },
    attrs: {
      "data": _vm.emojiIndex,
      "exclude": _vm.exclude,
      "showPreview": false,
      "showSearch": false
    },
    on: {
      "select": _vm.insert_emoji
    }
  })], 1) : _vm._e()], 1)]), !_vm.streamMode && !_vm.mobile ? _c('div', {
    staticClass: "iconbutton emojipicker",
    on: {
      "click": function ($event) {
        return _vm.toggle_emoji_picker();
      }
    }
  }, [_c('div', {
    staticClass: "leftdummy"
  }, [_c('div', {
    staticClass: "idummy"
  }, [_vm.display_emoji ? _c('i', {
    staticClass: "fas fa-times"
  }) : _c('i', {
    staticClass: "far fa-smile"
  })])])]) : _vm._e(), _vm.streamMode && !_vm.me ? _c('div', {
    staticClass: "iconbutton",
    attrs: {
      "disabled": _vm.donate
    },
    on: {
      "click": _vm.donateAction
    }
  }, [_vm._m(0)]) : _vm._e(), _vm.send ? _c('div', {
    staticClass: "iconbutton",
    on: {
      "click": function ($event) {
        return _vm.send_text($event);
      }
    }
  }, [_vm._m(1)]) : _vm._e()]);
};
var InputFieldvue_type_template_id_7d91b437_scoped_true_staticRenderFns = [function () {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "rightdummy"
  }, [_c('div', {
    staticClass: "idummy"
  }, [_c('i', {
    staticClass: "icon donate"
  }, [_vm._v("Donate")])])]);
}, function () {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "rightdummy"
  }, [_c('div', {
    staticClass: "idummy"
  }, [_c('i', {
    staticClass: "far fa-paper-plane"
  })])]);
}];

// CONCATENATED MODULE: ./src/components/chat/input/InputField/InputField.vue?vue&type=template&id=7d91b437&scoped=true&

// EXTERNAL MODULE: ./src/application/utils/images.js
var utils_images = __webpack_require__("5059");

// EXTERNAL MODULE: ./node_modules/emoji-mart-vue-fast/dist/emoji-mart.js
var emoji_mart = __webpack_require__("41fb");

// EXTERNAL MODULE: ./node_modules/v-click-outside/dist/v-click-outside.umd.js
var v_click_outside_umd = __webpack_require__("c28b");
var v_click_outside_umd_default = /*#__PURE__*/__webpack_require__.n(v_click_outside_umd);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/input/picturePreview/picturePreview.vue?vue&type=template&id=67c83356&scoped=true&
var picturePreviewvue_type_template_id_67c83356_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _vm.is_opened ? _c('div', {
    staticClass: "wrapper"
  }, [_c('img', {
    staticClass: "preview-picture",
    attrs: {
      "src": _vm.base64,
      "alt": "picture preview"
    }
  }), _c('i', {
    staticClass: "fas fa-times fa-sm",
    on: {
      "click": _vm.hide
    }
  })]) : _vm._e();
};
var picturePreviewvue_type_template_id_67c83356_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/chat/input/picturePreview/picturePreview.vue?vue&type=template&id=67c83356&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/input/picturePreview/picturePreview.vue?vue&type=script&lang=js&
/* harmony default export */ var picturePreviewvue_type_script_lang_js_ = ({
  name: "picturePreview",
  props: ["base64"],
  data() {
    return {
      is_opened: true
    };
  },
  methods: {
    hide() {
      this.is_opened = false;
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/input/picturePreview/picturePreview.vue?vue&type=script&lang=js&
 /* harmony default export */ var picturePreview_picturePreviewvue_type_script_lang_js_ = (picturePreviewvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/chat/input/picturePreview/picturePreview.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__("3bb6")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  picturePreview_picturePreviewvue_type_script_lang_js_,
  picturePreviewvue_type_template_id_67c83356_scoped_true_render,
  picturePreviewvue_type_template_id_67c83356_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "67c83356",
  null
  ,true
)

/* harmony default export */ var picturePreview = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/input/InputField/InputField.vue?vue&type=script&lang=js&





let InputFieldvue_type_script_lang_js_images = new utils_images["a" /* default */]();
/* harmony default export */ var InputFieldvue_type_script_lang_js_ = ({
  name: "InputField",
  components: {
    Picker: emoji_mart["Picker"],
    picturePreview: picturePreview
  },
  directives: {
    clickOutside: v_click_outside_umd_default.a.directive
  },
  inject: ['streamMode'],
  watch: {
    text: {
      immediately: true,
      handler: function (current, prev) {
        if (current) {
          this.send = true;
          this.$emit("FilledInput");
        } else {
          this.send = false;
          this.$emit("emptyInput");
        }
        this.textarea_resize();
      }
    }
  },
  data() {
    return {
      send: false,
      ready: false,
      text: "",
      exclude: ["flags"],
      display_emoji: false,
      content_height: 26,
      pasted_data: [],
      block: false,
      upload: {
        multiple: true,
        extensions: ["image/jpg", "image/jpeg", "image/png"],
        images: {
          resize: {
            type: "fit"
          }
        }
      },
      hidden_previews: null,
      emojiIndex: null
    };
  },
  computed: {
    mobile: function () {
      return !this.$store.state.pocketnet && this.$store.state.mobile;
    }

    /*emojiIndex: function () {
    
    			return window.emojiIndex
    		}*/
  },

  methods: {
    prepareemoji: function () {
      if (!this.mobile) {
        if (window.emojiIndex) this.emojiIndex = window.emojiIndex;else {
          var emojidata = __webpack_require__("364d");
          window.emojiIndex = new emoji_mart["EmojiIndex"](emojidata);
          this.emojiIndex = window.emojiIndex;
        }
      }
    },
    setText: function (text) {
      this.text = text;
      this.savetextinstorage();
      setTimeout(() => {
        this.textarea_resize();
        this.focus();
      });
    },
    focused: function () {
      this.$emit("focused");
    },
    textchange: function (e) {
      this.text = e.target.value || "";
    },
    savetextinstorage: function () {
      if (this.storagekey) {
        localStorage[this.storagekey] = this.text || "";
      }
    },
    send_empty_array() {
      this.$emit("userSearched", []);
    },
    focus() {
      this.$refs["textarea"].focus();
    },
    blur() {
      this.$refs["textarea"].blur();
    },
    blurifempty() {
      if (!this.text) this.blur();
    },
    close_emoji_picker(event) {
      if (event.target.localName !== "i") {
        if (event.target.localName !== "matrix-element") {
          this.display_emoji = false;
          return false;
        }
      }
    },
    textarea_resize() {
      if (!this.text) {
        this.textarea_resize_reset();
      } else {
        this.$refs.textarea.style.height = 1 + "px";
        this.$refs.textarea.style.height = this.$refs.textarea.scrollHeight + "px";
        //this.display_emoji = false;
      }
    },

    textarea_resize_reset() {
      this.$refs.textarea.style.height = this.content_height + "px";
    },
    toggle_emoji_picker() {
      this.display_emoji = !this.display_emoji;
    },
    send_text(event) {
      if (this.text && this.text !== "\n") {
        this.display_emoji = false;
        this.$emit("chatMessage", this.text);
        this.$emit("emptyInput");
        this.send = false;
        this.text = "";
      }
      this.savetextinstorage();
    },
    insert_emoji(emoji) {
      this.text += emoji.native;
      this.savetextinstorage();
    },
    paste_image(event) {
      if (!this.streamMode) this.get_base64(event);
    },
    get_base64(event) {
      this.pasted_data = event.clipboardData.items;
      if (this.pasted_data.length) {
        for (let index in this.pasted_data) {
          let item = this.pasted_data[index];
          let correct_image_type = this.upload.extensions.includes(item.type);
          if (correct_image_type) {
            var blob = item.getAsFile();
            var reader = new FileReader();
            reader.onload = event => {
              this.$dialog.confirm("Do you really want to send attachment?", {
                okText: "Yes",
                cancelText: "No, cancel"
              }).then(dialog => {
                var base64 = event.target.result;
                this.resize_image(base64, item.type);
              });
            };
            reader.readAsDataURL(blob);
          }
        }
      }
    },
    resize_image(data, type) {
      return InputFieldvue_type_script_lang_js_images.autorotation(null, data).then(base64 => {
        let _type = this.upload.images.resize.type || "def";
        return InputFieldvue_type_script_lang_js_images.resize[_type](base64, 1024, 1024, type, 0.9).then(base64 => {
          this.$emit("base64", base64);
        }).catch(error => console.error("Failed to resize image", error));
      }).catch(error => console.error("Failed to resize image", error));
    },
    getsearchposition(position) {
      if (!position.start || !this.text.length) return null;
      var sposition = {
        start: position.start,
        middle: 0,
        end: position.end
      };
      var i = position.start;
      var dg = false;
      var br = false;
      var reg = /[a-zA-Z0-9]{1}/;
      sposition.middle = i;
      do {
        var char = this.text[i];
        if (char == "@") {
          if (position.start == i || i > 0 && reg.test(this.text[i - 1])) {
            br = true;
          } else {
            dg = true;
          }
        } else {
          if (reg.test(char)) {
            sposition.start = i;
          } else br = true;
        }
        i--;
      } while (i >= 0 && i <= position.start && !dg && !br);
      if (!dg) {
        sposition = null;
      } else {
        br = false;
        i = position.end;
        do {
          if (!this.text[i] || reg.test(this.text[i])) {
            sposition.end = i;
          } else {
            br = true;
          }
          i++;
        } while (i <= this.text.length && !br);
      }
      return sposition;
    },
    getsearch(position) {
      var sposition = this.getsearchposition(position);
      if (!sposition) return null;
      return this.text.substring(sposition.start, sposition.middle);
    },
    keydown(event) {
      if (event.keyCode === 40 || event.keyCode === 38) {
        if (this.tipusers && this.tipusers.length) {
          this.$emit("browsetip", event.keyCode === 40 ? true : false);
          event.preventDefault();
          return false;
        }
      }
      if (event.keyCode === 39 || event.keyCode === 13) {
        if (this.tipusers && this.tipusers.length) {
          this.$emit("selectcurrenttip");
          event.preventDefault();
          return false;
        }
      }
      if (event.keyCode === 13) {
        if (this.mobile) {
          this.text = this.text + "\n";
        } else {
          this.send_text(event);
        }
        event.preventDefault();
        return false;
      }
    },
    keyup(event) {
      if (this.block) {
        event.preventDefault();
        return false;
      }
      var position = functions["a" /* default */].getCaretPosition(this.$refs["textarea"]);
      var value = this.getsearch(position);
      this.$emit("tipsearchrequest", value);
      this.savetextinstorage();
    },
    blured() {
      setTimeout(() => {
        this.$emit("tipsearchrequest", null);
      }, 300);
    },
    inserttip(text) {
      this.$emit("tipsearchrequest", null);
      this.block = true;
      this.$refs["textarea"];
      var position = this.getsearchposition(functions["a" /* default */].getCaretPosition(this.$refs["textarea"]));
      this.text = this.text.substring(0, position.start) + text + this.text.substring(position.end + 1);
      if (!this.text[position.end + 1]) {
        this.text = this.text + " ";
      }
      if (!this.text[position.end + 1] == " ") position.end++;
      functions["a" /* default */].setCaretPosition(this.$refs["textarea"], position.end + 1, position.end + 1);
      setTimeout(() => {
        this.block = false;
      }, 350);
    },
    donateAction: function () {
      this.$emit("donateaction");
    }
  },
  props: {
    donate: Object,
    storagekey: String,
    tipusers: Array,
    me: Boolean
  },
  creared() {},
  mounted() {
    if (!this.mobile) {
      this.focus();
    }
    this.prepareemoji();
    this.$refs.textarea.style.height = "26px";
    if (this.storagekey && localStorage[this.storagekey]) {
      this.text = localStorage[this.storagekey];
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/input/InputField/InputField.vue?vue&type=script&lang=js&
 /* harmony default export */ var InputField_InputFieldvue_type_script_lang_js_ = (InputFieldvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/input/InputField/InputField.vue



function InputField_injectStyles (context) {
  
  var style0 = __webpack_require__("39ee")
if (style0.__inject__) style0.__inject__(context)
var style1 = __webpack_require__("e49a")
if (style1.__inject__) style1.__inject__(context)

}

/* normalize component */

var InputField_component = Object(componentNormalizer["a" /* default */])(
  InputField_InputFieldvue_type_script_lang_js_,
  InputFieldvue_type_template_id_7d91b437_scoped_true_render,
  InputFieldvue_type_template_id_7d91b437_scoped_true_staticRenderFns,
  false,
  InputField_injectStyles,
  "7d91b437",
  null
  ,true
)

/* harmony default export */ var InputField = (InputField_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/assets/recordVoice/index.vue?vue&type=template&id=16750db8&scoped=true&
var recordVoicevue_type_template_id_16750db8_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    staticClass: "recordButton_wrapper"
  }, [_c('div', {
    ref: "holder",
    staticClass: "recordButton_holder",
    class: {
      hold: _vm.isHold
    }
  }, [_c('i', {
    staticClass: "icon fas",
    class: _vm.isHold ? 'fa-lock' : 'fa-lock-open'
  })]), !_vm.isHold ? _c('div', {
    ref: "toggle",
    staticClass: "recordButton_micro recordButton_main",
    class: {
      active: _vm.isRecording,
      disabled: _vm.disabled
    },
    on: {
      "mousedown": _vm.mousedown,
      "mouseup": _vm.mouseup,
      "touchstart": _vm.handleTouchStart,
      "touchend": _vm.handleTouchEnd,
      "touchcancel": _vm.handleTouchEnd
    }
  }, [_c('i', {
    staticClass: "icon fas fa-microphone"
  })]) : _vm._e(), _vm.isHold ? _c('div', {
    ref: "stop",
    staticClass: "recordButton_stop recordButton_main",
    on: {
      "click": _vm.recordEnd
    }
  }, [_c('i', {
    staticClass: "icon fas fa-stop"
  })]) : _vm._e()]);
};
var recordVoicevue_type_template_id_16750db8_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/assets/recordVoice/index.vue?vue&type=template&id=16750db8&scoped=true&

// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js
var vuex_esm = __webpack_require__("2f62");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/assets/recordVoice?vue&type=script&lang=js&

/* harmony default export */ var recordVoice_vue_type_script_lang_js_ = ({
  name: "recordVoice",
  props: {
    isRecording: {
      type: Boolean,
      required: true
    },
    prepareRecording: {
      type: Boolean
    },
    disabled: Boolean
  },
  data() {
    return {
      start: 0,
      isHold: false,
      direction: null
    };
  },
  computed: {
    ...Object(vuex_esm["c" /* mapState */])({
      mobile: state => state.mobile
    })
  },
  mounted() {},
  beforeDestroy() {
    document.removeEventListener("mousemove", this.handleMove);
    document.removeEventListener("touchmove", this.handleMove);
    if (this.isRecording) {
      this.$emit("onRecordingStop", {
        cancel: true
      });
    }
  },
  methods: {
    mouseup: function (e) {
      if (!this.mobile) this.handleTouchEnd(e);
    },
    mousedown: function (e) {
      if (!this.mobile) this.handleTouchStart(e);
    },
    handleTouchStart(e) {
      if (!this.isRecording) {
        this.$emit("onRecordingStart");
      } else {
        if (this.isHold) return;
      }
      this.start = {
        Y: e.changedTouches ? e.changedTouches[0].pageY : e.pageY,
        X: e.changedTouches ? e.changedTouches[0].pageX : e.pageX
      };
      if (!this.mobile) document.addEventListener("mousemove", this.handleMove);else document.addEventListener("touchmove", this.handleMove);
    },
    handleTouchEnd(e) {
      if (this.isHold) return;
      if (this.isRecording || this.prepareRecording) {
        this.$emit("onRecordingStop", {
          sendnow: true
        });
      }
      document.removeEventListener("mousemove", this.handleMove);
      document.removeEventListener("touchmove", this.handleMove);
      this.clearStyle();
    },
    clearStyle() {
      if (this.$refs.toggle) {
        this.$refs.toggle.style.transform = `translate(0,0)`;
        this.$refs.toggle.classList.remove("outside");
      }
      if (this.$refs.holder) {
        this.$refs.holder.classList.remove("active");
      }
    },
    handleMove(e) {
      var _e$changedTouches;
      if (!this.isRecording) return;
      let deltaY = this.start.Y - e.pageY;
      let deltaX = this.start.X - e.pageX;
      if (e !== null && e !== void 0 && (_e$changedTouches = e.changedTouches) !== null && _e$changedTouches !== void 0 && _e$changedTouches.length) {
        deltaY = this.start.Y - e.changedTouches[0].pageY;
        deltaX = this.start.X - e.changedTouches[0].pageX;
      }
      if (deltaY > 5 && deltaX < 5) {
        this.direction = "Y";
      } else {
        this.direction = "X";
      }
      if (deltaY > 5 && this.direction === "Y") {
        if (!this.$refs.holder.classList.contains("active")) this.$refs.holder.classList.add("active");
        this.$refs.toggle.style.transform = `translate(0,-${deltaY}px)`;
        if (deltaY > 70) {
          this.$refs.toggle.style.transform = `translate(0,0)`;
          document.removeEventListener("mousemove", this.handleMove);
          document.removeEventListener("touchmove", this.handleMove);
          //document.removeEventListener('mouseup', this.handleTouchEnd)

          this.isHold = true;
        }
      } else if (deltaX > 5 && this.direction === "X") {
        this.$refs.toggle.style.transform = `translate(-${deltaX}px, 0)`;
        if (!this.$refs.holder.classList.contains("outside")) this.$refs.toggle.classList.add("outside");
        this.$emit("canceling", (deltaX - 5) / 130);
        if (deltaX > 130) {
          this.$refs.toggle.style.transform = `translate(0,0)`;
          document.removeEventListener("mousemove", this.handleMove);
          document.removeEventListener("touchmove", this.handleMove);
          //document.removeEventListener('mouseup', this.handleTouchEnd)
          this.$emit("onRecordingStop", {
            cancel: true
          });
          this.$emit("onClear");
        }
      } else {
        this.clearStyle();
      }
    },
    recordEnd(e) {
      this.clearStyle();
      if (this.isRecording && this.isHold) {
        this.$emit("onRecordingStop", {});
        this.isHold = false;
        return;
      }
    }
  }
});
// CONCATENATED MODULE: ./src/components/assets/recordVoice?vue&type=script&lang=js&
 /* harmony default export */ var assets_recordVoice_vue_type_script_lang_js_ = (recordVoice_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/assets/recordVoice/index.vue



function recordVoice_injectStyles (context) {
  
  var style0 = __webpack_require__("c7e3")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var recordVoice_component = Object(componentNormalizer["a" /* default */])(
  assets_recordVoice_vue_type_script_lang_js_,
  recordVoicevue_type_template_id_16750db8_scoped_true_render,
  recordVoicevue_type_template_id_16750db8_scoped_true_staticRenderFns,
  false,
  recordVoice_injectStyles,
  "16750db8",
  null
  ,true
)

/* harmony default export */ var recordVoice = (recordVoice_component.exports);
// EXTERNAL MODULE: ./src/components/contacts/list/index.vue + 9 modules
var list = __webpack_require__("f978");

// EXTERNAL MODULE: ./src/components/contacts/preview/index.vue + 4 modules
var preview = __webpack_require__("92a6");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"591f571a-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/assets/recordProgress/index.vue?vue&type=template&id=5df29904&scoped=true&
var recordProgressvue_type_template_id_5df29904_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    staticClass: "recordProgress"
  }, [_vm.isRecording ? _c('div', {
    staticClass: "indicatorWrapper"
  }, [_c('div', {
    staticClass: "indicator",
    class: {
      recording: _vm.isRecording
    }
  })]) : _c('div', {
    staticClass: "del",
    on: {
      "click": _vm.clear
    }
  }, [_c('i', {
    staticClass: "fas fa-trash"
  })]), _c('div', {
    staticClass: "timer"
  }, [_vm._v(_vm._s(_vm.timer))]), _c('div', {
    ref: "graph",
    staticClass: "graph"
  }, [_c('canvas', {
    ref: "canvas",
    attrs: {
      "id": "canvas",
      "width": _vm.width,
      "height": "20"
    }
  })]), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.isRecording && _vm.opacity,
      expression: "isRecording && opacity"
    }],
    ref: "cancel",
    staticClass: "cancel"
  }, [_c('span', [_vm._v("Slide left to cancel")])])]);
};
var recordProgressvue_type_template_id_5df29904_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/assets/recordProgress/index.vue?vue&type=template&id=5df29904&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/assets/recordProgress?vue&type=script&lang=js&
/* harmony default export */ var recordProgress_vue_type_script_lang_js_ = ({
  name: "recordProgress",
  props: {
    recordTime: {
      type: Number,
      required: true
    },
    rmsData: {
      type: Array,
      required: true
    },
    isRecording: {
      type: Boolean
    },
    opacity: {}
  },
  data() {
    return {
      width: 0
    };
  },
  computed: {
    timer() {
      let minute = Math.floor(this.recordTime / 60000);
      let sec = Math.floor(this.recordTime / 1000) % 60;
      return `${minute ? minute + ":" : "0:"}${sec < 10 ? "0" + sec : sec}`;
    },
    rmsDataLast() {
      return _.last(this.rmsData, 25);
    }
  },
  watch: {
    rmsData: _.throttle(function () {
      this.draw();
    }, 30),
    opacity: function () {
      this.$refs.cancel.style.opacity = this.opacity;
    }
  },
  mounted() {
    this.$refs.cancel.style.opacity = 0;
    let width = this.$refs.graph.offsetWidth;
    this.width = width - width % 100;
    window.addEventListener("resize", this.resize);
  },
  beforeDestroy() {
    window.removeEventListener("resize", this.resize);
  },
  methods: {
    resize() {
      let timer = null;
      var re = () => {
        if (!timer) {
          timer = setTimeout(() => {
            timer = null;
            let width = this.$refs.graph.offsetWidth;
            this.width = width - width % 100;
          }, 50);
        }
      };
      re();
    },
    draw() {
      if (!this.$refs.canvas) return;
      const ctx = this.$refs.canvas.getContext(`2d`);
      let x = 0;
      let count = 50;
      let width = 2; //this.width / 200
      var l = this.rmsDataLast.length;
      var c = Math.max(Math.floor(l / count), 1);
      ctx.clearRect(0, 0, this.width, 20);
      for (let i = 0; i < l; i = i + c) {
        ctx.fillStyle = "#00a4ff";
        ctx.fillRect(i * 2 * width, 10 - this.rmsDataLast[i] / 8, width, this.rmsDataLast[i] / 4 + 1);
      }
    },
    clear() {
      this.$emit("onClear");
    }
  }
});
// CONCATENATED MODULE: ./src/components/assets/recordProgress?vue&type=script&lang=js&
 /* harmony default export */ var assets_recordProgress_vue_type_script_lang_js_ = (recordProgress_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/assets/recordProgress/index.vue



function recordProgress_injectStyles (context) {
  
  var style0 = __webpack_require__("eee2")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var recordProgress_component = Object(componentNormalizer["a" /* default */])(
  assets_recordProgress_vue_type_script_lang_js_,
  recordProgressvue_type_template_id_5df29904_scoped_true_render,
  recordProgressvue_type_template_id_5df29904_scoped_true_staticRenderFns,
  false,
  recordProgress_injectStyles,
  "5df29904",
  null
  ,true
)

/* harmony default export */ var recordProgress = (recordProgress_component.exports);
// EXTERNAL MODULE: ./src/components/assets/upload/index.vue + 4 modules
var upload = __webpack_require__("6b57");

// EXTERNAL MODULE: ./node_modules/cancelable-promise/umd/CancelablePromise.js
var CancelablePromise = __webpack_require__("0bb9");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/input?vue&type=script&lang=js&


















/* harmony default export */ var input_vue_type_script_lang_js_ = ({
  name: "chatInput",
  props: {
    chat: Object,
    u: String,
    relationEvent: Object
  },
  components: {
    InputField: InputField,
    contacts: list["default"],
    preview: preview["a" /* default */],
    recordProgress: recordProgress,
    recordVoice: recordVoice,
    upload: upload["a" /* default */]
  },
  inject: ["streamMode", "authorId", "menuState"],
  data: function () {
    return {
      upload: true,
      test: [],
      loading: false,
      text: "",
      file: {},
      fileInfo: {},
      ready: false,
      creating: false,
      userId: "",
      showuserselect: null,
      anyUrlMeta: String,
      joinedMembers: [],
      tipvalue: null,
      tipuserindex: 0,
      record: null,
      recordRmsData: [],
      isRecording: false,
      mediaRecorder: null,
      audioContext: null,
      audioAnalyser: null,
      recordTime: 0,
      interval: null,
      cancelOpacity: 0,
      microphoneDisabled: false,
      prepareRecording: false,
      cancelledCordovaMediaRecorder: false,
      donate: null
    };
  },
  watch: {
    usersForKeysHash: {
      //immediate: true,
      handler: function () {}
    },
    tipusers: function () {
      if (!this.tipusers.length) {
        this.tipuserindex = 0;
      } else {
        if (this.tipuserindex > this.tipusers.length - 1) {
          this.tipuserindex = this.tipusers.length - 1;
        }
      }
    }
  },
  beforeDestroy() {
    if (this.audioContext) this.audioContext.close();
  },
  computed: {
    voiceEnable() {
      return this.$store.state.voiceMessagesEnabled;
    },
    connect: function () {
      return this.$store.state.contact;
    },
    pkoindisabled: function () {
      return this.$store.state.pkoindisabled;
    },
    menu: function () {
      var menuItems = [];
      if (window.POCKETNETINSTANCE && window.POCKETNETINSTANCE.mobile.supportimagegallery()) {
        menuItems.push({
          action: this.cameraHandlerCustom,
          text: "button.takePhotoOrVideo",
          icon: "fas fa-camera"
        });
      } else {
        menuItems.push({
          text: "button.takePhotoOrVideo",
          icon: "fas fa-camera",
          upload: {
            multiple: true,
            extensions: ["jpg", "jpeg", "png", "webp"],
            maxsize: 100,
            images: {
              resize: {
                type: "fit"
              }
            },
            start: this.uploadStart,
            error: this.uploadError,
            uploaded: this.uploadUploaded,
            uploadedAll: this.uploadUploadedAll
          }
        });
      }
      menuItems.push({
        text: "button.sendFile",
        icon: "fas fa-sticky-note",
        upload: {
          multiple: true,
          extensions: [],
          maxsize: 25,
          images: {
            resize: {
              type: "fit"
            }
          },
          start: this.uploadStart,
          error: this.uploadError,
          uploaded: this.uploadUploaded,
          uploadedAll: this.uploadUploadedAll
        }
      });
      if (this.transaction && !this.pkoindisabled) {
        menuItems.unshift({
          action: this.sendtransactionWrapper,
          text: "button.sendCoins",
          icon: "fas fa-wallet"
        });
      }
      return menuItems;
    },
    ...Object(vuex_esm["c" /* mapState */])(["chats"]),
    userlist: function () {
      if (!this.chat) return [];
      return this.core.mtrx.chatUsersInfo(this.chat.roomId, "anotherChatUsers");
    },
    transaction: function () {
      return functions["a" /* default */].deep(window, "POCKETNETINSTANCE.platform.ui.wallet.donate");
    },
    uusers: function () {
      if (this.u) {
        return _.map(this.u.split(","), u => {
          return u;
        });
      }
      return [];
    },
    ausers: function () {
      if (this.u) {
        return _.map(this.u.split(","), u => {
          return this.core.user.matrixId(u);
        });
      }
      return [];
    },
    stateChat: function () {
      var id = this.$route.query.id;
      return this.$store.state.chatsMap[id];
    },
    invited: function () {
      if (!this.chat) {
        if (this.u) return this.ausers;
        return [];
      }
      return _.map(_.filter(this.chat.currentState.getMembers(), function (m, v) {
        return m.membership === "invite";
      }), function (u) {
        return u.userId;
      });
    },
    joined: function () {
      if (!this.chat) return [];
      let roomId = this.chat.roomId;
      let self = this;
      let arr = [];
      let members = 0;
      this.chat.currentState.getMembers().forEach(function (user) {
        if (user.membership === "join") {
          arr.push(user.userId);
        }
      });
      return arr;
    },
    tipusers: function () {
      if (this.tipvalue === null) return [];
      if (this.tipvalue === "") return this.userlist;
      var value = this.tipvalue.toLowerCase();
      var u = _.filter(this.userlist, function (u) {
        return u.name.toLowerCase().indexOf(value) == 0 && u.name.toLowerCase() != value;
      });
      return u;
    },
    maintipuser: function () {
      if (this.tipusers.length) {
        return this.tipusers[this.tipuserindex || 0];
      }
      return null;
    },
    me() {
      var _this$core$user$useri;
      /* Compare author and user bastyon id to prevent donate myself */
      return this.authorId === ((_this$core$user$useri = this.core.user.userinfo) === null || _this$core$user$useri === void 0 ? void 0 : _this$core$user$useri.source.address);
    }
  },
  created() {},
  ///

  mounted() {
    this.ready = true;
    if (!this.chat && this.core.mtrx.client) {
      this.newchat().catch(e => {
        return Promise.resolve();
      });
    }
  },
  methods: {
    wait: function () {
      return this.$f.pretry(() => {
        return this.core.mtrx.client && this.core.mtrx.access;
      });
    },
    browsetip: function (increase) {
      increase ? this.tipuserindex++ : this.tipuserindex--;
      if (this.tipuserindex > this.tipusers.length - 1) {
        this.tipuserindex = 0;
      }
      if (this.tipuserindex < 0) {
        this.tipuserindex = this.tipusers.length - 1;
      }
    },
    selectcurrenttip: function () {
      this.insertuser(this.tipusers[this.tipuserindex || 0]);
    },
    insertuser: function () {
      let user = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var name = user.name || "";
      this.$refs["newinput"].inserttip(name);
    },
    tipBySearch: function (value) {
      this.tipvalue = value;
    },
    showuserselected: function (contact, action) {
      this[action](contact);
    },
    resizeImage: function (base64) {
      var ftype = base64.split(";")[0].split("/")[1];
      var images = new utils_images["a" /* default */]();
      return images.resize["fit"](base64, 1024, 1024, ftype, 0.95).then(base64 => {
        return Promise.resolve(base64);
      }).catch(e => {
        return Promise.reject(e);
      });
    },
    cameraHandlerCustom: function () {
      var result = [];
      window.POCKETNETINSTANCE.platform.ui.uploadImage({
        multiple: true,
        action: (_ref, resolve) => {
          let {
            base64
          } = _ref;
          return this.resizeImage(base64).then(base64 => {
            return functions["a" /* default */].Base64.toFile(base64).then(file => {
              var data = {
                base64,
                file
              };
              result.push(data);
              this.uploadUploaded(null, data);
              resolve();
            });
          }).catch(e => {
            console.error(e);
            resolve();
          });
        },
        onSuccess: imgs => {
          this.uploadUploadedAll();
        }
      });
    },
    sendtransactionWrapper: function () {
      var users = (() => {
        if (this.streamMode && this.authorId) {
          /* Donate only to author (stream mode) */
          return [{
            id: this.authorId,
            source: {
              address: this.authorId
            }
          }];
        } else {
          /* Donate to chat participants */
          return _.filter(_.map(this.joined, j => {
            return this.$f.deep(this, "$store.state.users." + this.$f.getmatrixid(j)) || null;
          }), r => {
            var _this$core$user$useri2;
            return r && r.source && r.id != ((_this$core$user$useri2 = this.core.user.userinfo) === null || _this$core$user$useri2 === void 0 ? void 0 : _this$core$user$useri2.id);
          });
        }
      })();
      if (!users.length) {
        return "users.length";
      }
      if (users.length > 1) {
        this.core.store.commit("setmodal", {
          caption: this.$i18n.t("caption.sendTransactionTo"),
          type: "showuserselect",
          data: {
            users: users,
            action: "sendtransaction",
            userselected: c => {
              this.showuserselected(c, "sendtransaction");
            }
          }
        });

        /*this.showuserselect = {
          users : users,
          action : 'sendtransaction'
        }*/
      } else {
        this.sendtransaction(users[0]);
      }
    },
    sendtransaction: function (user) {
      if (this.donate) return;
      var api = this.transaction;

      //TODO get address and send transaction

      api({
        roomid: this.chat.roomId,
        receiver: user.source.address,
        send: !this.streamMode,
        share: !this.streamMode
      }).then(transaction => {
        if (this.streamMode) this.donate = transaction;
      });
    },
    removetransaction: function () {
      this.donate = null;
    },
    emitInputData: function () {
      this.$emit("emptyInput");
      this.upload = true;
    },
    HideUploadPic() {
      this.upload = false;
    },
    emitUrl: function (url) {
      this.$emit("setMetaUrl", url);
    },
    newchat() {
      if (this.u) {
        this.$store.state.globalpreloader = true;
        var matrixId = null;
        var myMatrixId = null;
        var chat = null;
        var id = "";
        this.creating = true;
        return this.core.user.usersInfo(this.uusers).then(info => {
          if (this.uusers.length == 1) {
            var _info = info[0];
            if (!_info || !_info.keys || _info.keys.length < 12) {
              this.$emit("cantchatcrypto");
              return Promise.reject("ny2");
            }
          }
          if (this.core.user.userinfo.keys.length < 12) {
            this.$emit("cantchatcrypto");
            return Promise.reject("ny2");
          }

          //return Promise.reject('ny3')

          id = this.core.mtrx.kit.tetatetid(info[0], this.core.user.userinfo);
          matrixId = this.core.user.matrixId(info[0].id);
          myMatrixId = this.core.user.matrixId(this.core.user.userinfo.id);
          var initialstate = [{
            type: "m.set.encrypted",
            state_key: "",
            content: {
              encrypted: true
            }
          }];
          return this.core.mtrx.client.createRoom({
            room_alias_name: id,
            visibility: "private",
            invite: [matrixId],
            name: "#" + id,
            initial_state: initialstate
          });
        }).then(_chat => {
          chat = _chat;
          this.$store.state.globalpreloader = false;
          let m_chat = this.core.mtrx.client.getRoom(_chat.room_id);
          let event = m_chat.currentState.getStateEvents("m.room.power_levels");
          return this.core.mtrx.client.setPowerLevel(chat.room_id, matrixId, 100, event[0]).catch(e => {});
        }).then(r => {
          this.creating = false;
          if (this.connect && this.connect == id) {
            this.greetings();
          }
          this.$store.commit("CONTACT", false);
          return Promise.resolve();
        }).catch(e => {
          this.creating = false;
          this.$store.state.globalpreloader = false;
          if (e && e.errcode == "M_ROOM_IN_USE") {
            return this.core.mtrx.client.joinRoom("#" + id + ":" + this.core.mtrx.baseUrl.replace("https://", "")).then(() => {}).catch(e => {});
          }
          return Promise.reject(e);
        });
      } else {
        return Promise.reject("u");
      }
    },
    maySendMessage() {
      return this.chat && this.chat.maySendMessage();
    },
    greetings() {
      this.send("👋").then(r => {
        return Promise.resolve(r);
      });
    },
    sendinput(text) {
      this.send(text).then(r => {
        return Promise.resolve(r);
      });
    },
    textCutLimit: function (text, limit) {
      text = text.trim();
      if (text.length <= limit) return text;
      text = text.slice(0, limit);
      return text.trim() + "...";
    },
    replaceMentions(text) {
      _.each(this.userlist, function (user) {
        text = text.replace(new RegExp("@" + user.name, "g"), "@" + user.id + ":" + user.name);
      });
      return text;
    },
    clbkEncrypt() {
      this.$emit('encrypt');
    },
    clbkEncrypted() {
      this.$emit('encrypted');
    },
    send(text) {
      var _this = this;
      if (!this.chat) {
        this.newchat().catch(e => {});
      }

      //return this.chat.pcrypto.getOrCreateCommonKey()

      //return this.chat.pcrypto.sendCommonKey()

      //return

      this.$emit("sending");
      if (!this.relationEvent) {
        this.focus();
      }
      return this.$f.pretry(() => {
        return this.chat && !this.creating;
      }).then( /*#__PURE__*/function () {
        var _ref2 = Object(asyncToGenerator["a" /* default */])(function* (r) {
          _this.$emit("sent");
          text = _this.replaceMentions(text);
          if (_this.relationEvent) {
            if (_this.relationEvent.type == "m.replace" && _this.relationEvent.event) {
              return _this.core.mtrx.textEvent(_this.chat, text, {
                encryptEvent: _this.clbkEncrypt,
                encryptedEvent: _this.clbkEncrypted
              }).then(r => {
                r["m.relates_to"] = {
                  rel_type: "m.replace",
                  event_id: _this.core.mtrx.clearEventId(_this.relationEvent.event) || functions["a" /* default */].makeid()
                };
                var editEvent = r;
                _this.relationEvent.event.event.content.body = r.body;
                _this.relationEvent.event.event.content.block = r.block;
                _this.relationEvent.event.event.content.msgtype = r.msgtype;
                delete _this.relationEvent.event.event.decryptKey;
                delete _this.relationEvent.event.event.decrypted;
                return _this.core.mtrx.client.sendEvent(_this.chat.roomId, "m.room.message", editEvent);
              }).then(r => {
                _this.core.store.dispatch("FETCH_EVENTS");
                _this.$emit("clearRelationEvent");
                _this.$emit("force");
                return Promise.resolve();
              }).catch(e => {
                console.error(e);
                return Promise.reject(e);
              });
            }
          }
          const sendText = (text, params) => {
              return _this.core.mtrx.sendtext(_this.chat, text, Object.assign({
                relation: _this.relationEvent
              }, params || {}), {
                encryptEvent: _this.clbkEncrypt,
                encryptedEvent: _this.clbkEncrypted
              });
            },
            data = {};
          if (_this.donate) {
            const donate = Object.assign(_this.donate, {});
            _this.removetransaction();
            const txid = yield donate.send();
            data.donateLink = txid;
          }
          return sendText(text, data);
        });
        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      }()).catch(e => {
        this.$emit("sentMessageError", {
          error: e
        });
      });
    },
    pasteImage(data) {
      this.sendImage({
        base64: data
      });
    },
    sendImage: function (_ref3) {
      let {
        base64,
        file
      } = _ref3;
      var id = functions["a" /* default */].makeid();
      var meta = {
        type: "image",
        id: id,
        base64: base64
      };
      this.$emit("sendingData", meta);
      //setTimeout(() => {
      this.$f.pretry(() => {
        return this.chat;
      }).then(() => {
        if (meta.aborted) return Promise.reject("aborted");
        return this.core.mtrx.sendImage(this.chat, base64, null, meta, {
          relation: this.relationEvent
        });
      }).then(r => {
        this.$emit("clearRelationEvent");
        this.$emit("sentData", {
          id: id
        });
        return Promise.resolve();
      }).catch(e => {
        console.error(e);
        this.$emit("sentError", {
          id: id,
          error: e
        });
        return Promise.resolve();
      });
      //}, 5000)
    },

    canencryptfilesize: function (file) {
      var s = 10 * 1024 * 1024;
      if (!this.chat.pcrypto.canBeEncrypt()) {
        return Promise.resolve(false);
      }
      if (file.size > s) {
        return this.$dialog.confirm("Files larger than 10 megabytes are not encrypted. Do you want to send the file unencrypted?", {
          okText: "Yes",
          cancelText: "No, cancel"
        }).then(dialog => {
          return Promise.resolve(true);
        }).catch(e => {
          return Promise.reject("cancel");
        });
      }
      return Promise.resolve(false);
    },
    sendFile: function (_ref4) {
      let {
        file
      } = _ref4;
      var id = functions["a" /* default */].makeid();
      var meta = {
        type: "file",
        id: id,
        info: {
          name: file.name,
          size: file.size
        }
      };
      this.$emit("sendingData", meta);
      this.$f.pretry(() => {
        return this.chat;
      }).then(() => {
        return this.canencryptfilesize(file);
      }).then(notenc => {
        return this.core.mtrx.sendFile(this.chat, file, meta, {
          relation: this.relationEvent
        }, notenc);
      }).then(() => {
        this.$emit("clearRelationEvent");
        this.$emit("sentData", {
          id: id
        });
        return Promise.resolve();
      }).catch(e => {
        console.error(e);
        this.$emit("sentError", {
          id: id,
          error: e
        });
      });
    },
    focus: function () {
      if (this.$refs["newinput"]) this.$refs["newinput"].focus();
    },
    focused: function () {
      this.$emit("focused");
    },
    blur: function () {
      if (this.$refs["newinput"]) this.$refs["newinput"].blur();
    },
    blurifempty: function () {
      if (this.$refs["newinput"]) this.$refs["newinput"].blurifempty();
    },
    change: function () {},
    setText: function (text) {
      this.text = text;
      if (this.$refs["newinput"]) this.$refs["newinput"].setText(text);
    },
    keyup: function (evt) {
      var value = evt.target.value;
      if (value === "") {
        this.$emit("inputClean", false);
        return;
      } else {
        this.$emit("inputClean", true);
      }
      this.text = value;
      this.anyUrlMeta = functions["a" /* default */].getUrl(this.text);
      if (this.anyUrlMeta !== undefined) {
        this.$emit("setMetaUrl", this.anyUrlMeta);
      } else {
        this.$emit("inputClean", false);
      }
      if (this.chat) this.core.mtrx.client.sendTyping(this.chat.roomId, true, 100);
    },
    uploadStart(item, files) {},
    uploadError(item, error) {
      this.$store.commit("icon", {
        icon: "error",
        message: error.text
      });
    },
    getImg() {
      return this.imgs = true;
    },
    uploadSizeError(value) {
      if (!value) {}
    },
    uploadUploaded(item, data) {
      const validImageTypes = ["image/gif", "image/jpeg", "image/png", "image/webp"];
      if (!validImageTypes.includes(data.file.type)) {
        this.sendFile(data);
      } else {
        return this.sendImage(data);
      }
    },
    imageWH(file) {
      const img = new Image();
      var imgInfo = {};
      return new Promise((resolve, reject) => {
        img.onload = function () {
          imgInfo.w = this.width;
          imgInfo.h = this.height;
          resolve(imgInfo);
        };
        img.onerror = function (e) {
          reject(e);
        };
        img.src = file.base64;
      });
    },
    uploadUploadedAll(item, result) {
      this.$store.state.loading = false;
    },
    catchPermissonsError(err) {
      if (err == "permissions" || err.toString && err.toString().indexOf("Permission") > -1) {
        this.microphoneDisabled = true;
        if (window.cordova) {
          this.$dialog.confirm(this.$i18n.t("micaccesscordova"), {
            okText: this.$i18n.t("button.ok")
          });
        } else {
          this.$dialog.confirm(this.$i18n.t("micaccessbrowser"), {
            okText: this.$i18n.t("button.ok")
          });
        }
        return;
      }
      if (err.toString && err.toString().indexOf("device not found") > -1) {
        this.$dialog.confirm(this.$i18n.t("micdevicenotfound"), {
          okText: this.$i18n.t("button.ok")
        });
        return;
      }
      this.$dialog.confirm(this.$i18n.t("micaccesscommonproblem"), {
        okText: this.$i18n.t("button.ok")
      });
      console.error(err);
    },
    getFileIosCordova(path) {
      return new Promise((resolve, reject) => {
        window.resolveLocalFileSystemURL(path, entry => {
          if (!entry) {
            return reject("noentry");
          }
          entry.file(file => {
            var reader = new FileReader();
            reader.onloadend = function () {
              var blob = new Blob([new Uint8Array(this.result)], {
                type: file.type
              });
              entry.remove();
              resolve(blob);
            };
            reader.onerror = e => {
              entry.remove();
              reject(e);
            };
            reader.readAsArrayBuffer(file);
          });
        }, e => {
          reject(e);
        });
      });
    },
    initRecordingCordova() {
      this.prepareRecording = Object(CancelablePromise["cancelable"])(this.core.media.permissions({
        audio: true
      }).then(() => {
        this.microphoneDisabled = false;
        return Promise.resolve();
      }).catch(err => {
        console.error(err);
        this.catchPermissonsError(err);
        return Promise.reject(err);
      }));
      this.prepareRecording.then(() => {
        this.microphoneDisabled = false;
        var path = "recording.mp3";
        if (functions["a" /* default */].isios()) path = "cdvfile://localhost/temporary/recording.m4a";
        var sec = 0;
        this.audioContext = this.core.getAudioContext();

        //var startedTime = (new Date()).getTime() / 1000

        var media = this.cordovaMediaRecorder = new Media(path, () => {
          this.recordTime = 0;
          media.release();
          if (this.cancelledCordovaMediaRecorder) {
            this.cancelledCordovaMediaRecorder = false;
            return;
          }
          var fu = null;

          /*if(f.isios()){ */

          fu = this.getFileIosCordova(functions["a" /* default */].isios() ? path : window.cordova.file.externalDataDirectory + path).then(blob => {
            return Promise.resolve({
              data: blob
            });
          });

          /*}
          else{
          fu = f.fetchLocal(path)
          }*/

          fu.then(r => {
            ///temp
            /*if (f.isios())
            r.duration = (new Date()).getTime() / 1000 - startedTime
            console.log("R", r)
            /*var e = {
            data : r.data
            }*/

            if (media.duration && media.duration > 0) {
              r.duration = media.duration;
            }
            this.createVoiceMessage(r, true);
            return Promise.resolve();
          }).catch(e => {
            this.clear();
            console.error(e);
          }).finally(() => {});
        }, e => {
          console.error(e);
          this.isRecording = false;
          this.clear();
        });
        var rmsdata = [];
        let currentPlaying = this.$store.state.currentPlayingVoiceMessage;
        if (currentPlaying) {
          currentPlaying.pause();
        }
        this.interval = setInterval(() => {
          // get media amplitude

          if (functions["a" /* default */].isios()) {
            rmsdata.push(1);
            if (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);
            this.recordRmsData = _.clone(rmsdata);
          } else {
            this.cordovaMediaRecorder.getCurrentAmplitude(
            // success callback
            amp => {
              rmsdata.push(amp * 1000);
              if (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);
              this.recordRmsData = _.clone(rmsdata);
            }, function (e) {
              console.log("E", e);
            });
          }
          sec = sec + 50;
          if (sec % 1000 === 0) this.recordTime = sec;
        }, 50);
        this.isRecording = true;
        this.cancelOpacity = 0;
        this.recordRmsData = [];
        this.recordTime = 0;
        this.record = null;
        this.cordovaMediaRecorder.startRecord();
      }).catch(e => {
        console.error(e);
      }).finally(() => {
        this.prepareRecording = null;
      });
    },
    initRecording() {
      if (this.prepareRecording || this.isRecording || this.cordovaMediaRecorder) return;
      if (window.cordova && !functions["a" /* default */].isios()) {
        return this.initRecordingCordova();
      }
      this.prepareRecording = Object(CancelablePromise["cancelable"])(this.core.initMediaRecorder().then(recorder => {
        this.microphoneDisabled = false;
        if (this.prepareRecording) {
          return Promise.resolve(recorder);
        } else {
          recorder.stream.getTracks().forEach(track => {
            track.stop();
          });
        }
      }).catch(err => {
        this.catchPermissonsError(err);
        return Promise.reject(err);
      }));
      this.prepareRecording.then(recorder => {
        this.mediaRecorder = recorder;
        this.audioContext = this.core.getAudioContext();
        this.audioAnalyser = this.audioContext.createAnalyser();

        //var audioDataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount)

        var src = this.audioContext.createMediaStreamSource(this.mediaRecorder.stream);
        src.connect(this.audioAnalyser);
        this.startRecording();
      }).catch(() => {}).finally(() => {
        this.prepareRecording = null;
      });
    },
    startRecording() {
      let currentPlaying = this.$store.state.currentPlayingVoiceMessage;
      if (currentPlaying) {
        currentPlaying.pause();
      }
      this.$store.commit("SET_VOICERECORDING", true);
      this.isRecording = true;
      this.cancelOpacity = 0;
      this.recordRmsData = [];
      this.recordTime = 0;
      this.record = null;
      this.mediaRecorder.start();
      var sec = 0;
      var rmsdata = [];
      this.interval = setInterval(() => {
        var dataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount);
        this.audioAnalyser.getByteFrequencyData(dataArray);
        rmsdata.push(this.generateRms(dataArray));
        if (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);
        sec = sec + 50;
        this.recordRmsData = _.clone(rmsdata);
        if (sec % 1000 === 0) {
          this.recordTime = sec;
        }
      }, 50);
    },
    checkaudioForSend: function (record, sendnow) {
      if (record.duration < 1) {
        this.clear();
      } else {
        if (sendnow) {
          this.sendVoiceMessage(record);
        } else {
          this.record = record;
        }
      }
    },
    getduration(file) {
      return new Promise((resolve, reject) => {
        functions["a" /* default */].readFile(file).then(arraybuffer => {
          try {
            this.audioContext.decodeAudioData(arraybuffer, buffer => {
              resolve(buffer.duration);
            });
          } catch (e) {
            reject(e);
          }
        }).catch(reject);
      });
    },
    createVoiceMessage(event, sendnow) {
      var c = () => {
        //this.record =

        this.checkaudioForSend({
          file: event.data,
          id: functions["a" /* default */].makeid(),
          duration: event.duration
        }, sendnow);
      };
      if (event.duration) {
        c();
      } else {
        this.getduration(event.data).then(duration => {
          event.duration = duration;
          c();
        }).catch(e => {
          console.error(e);
          this.clear();
        });
      }

      /*f.readFile(event.data).then(arraybuffer => {
      			console.log('arraybuffer', arraybuffer)
      			this.audioContext.decodeAudioData(arraybuffer, (buffer) => {
      				console.log('this.record', this.record)
      		console.log('this.buffer', buffer)
      		
      				this.record = {
      			file: event.data,
      			id: f.makeid()
      		}
      				this.record.duration = buffer.duration
      				this.checkaudioForSend(sendnow)
      			})
      		}).catch(e => {
      	console.error('e', e)
      	this.clear()
      	//
      })*/
    },

    generateRms(frequencies) {
      return +Math.sqrt(frequencies.reduce((a, b) => a + b ** 2) / frequencies.length).toPrecision(4);
    },
    stopRecording(_ref5) {
      let {
        cancel,
        sendnow
      } = _ref5;
      this.$store.commit("SET_VOICERECORDING", false);
      if (this.prepareRecording) {
        this.prepareRecording.cancel();
        this.prepareRecording = null;
        return;
      }
      this.isRecording = false;
      if (this.interval) {
        clearInterval(this.interval);
        this.interval = null;
      }
      if (this.mediaRecorder) {
        if (cancel) {
          //this.mediaRecorder.ondataavailable = () => { }
        } else {
          var hasdata = false;
          this.mediaRecorder.addEventListener("dataavailable", event => {
            if (hasdata) return;
            hasdata = true;
            this.createVoiceMessage(event, sendnow);
          }); //ondataavailable = (event) => this.createVoiceMessage(event, sendnow)
        }

        this.mediaRecorder.stop();
        this.mediaRecorder.stream.getTracks().forEach(track => {
          track.stop();
        });
        this.mediaRecorder = null;
      }
      if (this.cordovaMediaRecorder) {
        if (cancel) {
          this.cancelledCordovaMediaRecorder = true;
        } else {
          this.cancelledCordovaMediaRecorder = false;
        }
        this.cordovaMediaRecorder.stopRecord();
        this.cordovaMediaRecorder = null;
      }
    },
    sendVoiceMessage(record) {
      var _this2 = this;
      return Object(asyncToGenerator["a" /* default */])(function* () {
        if (!record) record = _this2.record;
        if (!record) {
          _this2.clear();
        }
        _this2.recordRmsData = [];
        const base64 = yield _this2.core.convertAudioToBase64(record.file);
        const id = functions["a" /* default */].makeid();
        const meta = {
          type: "audio",
          id: id,
          base64: base64
        };
        _this2.clear();
        _this2.$f.pretry(() => {
          return _this2.chat;
        }).then(() => {
          return _this2.core.mtrx.sendAudio(_this2.chat, base64, null, meta, {
            relation: _this2.relationEvent
          });
        }).then(() => {
          _this2.$emit("clearRelationEvent");
        }).catch(e => {
          _this2.$emit("sentError", {
            id: id,
            error: e
          });
          return Promise.resolve();
        });
      })();
    },
    clear() {
      this.record = null;
      this.recordRmsData = [];
      this.recordTime = 0;
      if (this.interval) {
        clearInterval(this.interval);
        this.interval = null;
      }
      if (this.cordovaMediaRecorder) {
        this.cordovaMediaRecorder = null;
      }
      if (this.mediaRecorder) {
        this.mediaRecorder.stop();
        this.mediaRecorder.stream.getTracks().forEach(track => {
          track.stop();
        });
        this.mediaRecorder = null;
      }

      /*if (this.audioContext){
      	this.audioContext.close()
      }*/
    },

    /*async convertAudioToBase64(blob) {
    	const reader = new FileReader()
    	reader.readAsDataURL(blob)
    	return new Promise(resolve => {
    		reader.onloadend = () => {
    			resolve(reader.result)
    		}
    	})
    },*/

    setOpacity(opacity) {
      this.cancelOpacity = opacity;
    },
    showinputmenu: function () {
      /*this.core.menu({
      	items: this.menu,
      });*/
      this.menuState.set({
        items: this.menu
      });
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/input?vue&type=script&lang=js&
 /* harmony default export */ var chat_input_vue_type_script_lang_js_ = (input_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/input/index.vue



function input_injectStyles (context) {
  
  var style0 = __webpack_require__("a3e2")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var input_component = Object(componentNormalizer["a" /* default */])(
  chat_input_vue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  input_injectStyles,
  "efa2321a",
  null
  ,true
)

/* harmony default export */ var input = __webpack_exports__["default"] = (input_component.exports);

/***/ })

}]);
//# sourceMappingURL=matrix-element.12.js.map