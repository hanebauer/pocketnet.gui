(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[12],{"5dae":function(t,a,e){"use strict";e.r(a);var n=e("be87");for(var i in n)["default"].indexOf(i)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(i)},9394:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.chat?e("div",{staticClass:"page "},[e("topheader",{staticClass:"topheader"}),e("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[e("settings",{attrs:{chat:t.chat}})]},proxy:!0}],null,!1,32150248)})],1):t._e()},i=[],c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"chatTopheader"}},[e("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[e("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[e("span",[t._v(t._s(t.$t("caption.settings")))])]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])})],1)},o=[],r={methods:{}},s=r,p=e("2877"),d=Object(p["a"])(s,c,o,!1,null,null,null,!0),u=d.exports,h=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:{minimized:t.minimized,active:t.active},attrs:{id:"chatSettings"}},[e("div",{staticClass:"chatSettingAbout"},[e("div",{class:{chatIconWrapper:"chatIconWrapper",noSwipe:!0}},[e("chatIcon",{attrs:{slidesPerView:4,dontuseslides:t.minimized&&!t.active,chat:t.chat,m_chat:t.m_chat,hideunseen:!0}})],1),e("div",{staticClass:"chatNameEdit"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.m_chat.name,expression:"m_chat.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.m_chat.name},on:{input:function(a){a.target.composing||t.$set(t.m_chat,"name",a.target.value)}}})]),t.topic?e("div",{staticClass:"chatDescription"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.topicTxt,expression:"topicTxt"}],attrs:{type:"text",placeholder:"Description",maxlength:"74"},domProps:{value:t.topicTxt},on:{input:function(a){a.target.composing||(t.topicTxt=a.target.value)}}})]):t._e(),e("button",{staticClass:"button small rounded inSettings",on:{click:function(a){return t.saveEdited()}}},[t._v(" "+t._s(t.$t("button.save"))+" ")])])])},l=[],m=e("2f62"),v=e("3094"),g={data:function(){return{pubChat:Object,topicTxt:"",topic:!1}},props:{chat:Object,saveClicked:!1},components:{chatIcon:v["a"]},computed:Object(m["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},auth:function(t){return t.auth},m_chat:function(){return this.core.mtrx.client.getRoom(this.chat.roomId)},shareRoomLink:function(){return"https://".concat(this.core.domain,"/publicPreview/welcome?connect=").concat(this.chat.roomId.replace("!","%"))}}),mounted:function(){"public"===this.m_chat.getJoinRule()&&(this.getPublicRoom(),this.topic=!0)},methods:{saveEdited:function(){this.core.mtrx.client.setRoomName(this.m_chat.roomId,"@"+this.m_chat.name.replace(/[@]*/g,"")),this.core.mtrx.client.setRoomTopic(this.chat.roomId,this.topicTxt.replace(/ /g,"_")).then((function(t){return t}))},getPublicRoom:function(){var t=this;this.core.mtrx.client.publicRooms().then((function(a){t.pubChat=a.chunk.filter((function(a){return a.room_id===t.chat.roomId}))[0],t.pubChat["topic"]&&(t.topicTxt=t.pubChat["topic"].replace(/_/g," "))}))}}},f=g;function b(t){var a=e("5dae");a.__inject__&&a.__inject__(t)}var x=Object(p["a"])(f,h,l,!1,b,"7aa76c33",null,!0),_=x.exports,w={name:"chatSettings",data:function(){return{}},components:{topheader:u,settings:_},computed:{chat:function(){return this.$store.state.chatsMap[this.$route.query.id.replace("%","!")]}},methods:{}},k=w,I=Object(p["a"])(k,n,i,!1,null,null,null,!0);a["default"]=I.exports},bcd5:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".inSettings[data-v-7aa76c33]{margin:30px auto;display:block}.chatIconWrapper[data-v-7aa76c33]{width:120px}.linkPlace[data-v-7aa76c33]{margin-top:30px;padding:.5em 0;cursor:pointer;border-top:1px solid rgb(var(--background-main))}.linkPlace span[data-v-7aa76c33]{font-size:1em;display:block;text-align:left;max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.linkPlace .shareLink[data-v-7aa76c33]:hover{color:rgb(var(--color-txt-ac))}.chatSettingAbout[data-v-7aa76c33]{padding:1em 0}.chatSettingAbout .chatNameEdit[data-v-7aa76c33]{margin-top:1em}.chatSettingAbout .chatNameEdit input[data-v-7aa76c33]{padding:1em;display:block;width:100%}.chatSettingAbout .chatNameEdit input[data-v-7aa76c33],.chatSettingAbout .chatNameEdit input[data-v-7aa76c33]:focus{border-bottom:1px solid rgb(var(--neutral-grad-1));border-top:1px solid rgb(var(--neutral-grad-1))}.chatSettingAbout .chatDescription textarea[data-v-7aa76c33]{font-size:.9em;display:block;width:100%;resize:none;padding:1em}.chatIconWrapper[data-v-7aa76c33]{width:90%;margin:0 auto;padding:.5em 0}.chatIconWrapper[data-v-7aa76c33] .swiperWrapperFlex .imageSwiper{width:100px;height:100px;line-height:100px}.chatIconWrapper[data-v-7aa76c33] .swiperWrapperFlex{padding-bottom:1em}.chatIconWrapper[data-v-7aa76c33] .fourAvatars,.chatIconWrapper[data-v-7aa76c33] .threeAvatars,.chatIconWrapper[data-v-7aa76c33] .twoAvatars{width:50%;padding-bottom:50%;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);background:rgba(var(--background-total-theme),.3)}.chatIconWrapper[data-v-7aa76c33] .oneuser{width:50%;margin:0 auto}.chatIconWrapper[data-v-7aa76c33] .bgimage{box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.minimized:not(.active) .chatDescription[data-v-7aa76c33],.minimized:not(.active) .chatNameEdit[data-v-7aa76c33]{display:none}.minimized[data-v-7aa76c33]:not(.active) .chatIconWrapper{width:52px;margin:0}",""]),t.exports=a},be87:function(t,a,e){var n=e("bcd5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("35d6").default;t.exports.__inject__=function(t){i("b5f79bc6",n,t)}}}]);
//# sourceMappingURL=matrix-element.12.min.js.map