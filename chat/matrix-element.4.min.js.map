{"version":3,"sources":["webpack:///./src/components/chat/topheader/index.sass?2378","webpack:///./src/components/chats/assets/typing.vue?26bd","webpack:///./src/views/chat.vue?1f7a","webpack:///./src/components/chats/assets/typing.vue","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue","webpack:///node_modules/vue-spinner/src/PulseLoader.vue","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?cb84","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?c620","webpack:///src/components/chats/assets/typing.vue","webpack:///./src/components/chats/assets/typing.vue?646f","webpack:///./src/components/chats/assets/typing.vue?e86c","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?4540","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?b3ae","webpack:///./src/components/chats/assets/typing.vue?b017","webpack:///./src/views/chat.vue?a5df","webpack:///./node_modules/vue-spinner/src/PulseLoader.vue?5545","webpack:///./src/views/chat.vue?8112","webpack:///./src/components/chats/assets/typing.vue?c037","webpack:///./src/components/chat/topheader/index.sass","webpack:///./src/views/chat.vue","webpack:///./src/components/chat/topheader/index.vue","webpack:///./src/components/chat/topheader/index.js","webpack:///./src/components/chat/topheader","webpack:///./src/components/chat/topheader/index.vue?6aab","webpack:///src/views/chat.vue","webpack:///./src/views/chat.vue?27e3","webpack:///./src/views/chat.vue?ddb2","webpack:///./src/components/chat/topheader/index.sass?c863"],"names":["content","__esModule","default","module","i","locals","exports","add","__inject__","shadowRoot","render","_vm","this","_c","_self","staticClass","staticStyle","_v","_s","$t","attrs","color","size","staticRenderFns","directives","name","rawName","value","loading","expression","style","spinnerStyle","spinnerDelay1","spinnerDelay2","spinnerDelay3","props","type","margin","radius","data","backgroundColor","width","height","borderRadius","display","animationName","animationDuration","animationIterationCount","animationTimingFunction","animationFillMode","animationDelay","injectStyles","context","style0","component","components","PulseLoader","methods","computed","___CSS_LOADER_API_IMPORT___","push","class","mobile","hideHeader","ios","key","k","u","chat","search","focusedevent","processid","processresult","on","searching","addMemberModal","tosearchevent","scopedSlots","_u","fn","ref","toevent","sending","newchat","creatorLeft","eventsRoom","menuIsVisibleHandler","toeventscrolled","proxy","openInviteModal","closeModal","roomId","closeContactModal","_e","_setupProxy","tosearch","m_chat","roomInfo","roomMuted","m_chat_typing","userinfo","callsEnabled","isCallsActive","isGroup","checkCallsEnabled","wait","bcCall","searchactive","backfromsearch","searchControlKey","searchresults","length","focusedeventIndex","tobottomsearch","toupsearch","Object","String","aboutUser","process","inject","chatName","chatIcon","chatTyping","contacts","menuItems","click","title","$i18n","t","icon","menuItemsRoom","menuItemsRoomMuted","oneToOne","oneToOneMuted","donateMenu","typing","aboutUserShow","roomBanned","donateUserOpened","receiver","donationAmount","donationMessage","calculatedFees","showFeesError","showTransactionError","calculatingFees","feesDirection","feesDirectionPossibleValues","label","hoverEncrypt","watch","mounted","getuserinfo","mapState","_","find","e","index","event","event_id","state","isCallsEnabled","$store","ChatStatuses","enabled","isWaiting","slice","auth","pushRules","core","mtrx","client","_pushProcessor","getPushRuleById","getRoom","userTyping","user","id","totalDonationAmount","$emit","$router","catch","setTimeout","$refs","focus","str","$dialog","confirm","okText","cancelText","then","sendStateEvent","requestCallsAccess","local","document","querySelector","bastyonCalls","initCall","matrixCall","console","log","accepted","navigateToProfile","path","f","getmatrixid","usersInfo","info","findOtherUser","my","myUserId","members","currentState","getMembers","forEach","member","userId","addMember","modalInviteUser","menuItemClickHandler","item","rowObject","dropdownMenu","hidePopup","deviceId","self","deletePushRule","setRoomMutePushRule","leave","r","forget","commit","banUserId","banUser","roomID","ban","unban","invite","receiverObj","$f","deep","closeDonateModal","onCalculateFeesClick","calculateFees","finally","Promise","resolve","reject","source","address","sdk","window","POCKETNETINSTANCE","platform","node","fee","estimate","fees","outputs","amount","wallet","txbase","pnet","err","inputs","_outputs","error","tx","transactions","create","totalFees","Math","min","virtualSize","feerate","sendDonation","get","canSpend","currentBalance","isNaN","embed","cantspend","send","d","releaseCS","ids","map","txid","clearUnspents","saveTempInfoWallet","sendEvent","from","to","txId","msgtype","resetDonation","topheader","events","brokenRoom","hastoeventscrolled","hasprocesscleared","searchchanged","pocketnet","minimized","beforeDestroy","immediate","handler","pretry","searchingProcess","results","processcleared","leaveIfBroken"],"mappings":"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","file":"matrix-element.4.min.js","sourcesContent":["export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=66e7a2eb&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5d90cea9\", content, shadowRoot)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=0&id=193bd206&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"70a04820\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"typingBlock\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"typingBlockWrapper\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t(\"caption.typing\")))])]),_c('div',[_c('PulseLoader',{attrs:{\"color\":_vm.color,\"size\":_vm.size,\"loading\":true}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"v-spinner\"},[_c('div',{staticClass:\"v-pulse v-pulse1\",style:([_vm.spinnerStyle,_vm.spinnerDelay1])}),_c('div',{staticClass:\"v-pulse v-pulse2\",style:([_vm.spinnerStyle,_vm.spinnerDelay2])}),_c('div',{staticClass:\"v-pulse v-pulse3\",style:([_vm.spinnerStyle,_vm.spinnerDelay3])})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"v-spinner\" v-show=\"loading\">\n    <div class=\"v-pulse v-pulse1\" v-bind:style=\"[spinnerStyle,spinnerDelay1]\">\n    </div><div class=\"v-pulse v-pulse2\" v-bind:style=\"[spinnerStyle,spinnerDelay2]\">\n    </div><div class=\"v-pulse v-pulse3\" v-bind:style=\"[spinnerStyle,spinnerDelay3]\">\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  \n  name: 'PulseLoader',\n\n  props: {\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    color: { \n      type: String,\n      default: '#5dc596'\n    },\n    size: {\n      type: String,\n      default: '15px'\n    },\n    margin: {\n      type: String,\n      default: '2px'\n    },\n    radius: {\n      type: String,\n      default: '100%'\n    }\n  },\n  data () {\n    return {\n      spinnerStyle: {\n      \tbackgroundColor: this.color,\n      \twidth: this.size,\n        height: this.size,\n      \tmargin: this.margin,\n      \tborderRadius: this.radius,\n        display: 'inline-block',\n        animationName: 'v-pulseStretchDelay',\n        animationDuration: '0.75s',\n        animationIterationCount: 'infinite',\n        animationTimingFunction: 'cubic-bezier(.2,.68,.18,1.08)',\n        animationFillMode: 'both'\n      },\n      spinnerDelay1: {\n        animationDelay: '0.12s'\n      },\n      spinnerDelay2: {\n        animationDelay: '0.24s'\n      },\n      spinnerDelay3: {\n        animationDelay: '0.36s'\n      }\n    }\n  }\n\n}\n</script>\n\n<style>\n/*.v-spinner\n{\n    margin: 100px auto;\n    text-align: center;\n}\n*/\n\n@-webkit-keyframes v-pulseStretchDelay\n{\n    0%,\n    80%\n    {\n        -webkit-transform: scale(1);\n                transform: scale(1);\n        -webkit-opacity: 1;             \n                opacity: 1;\n    }\n    45%\n    {\n        -webkit-transform: scale(0.1);\n                transform: scale(0.1);\n        -webkit-opacity: 0.7;             \n                opacity: 0.7;\n    }\n}\n\n@keyframes v-pulseStretchDelay\n{\n    0%,\n    80%\n    {\n        -webkit-transform: scale(1);\n                transform: scale(1);\n        -webkit-opacity: 1;             \n                opacity: 1;\n    }\n    45%\n    {\n        -webkit-transform: scale(0.1);\n                transform: scale(0.1);\n        -webkit-opacity: 0.7;             \n                opacity: 0.7;\n    }\n}\n</style>","import mod from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./PulseLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./PulseLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PulseLoader.vue?vue&type=template&id=7dc0198c&\"\nimport script from \"./PulseLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./PulseLoader.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./PulseLoader.vue?vue&type=style&index=0&id=7dc0198c&prod&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","<template>\r\n\t<div style=\"position: relative\" class=\"typingBlock\">\r\n\t\t<div class=\"typingBlockWrapper\">\r\n\t\t\t<div>\r\n\t\t\t\t<span>{{ $t(\"caption.typing\") }}</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<PulseLoader :color=\"color\" :size=\"size\" :loading=\"true\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport PulseLoader from \"vue-spinner/src/PulseLoader.vue\";\r\n\r\nexport default {\r\n\tname: \"typing\",\r\n\r\n\tprops: {},\r\n\tcomponents: {\r\n\t\tPulseLoader,\r\n\t},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tcolor: \"#868686\",\r\n\t\t\tsize: \"2px\",\r\n\t\t\tloading: true,\r\n\t\t};\r\n\t},\r\n\tmethods: {},\r\n\tcomputed: {},\r\n};\r\n</script>\r\n<style lang=\"sass\">\r\n\r\n.typingBlock\r\n  position: relative\r\n\r\n  .typingBlockWrapper\r\n    position: absolute\r\n    left: 50%\r\n    transform: translateX(-50%)\r\n    top: -5px\r\n    display: flex\r\n    align-items: center\r\n\r\n    >div\r\n      padding : 0 $r\r\n\r\n    span\r\n      font-size: 0.7em\r\n      color : srgb(--neutral-grad-3)\r\n      opacity: 0.8\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./typing.vue?vue&type=template&id=d22cd0ca&\"\nimport script from \"./typing.vue?vue&type=script&lang=js&\"\nexport * from \"./typing.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../vue-style-loader/index.js??ref--7-oneOf-1-0!../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../postcss-loader/src/index.js??ref--7-oneOf-1-3!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./PulseLoader.vue?vue&type=style&index=0&id=7dc0198c&prod&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--7-oneOf-1-2!../../postcss-loader/src/index.js??ref--7-oneOf-1-3!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./PulseLoader.vue?vue&type=style&index=0&id=7dc0198c&prod&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"9a086d26\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".topheader[data-v-193bd206]{width:100%;top:0;z-index:999}.aboutContact[data-v-193bd206]{position:absolute;left:0;right:0;top:100px;bottom:0;z-index:999;background:#fff}.chat.mobile[data-v-193bd206] #maincontent .headerSpacerWrapper{bottom:0;overflow:visible}.chat.mobile[data-v-193bd206] #maincontent .headerSpacerWrapperOvf{overflow:visible}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@keyframes v-pulseStretchDelay{0%,80%{transform:scale(1);-webkit-opacity:1;opacity:1}45%{transform:scale(.1);-webkit-opacity:.7;opacity:.7}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=style&index=0&id=193bd206&prod&scoped=true&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".call[data-v-66e7a2eb]{font-size:.8em;outline:none;position:relative;-webkit-tap-highlight-color:transparent}.call[data-v-66e7a2eb]:after{content:\\\"\\\";display:block;width:100%;height:100%;opacity:0;transition:all .5s;box-shadow:0 0 10px 40px rgba(var(--neutral-grad-2),.4)}.call[data-v-66e7a2eb]:active:after,.call[data-v-66e7a2eb]:after{position:absolute;border-radius:4em;left:0;top:0}.call[data-v-66e7a2eb]:active:after{box-shadow:0 0 0 0 rgba(var(--neutral-grad-2),.4);opacity:1;transition:0s}.call.disabled[data-v-66e7a2eb]{color:rgb(var(--neutral-grad-1));cursor:not-allowed}.call.disabled[data-v-66e7a2eb]:after{display:none}.call.wait[data-v-66e7a2eb]{color:rgb(var(--color-star-yellow));cursor:not-allowed}.call.wait[data-v-66e7a2eb]:after{display:none}.nameWrapper[data-v-66e7a2eb]{display:flex;align-items:center;justify-content:center}.roomMuted[data-v-66e7a2eb]{margin-left:.25em;color:rgb(var(--neutral-grad-4))}.roomMuted i[data-v-66e7a2eb]{font-size:.8em}.editButton[data-v-66e7a2eb]{display:flex;justify-content:center;align-items:center}.editButton i[data-v-66e7a2eb]{font-size:1.5em}.nameline[data-v-66e7a2eb],[data-v-66e7a2eb] .nameline{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[data-v-66e7a2eb] .nameline{max-width:250px}[data-v-66e7a2eb] #topheader.minimized.fix{background:transparent;overflow:inherit}[data-v-66e7a2eb] #search{padding-left:.5em;padding-right:.5em}.donationModalBody[data-v-66e7a2eb]{padding:1em;display:flex;flex-direction:column}.donationModalBody span[data-v-66e7a2eb]{color:rgb(var(--color-txt-ac))}.donationModalBody input[data-v-66e7a2eb],.donationModalBody select[data-v-66e7a2eb]{margin-top:.5em;margin-bottom:1.5em;border:1px solid rgb(var(--color-txt-ac));border-radius:3px;padding:.5em}.donationModalBody input.disabled[data-v-66e7a2eb],.donationModalBody select.disabled[data-v-66e7a2eb]{color:rgb(var(--neutral-grad-2));border:1px solid rgba(var(--neutral-grad-2),.5)}.donationModalBody button[data-v-66e7a2eb]{margin-top:1em}.donationModalBody button i[data-v-66e7a2eb]{margin-right:.2em}.donationModalBody .totalAmount[data-v-66e7a2eb]{font-weight:700;margin-left:.5em;margin-top:.5em;margin-bottom:1em}.donationModalBody .error[data-v-66e7a2eb]{color:rgb(var(--color-bad));text-align:center}.donationModalBody .linepreloader[data-v-66e7a2eb]{text-align:center;height:29px;margin-top:1em}#simpleSearch .matches[data-v-66e7a2eb]{display:flex;align-items:center;height:100%}#simpleSearch .matches i[data-v-66e7a2eb],#simpleSearch .matches span[data-v-66e7a2eb]{font-size:.8em;padding:.5em}#simpleSearch .matches i[data-v-66e7a2eb]{cursor:pointer}#simpleSearch .matches i[data-v-66e7a2eb]:hover{color:rgb(var(--color-txt-ac))}.encrypted[data-v-66e7a2eb]{z-index:2;color:rgb(var(--color-good));padding:.25em .5em}.encrypted i[data-v-66e7a2eb]{font-size:.8em;cursor:pointer}.encryptedInfo[data-v-66e7a2eb]{cursor:default;margin-left:-25px;position:absolute;top:50%;transform:translateY(-50%);z-index:9999;display:flex;justify-content:center;align-items:center;flex-direction:column}.encryptedInfo #slide[data-v-66e7a2eb]{border-radius:8px;padding:0 .5em;position:absolute;left:0;background:#fff;-webkit-animation:slide-66e7a2eb .1s forwards;-webkit-animation-delay:.3s;animation:slide-66e7a2eb .1s forwards;animation-delay:.3s;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}@keyframes slide-66e7a2eb{to{left:0}}.encryptedInfo button[data-v-66e7a2eb]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;text-align:left}.encryptedInfo button i[data-v-66e7a2eb]{margin-right:5px}.encryptedInfo .encryptedTxtIcon[data-v-66e7a2eb]{flex-direction:column;align-items:center;justify-content:center;padding:.25em .25em;text-align:center}.encryptedInfo .encryptedTxtIcon span[data-v-66e7a2eb]{color:rgb(var(--color-good));font-size:.8em}.encryptedInfo .encryptedTxtIcon i[data-v-66e7a2eb]{color:rgb(var(--color-good));display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page chat\",class:{ mobile: _vm.mobile }},[_c('topheader',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hideHeader || !_vm.ios),expression:\"!hideHeader || !ios\"}],key:_vm.k,staticClass:\"topheader\",attrs:{\"u\":_vm.u,\"chat\":_vm.chat,\"search\":_vm.search,\"focusedevent\":_vm.focusedevent,\"process\":_vm.processid,\"searchresults\":_vm.processresult},on:{\"searching\":_vm.searching,\"addMember\":_vm.addMemberModal,\"tosearchevent\":_vm.tosearchevent}}),_c('maincontent',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('chat',{key:_vm.k,ref:\"chat\",attrs:{\"u\":_vm.u,\"chat\":_vm.chat,\"toevent\":_vm.toevent,\"search\":_vm.search,\"searchresults\":_vm.processresult},on:{\"sending\":_vm.sending,\"newchat\":_vm.newchat,\"removeBrokenRoom\":_vm.creatorLeft,\"getEvents\":_vm.eventsRoom,\"menuIsVisible\":_vm.menuIsVisibleHandler,\"toeventscrolled\":_vm.toeventscrolled}})]},proxy:true}])}),(_vm.openInviteModal)?_c('modal',{on:{\"close\":_vm.closeModal},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.$t(\"caption.inviteUser\")))])]},proxy:true},{key:\"body\",fn:function(){return [_c('contacts',{attrs:{\"mode\":`inviteUsers`,\"chatRoomId\":_vm.chat.roomId},on:{\"closeModal\":_vm.closeContactModal}})]},proxy:true},{key:\"footer\",fn:function(){return undefined},proxy:true}],null,false,1321158477)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{attrs:{\"id\":\"chatTopheader\"}},[(_vm.chat || _vm.u)?_c('topheader',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('backButton',{attrs:{\"action\":\"chats\"}})]},proxy:true},{key:\"leftadd\",fn:function(){return [_c('div',{staticClass:\"iconbuttonsmall\",on:{\"click\":_vm.tosearch}},[_c('i',{staticClass:\"fas fa-search\"})])]},proxy:true},{key:\"info\",fn:function(){return [(_vm.chat)?_c('router-link',{attrs:{\"to\":'chatInfo?id=' + _vm.chat.roomId}},[(_vm.m_chat)?_c('div',[_c('div',{staticClass:\"nameWrapper\"},[(!_vm.roomInfo)?_c('chatName',{attrs:{\"preview\":true,\"chat\":_vm.chat,\"m_chat\":_vm.m_chat}}):_vm._e(),(_vm.roomMuted)?_c('div',{staticClass:\"roomMuted\"},[_c('i',{staticClass:\"fas fa-bell-slash\"})]):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.m_chat_typing)?_c('chatTyping'):_vm._e()],1)],1):_vm._e(),(!_vm.m_chat && _vm.userinfo)?_c('div',[_c('span',{staticClass:\"nameline\"},[_vm._v(_vm._s(_vm.userinfo.name))])]):_vm._e()]):_vm._e()]},proxy:true},(_vm.callsEnabled && _vm.m_chat)?{key:\"rightadd\",fn:function(){return [(_vm.isCallsActive && !_vm.isGroup)?_c('div',{staticClass:\"call btn iconbutton\",class:_vm.checkCallsEnabled === 'wait' || _vm.wait\n\t\t\t\t\t\t? 'wait'\n\t\t\t\t\t\t: _vm.checkCallsEnabled\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: 'disabled',attrs:{\"title\":_vm.checkCallsEnabled === 'wait' || _vm.wait\n\t\t\t\t\t\t? _vm.$t('caption.wait')\n\t\t\t\t\t\t: _vm.checkCallsEnabled\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: _vm.$t('caption.disabled')},on:{\"click\":_vm.bcCall}},[_c('i',{staticClass:\"fas fa-video\"})]):_vm._e()]},proxy:true}:null,{key:\"right\",fn:function(){return [(_vm.chat)?_c('router-link',{attrs:{\"to\":'chatInfo?id=' + _vm.chat.roomId}},[_c('div',{staticClass:\"iconbutton\"},[_c('i',{staticClass:\"fas fa-ellipsis-h\"})])]):_vm._e()]},proxy:true}],null,true)}):_vm._e(),(_vm.chat && _vm.searchactive)?_c('topheader',{attrs:{\"classstyle\":\"noiconsButWithL\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('backButton',{on:{\"back\":_vm.backfromsearch}})]},proxy:true},{key:\"info\",fn:function(){return [_c('simpleSearch',{ref:\"search\",attrs:{\"value\":_vm.search,\"controlKeys\":true},on:{\"search\":_vm.searching,\"controlKey\":_vm.searchControlKey},scopedSlots:_vm._u([(_vm.searchresults && _vm.searchresults.length)?{key:\"default\",fn:function(){return [_c('div',{staticClass:\"matches\"},[_c('span',{staticClass:\"current-match\"},[_vm._v(_vm._s(_vm.searchresults.length - (_vm.focusedeventIndex))+\"/\"+_vm._s(_vm.searchresults.length))]),_c('i',{staticClass:\"prev-match fas fa-chevron-up\",on:{\"click\":_vm.tobottomsearch}}),_c('i',{staticClass:\"next-match fas fa-chevron-down\",on:{\"click\":_vm.toupsearch}})]),(_vm.search)?_c('div',{staticClass:\"iconWrapper\",on:{\"click\":() => {_vm.searching('')}}},[_c('i',{staticClass:\"fas fa-times\"})]):_vm._e()]},proxy:true}:null],null,true)})]},proxy:true}],null,false,3516297580)}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\r\n\r\nimport chatName from \"@/components/chats/assets/name.vue\";\r\nimport chatIcon from \"@/components/chats/assets/icon.vue\";\r\nimport chatTyping from \"@/components/chats/assets/typing.vue\";\r\nimport contacts from \"@/components/contacts/index.vue\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"chatTopheader\",\r\n\tprops: {\r\n\t\tchat: Object,\r\n\t\tu: String,\r\n\t\troomInfo: false,\r\n\t\taboutUser: false,\r\n\t\tsearch : String,\r\n\t\tprocess : String,\r\n\t\tsearchresults : null,\r\n\t\tfocusedevent : null\r\n\t},\r\n\tinject: [\"matches\"],\r\n\tcomponents: {\r\n\t\tchatName,\r\n\t\tchatIcon,\r\n\t\tchatTyping,\r\n\t\tcontacts,\r\n\t},\r\n\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tmenuItems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"callupVideoHandler\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.videocall\"),\r\n\t\t\t\t\ticon: \"fas fa-camera\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"callupHandler\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.call\"),\r\n\t\t\t\t\ticon: \"fas fa-phone\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tmenuItemsRoom: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"AddMember\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.add\"),\r\n\t\t\t\t\ticon: \"fas fa-user-plus\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"MuteRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.mute\"),\r\n\t\t\t\t\ticon: \"fas fa-bell-slash\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"LeaveFromRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.leaveAndDelete\"),\r\n\t\t\t\t\ticon: \"fas fa-sign-out-alt\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tmenuItemsRoomMuted: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"AddMember\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.add\"),\r\n\t\t\t\t\ticon: \"fas fa-user-plus\",\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"MuteRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.unmute\"),\r\n\t\t\t\t\ticon: \"fas fa-bell\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"LeaveFromRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.leaveAndDelete\"),\r\n\t\t\t\t\ticon: \"fas fa-sign-out-alt\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\toneToOne: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"MuteRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.mute\"),\r\n\t\t\t\t\ticon: \"fas fa-bell-slash\",\r\n\t\t\t\t},\r\n\t\t\t\t/*{\r\n          click: \"LeaveFromRoom\",\r\n          title: \"Leave and Delete\",\r\n          icon: \"fas fa-sign-out-alt\"\r\n        },*/\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"Donate\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.donate\"),\r\n\t\t\t\t\ticon: \"fas fa-money-bill-wave\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\toneToOneMuted: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"MuteRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.unmute\"),\r\n\t\t\t\t\ticon: \"fas fa-bell\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"LeaveFromRoom\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.leaveAndDelete\"),\r\n\t\t\t\t\ticon: \"fas fa-sign-out-alt\",\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"Donate\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.donate\"),\r\n\t\t\t\t\ticon: \"fas fa-money-bill-wave\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdonateMenu: [\r\n\t\t\t\t{\r\n\t\t\t\t\tclick: \"Donate\",\r\n\t\t\t\t\ttitle: this.$i18n.t(\"caption.donate\"),\r\n\t\t\t\t\ticon: \"fas fa-money-bill-wave\",\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\twait: false,\r\n\t\t\tloading: false,\r\n\t\t\ttyping: false,\r\n\t\t\tuserinfo: null,\r\n\t\t\taboutUserShow: false,\r\n\t\t\troomBanned: false,\r\n\t\t\troomMuted: false,\r\n\t\t\tsearchactive : false,\r\n\r\n\t\t\t// --- Variables for the donation part ---\r\n\t\t\t// Boolean when the donation modal is open\r\n\t\t\tdonateUserOpened: false,\r\n\t\t\t// Object containing the receiver informations\r\n\t\t\treceiver: null,\r\n\t\t\t// How much PKOIN we want to donate\r\n\t\t\tdonationAmount: 0,\r\n\t\t\t// Optional message for the transaction\r\n\t\t\tdonationMessage: \"\",\r\n\t\t\t// Calculated fees needed for the transaction\r\n\t\t\tcalculatedFees: null,\r\n\t\t\t// Booleans to show errors\r\n\t\t\tshowFeesError: \"\",\r\n\t\t\tshowTransactionError: \"\",\r\n\t\t\t// Booleans to show spinners\r\n\t\t\tcalculatingFees: false,\r\n\t\t\tsending: false,\r\n\t\t\t// To choose by who the fee should be payed by\r\n\t\t\tfeesDirection: \"include\",\r\n\t\t\tfeesDirectionPossibleValues: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: \"include\",\r\n\t\t\t\t\tlabel: this.$i18n.t(\"caption.toBePaidByReceiver\"),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: \"exclude\",\r\n\t\t\t\t\tlabel: this.$i18n.t(\"caption.toBePaidBySender\"),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\thoverEncrypt: false,\r\n\t\t};\r\n\t},\r\n\r\n\twatch: {\r\n\t\t//$route: 'getdata'\r\n\t},\r\n\r\n\tmounted: function () {\r\n\t\tthis.getuserinfo();\r\n\r\n\t\tif (this.search) {\r\n\t\t\tthis.searchactive = true\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: mapState({\r\n\t\tfocusedeventIndex: function(){\r\n\t\t\tif(!this.searchresults || !this.focusedevent){\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\r\n\t\t\tvar i = -1\r\n\t\t\t\r\n\t\t\t_.find(this.searchresults, (e, index) => {\r\n\t\t\t\tif(e.event.event_id == this.focusedevent.event.event_id) {\r\n\t\t\t\t\ti = index\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}) \r\n\r\n\t\t\t//if (i < 1) i = 1\r\n\r\n\t\t\treturn i\r\n\t\t},\r\n\t\tcallsEnabled: (state) => state.isCallsEnabled,\r\n\r\n\t\tcheckCallsEnabled: function () {\r\n\t\t\tif (\r\n\t\t\t\tthis.$store.state.ChatStatuses[this.m_chat.roomId]?.enabled\r\n\t\t\t) {\r\n\t\t\t\tthis.wait = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}else if (\r\n\t\t\t\tthis.$store.state.ChatStatuses[this.m_chat.roomId]?.isWaiting\r\n\t\t\t) {\r\n\t\t\t\treturn \"wait\";\r\n\t\t\t} else {\r\n\t\t\t\tthis.wait = false;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tisGroup: function () {\r\n\t\t\treturn this.m_chat?.name.slice(0, 1) === \"@\";\r\n\t\t},\r\n\r\n\t\tauth: (state) => state.auth,\r\n\r\n\t\tisCallsActive: (state) => state.isCallsActive,\r\n\r\n\t\tm_chat: function () {\r\n\t\t\tif (this.chat && this.chat.roomId) {\r\n\t\t\t\tlet pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(\r\n\t\t\t\t\tthis.chat.roomId\r\n\t\t\t\t);\r\n\t\t\t\tif (pushRules !== null) {\r\n\t\t\t\t\tthis.roomMuted = true;\r\n\t\t\t\t}\r\n\t\t\t\tvar m_chat = this.core.mtrx.client.getRoom(this.chat.roomId);\r\n\t\t\t\treturn m_chat || {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tm_chat_typing: function () {\r\n\t\t\tif (!this.chat) return false;\r\n\r\n\t\t\tvar chat = this.chat.roomId;\r\n\t\t\tvar typing = this.$store.state.typing[chat] || {};\r\n\r\n\t\t\tvar userTyping = _.find(typing, (t, i) => {\r\n\t\t\t\tif (t) {\r\n\t\t\t\t\tif (i == this.core.user.userinfo?.id) return false;\r\n\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn userTyping || false;\r\n\t\t},\r\n\r\n\t\ttotalDonationAmount: function () {\r\n\t\t\treturn this.feesDirection == \"include\"\r\n\t\t\t\t? this.donationAmount\r\n\t\t\t\t: this.donationAmount + this.calculatedFees;\r\n\t\t},\r\n\t}),\r\n\tmethods: {\r\n\t\tsearchControlKey : function(key){\r\n\t\t\tif(key == 'up') this.tobottomsearch()\r\n\t\t\tif(key == 'down') this.toupsearch()\r\n\r\n\t\t},\r\n\t\ttoupsearch : function(){\r\n\r\n\t\t\tif(!this.searchresults) return \r\n\r\n\t\t\tvar i = this.focusedeventIndex\r\n\r\n\t\t\tif (i <= this.searchresults.length - 2){\r\n\t\t\t\tthis.$emit('tosearchevent', this.searchresults[this.focusedeventIndex + 1])\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.$emit('tosearchevent', this.searchresults[0])\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\ttobottomsearch : function(){\r\n\r\n\t\t\tif(!this.searchresults && this.searchresults.length) return \r\n\r\n\t\t\tvar i = this.focusedeventIndex\r\n\t\t\tif (i > 0) this.$emit('tosearchevent', this.searchresults[this.focusedeventIndex - 1])\r\n\t\t\telse this.$emit('tosearchevent', this.searchresults[this.searchresults.length - 1])\r\n\t\t},\r\n\t\tbackfromsearch : function(){\r\n\t\t\tif (this.process){\r\n\t\t\t\tthis.$router.push(\"chats?process=\" + this.process).catch((e) => {});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.searchactive = false\r\n\t\t\t\tthis.searching('')\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttosearch : function(){\r\n\t\t\tthis.searchactive = true\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif(this.$refs.search) this.$refs.search.focus()\r\n\t\t\t}, 100)\r\n\t\t},\r\n\r\n\t\tsearching : function(str){\r\n\t\t\tthis.$emit('searching', str)\r\n\r\n\t\t\tif(!str){\r\n\t\t\t\tthis.searchactive = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbcCall: function () {\r\n\t\t\tif (!this.checkCallsEnabled) {\r\n\t\t\t\tthis.$dialog\r\n\t\t\t\t\t.confirm(this.$t(\"caption.request\"), {\r\n\t\t\t\t\t\tokText: this.$t(\"yes\"),\r\n\t\t\t\t\t\tcancelText: this.$t(\"cancel\"),\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.core.mtrx.client.sendStateEvent(\r\n\t\t\t\t\t\t\tthis.chat.roomId,\r\n\t\t\t\t\t\t\t\"m.room.callsEnabled\",\r\n\t\t\t\t\t\t\t{ enabled: true },\r\n\t\t\t\t\t\t\tthis.core.user.userinfo.id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tthis.wait = true;\r\n\t\t\t\t\t\tthis.requestCallsAccess();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\treturn;\r\n\t\t\t} else if (this.checkCallsEnabled === \"wait\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet local = document.querySelector(\"body\");\r\n\r\n\t\t\tthis.core.mtrx.bastyonCalls.initCall(\r\n\t\t\t\tthis.chat.roomId,\r\n\t\t\t\tlocal\r\n\t\t\t).then((matrixCall) => {\r\n\r\n\t\t\t\tconsole.log('matrixCall', matrixCall)\r\n\r\n\t\t\t\t// if (matrixCall) this.$store.dispatch(\"CALL\", matrixCall);\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tconsole.log(\"error\", e);\r\n\t\t\t})\r\n\r\n\t\t},\r\n\r\n\t\trequestCallsAccess() {\r\n\t\t\tthis.core.mtrx.client.sendStateEvent(\r\n\t\t\t\tthis.m_chat.roomId,\r\n\t\t\t\t\"m.room.request_calls_access\",\r\n\t\t\t\t{ accepted: null }\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tnavigateToProfile(id) {\r\n\t\t\tthis.$router\r\n\t\t\t\t.push({ path: `/contact?id=${f.getmatrixid(id)}` })\r\n\t\t\t\t.catch((e) => {});\r\n\t\t},\r\n\t\tgetuserinfo: function () {\r\n\t\t\tif (this.u) {\r\n\t\t\t\tthis.core.user.usersInfo(this.u).then((info) => {\r\n\t\t\t\t\tthis.userinfo = info[0];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Return the another member in the chat\r\n\t\t// (it returns the last one, so make sense only for the one to one chat)\r\n\t\t// If no user found, return undefined\r\n\t\tfindOtherUser: function () {\r\n\t\t\tlet my = this.m_chat.myUserId;\r\n\t\t\tlet receiver;\r\n\t\t\tlet members = this.m_chat.currentState.getMembers();\r\n\t\t\tmembers.forEach(function (member) {\r\n\t\t\t\tif (member && member.userId !== my) receiver = member;\r\n\t\t\t});\r\n\t\t\treturn receiver;\r\n\t\t},\r\n\t\taddMember() {\r\n\t\t\tthis.modalInviteUser();\r\n\t\t},\r\n\t\tmenuItemClickHandler(item, rowObject) {\r\n\t\t\tif (item.click === \"AddMember\") {\r\n\t\t\t\tthis.$emit(\"addMember\", true);\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t}\r\n\r\n\t\t\tif (item.click === \"MuteRoom\") {\r\n\t\t\t\tvar roomId = this.chat.roomId;\r\n\t\t\t\tvar deviceID = this.core.mtrx.client.deviceId;\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tlet pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(\r\n\t\t\t\t\tthis.chat.roomId\r\n\t\t\t\t);\r\n\t\t\t\tif (pushRules !== null) {\r\n\t\t\t\t\tself.core.mtrx.client.deletePushRule(\"global\", \"room\", roomId);\r\n\t\t\t\t\tthis.roomMuted = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.core.mtrx.client.setRoomMutePushRule(\"global\", roomId, \"true\");\r\n\t\t\t\t\tthis.roomMuted = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t}\r\n\r\n\t\t\tif (item.click === \"LeaveFromRoom\") {\r\n\t\t\t\tlet self = this;\r\n\r\n\t\t\t\tthis.core.mtrx.client.leave(this.chat.roomId).then((r) => {\r\n\t\t\t\t\tthis.core.mtrx.client\r\n\t\t\t\t\t\t.forget(this.chat.roomId, true)\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\tthis.$store.commit(\"DELETE_ROOM\", this.chat.roomId);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\tthis.$router.push({ path: \"/chats\" }).catch((e) => {});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t}\r\n\r\n\t\t\tif (item.click === \"BanRoom\") {\r\n\t\t\t\tlet banUserId = \"\";\r\n\t\t\t\tlet banUser = this.findOtherUser();\r\n\t\t\t\tif (banUser && banUser.userId) banUserId = banUser.userId;\r\n\t\t\t\tlet roomID = this.chat.roomId;\r\n\t\t\t\tthis.core.mtrx.client.ban(roomID, banUserId, \"ban\").then((r) => {});\r\n\t\t\t\tthis.roomBanned = true;\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t}\r\n\r\n\t\t\tif (item.click === \"Unban\") {\r\n\t\t\t\tlet banUserId = \"\";\r\n\t\t\t\tlet banUser = this.findOtherUser();\r\n\t\t\t\tif (banUser && banUser.userId) banUserId = banUser.userId;\r\n\t\t\t\tthis.core.mtrx.client.unban(this.chat.roomId, banUserId).then((r) => {\r\n\t\t\t\t\tthis.core.mtrx.client.invite(this.chat.roomId, banUserId);\r\n\t\t\t\t});\r\n\t\t\t\tthis.roomBanned = false;\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t}\r\n\r\n\t\t\tif (item.click === \"Donate\") {\r\n\t\t\t\t// Open modal\r\n\t\t\t\tthis.donateUserOpened = true;\r\n\t\t\t\t// Close dropdown menu\r\n\t\t\t\tthis.$refs.dropdownMenu.hidePopup();\r\n\t\t\t\t// Find the user we are about to donate to\r\n\t\t\t\tlet receiverObj = this.findOtherUser();\r\n\t\t\t\tthis.receiver = receiverObj\r\n\t\t\t\t\t? this.$f.deep(\r\n\t\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\t\t\"$store.state.users.\" + this.$f.getmatrixid(receiverObj.name)\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseDonateModal() {\r\n\t\t\tthis.donateUserOpened = false;\r\n\t\t},\r\n\r\n\t\tonCalculateFeesClick() {\r\n\t\t\tthis.calculatingFees = true;\r\n\t\t\tthis.calculateFees().finally(() => (this.calculatingFees = false));\r\n\t\t},\r\n\r\n\t\tcalculateFees() {\r\n\t\t\tvar self = this;\r\n\t\t\tthis.showFeesError = \"\";\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t// Check parameters\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.donationAmount <= 0 ||\r\n\t\t\t\t\t!this.receiver ||\r\n\t\t\t\t\t!this.receiver.source ||\r\n\t\t\t\t\t!this.receiver.source.address\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.showFeesError = \"invalid\";\r\n\t\t\t\t\treturn reject(\"Missing amount or receiver\");\r\n\t\t\t\t}\r\n\t\t\t\t// Try calculating fees\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar sdk = window.POCKETNETINSTANCE.platform.sdk;\r\n\t\t\t\t\tsdk.node.fee.estimate(function (fees) {\r\n\t\t\t\t\t\tvar outputs = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\taddress: self.receiver.source.address,\r\n\t\t\t\t\t\t\t\tamount: self.donationAmount,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tsdk.wallet.txbase(\r\n\t\t\t\t\t\t\t[sdk.address.pnet().address],\r\n\t\t\t\t\t\t\toutputs,\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\tself.feesDirection,\r\n\t\t\t\t\t\t\tfunction (err, inputs, _outputs) {\r\n\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t\t\t\tself.showFeesError = err;\r\n\t\t\t\t\t\t\t\t\treturn reject(err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar tx = sdk.node.transactions.create.wallet(inputs, _outputs);\r\n\t\t\t\t\t\t\t\tvar totalFees = Math.min(\r\n\t\t\t\t\t\t\t\t\ttx.virtualSize() * fees.feerate,\r\n\t\t\t\t\t\t\t\t\t0.0999\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t// Got the fees\r\n\t\t\t\t\t\t\t\tself.calculatedFees = totalFees;\r\n\t\t\t\t\t\t\t\treturn resolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\tself.showFeesError = err;\r\n\t\t\t\t\treturn reject(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync sendDonation() {\r\n\t\t\tvar self = this;\r\n\t\t\tthis.sending = true;\r\n\t\t\tthis.showTransactionError = \"\";\r\n\t\t\t// Recalculate the fees just before sending\r\n\t\t\ttry {\r\n\t\t\t\tawait this.calculateFees();\r\n\t\t\t} catch (err) {\r\n\t\t\t\tthis.showTransactionError = \"error\";\r\n\t\t\t\tthis.sending = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Check if current balance is enough\r\n\t\t\tvar sdk = window.POCKETNETINSTANCE.platform.sdk;\r\n\t\t\tsdk.node.transactions.get.canSpend(\r\n\t\t\t\tsdk.address.pnet().address,\r\n\t\t\t\t(currentBalance) => {\r\n\t\t\t\t\t// If balance is too low\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!currentBalance ||\r\n\t\t\t\t\t\tisNaN(currentBalance) ||\r\n\t\t\t\t\t\tcurrentBalance < self.totalDonationAmount\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tself.showTransactionError = \"balance too low\";\r\n\t\t\t\t\t\tself.sending = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Start the send transaction process\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar outputs = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\taddress: self.receiver.source.address,\r\n\t\t\t\t\t\t\t\tamount: self.donationAmount,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tsdk.wallet.embed(outputs, self.donationMessage);\r\n\t\t\t\t\t\t// Create a transaction\r\n\t\t\t\t\t\tsdk.wallet.txbase(\r\n\t\t\t\t\t\t\t[sdk.address.pnet().address],\r\n\t\t\t\t\t\t\toutputs,\r\n\t\t\t\t\t\t\tself.calculatedFees,\r\n\t\t\t\t\t\t\tself.feesDirection,\r\n\t\t\t\t\t\t\tfunction (err, inputs, _outputs) {\r\n\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t\t\t\tself.showTransactionError = \"error\";\r\n\t\t\t\t\t\t\t\t\tself.sending = false;\r\n\t\t\t\t\t\t\t\t\treturn reject(err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar tx = sdk.node.transactions.create.wallet(inputs, _outputs);\r\n\t\t\t\t\t\t\t\tinputs.forEach((t) => {\r\n\t\t\t\t\t\t\t\t\tt.cantspend = true;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// Try sending the transaction\r\n\t\t\t\t\t\t\t\tsdk.node.transactions.send(tx, function (d, err) {\r\n\t\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\t\tsdk.node.transactions.releaseCS(inputs);\r\n\t\t\t\t\t\t\t\t\t\tself.showTransactionError = \"error\";\r\n\t\t\t\t\t\t\t\t\t\tself.sending = false;\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// Transaction has been sent\r\n\t\t\t\t\t\t\t\t\tvar ids = inputs.map((i) => i.txid);\r\n\t\t\t\t\t\t\t\t\tsdk.node.transactions.clearUnspents(ids);\r\n\t\t\t\t\t\t\t\t\tsdk.wallet.saveTempInfoWallet(d, inputs, _outputs);\r\n\t\t\t\t\t\t\t\t\t// Send an event to the chat\r\n\t\t\t\t\t\t\t\t\tself.core.mtrx.client.sendEvent(\r\n\t\t\t\t\t\t\t\t\t\tself.chat.roomId,\r\n\t\t\t\t\t\t\t\t\t\t\"m.room.message\",\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfrom: self.$f.getmatrixid(self.m_chat.myUserId),\r\n\t\t\t\t\t\t\t\t\t\t\tto: self.receiver.id,\r\n\t\t\t\t\t\t\t\t\t\t\tamount: self.donationAmount,\r\n\t\t\t\t\t\t\t\t\t\t\ttxId: d,\r\n\t\t\t\t\t\t\t\t\t\t\tmsgtype: \"m.notice\",\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t// Close the donation modal\r\n\t\t\t\t\t\t\t\t\tself.closeDonateModal();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\tself.showTransactionError = \"error\";\r\n\t\t\t\t\t\tself.sending = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tresetDonation() {\r\n\t\t\tthis.calculatedFees = null;\r\n\t\t\tthis.showFeesError = \"\";\r\n\t\t\tthis.showTransactionError = \"\";\r\n\t\t},\r\n\t},\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66e7a2eb&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=66e7a2eb&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"66e7a2eb\",\n  null\n  ,true\n)\n\nexport default component.exports","<template>\r\n\t<div class=\"page chat\" :class=\"{ mobile }\">\r\n\t\t<topheader\r\n\t\t\t:key=\"k\"\r\n\t\t\tclass=\"topheader\"\r\n\t\t\tv-show=\"!hideHeader || !ios\"\r\n\t\t\t:u=\"u\"\r\n\t\t\t:chat=\"chat\"\r\n\t\t\t:search=\"search\"\r\n\t\t\t:focusedevent=\"focusedevent\"\r\n\t\t\t:process=\"processid\"\r\n\t\t\t:searchresults=\"processresult\"\r\n\t\t\t@searching=\"searching\"\r\n\t\t\t@addMember=\"addMemberModal\"\r\n\t\t\t@tosearchevent=\"tosearchevent\"\r\n\t\t/>\r\n\r\n\t\t<maincontent>\r\n\t\t\t<template v-slot:content>\r\n\t\t\t\t<chat\r\n\t\t\t\t\tref=\"chat\"\r\n\t\t\t\t\t@sending=\"sending\"\r\n\t\t\t\t\t@newchat=\"newchat\"\r\n\t\t\t\t\t:u=\"u\"\r\n\t\t\t\t\t:chat=\"chat\"\r\n\t\t\t\t\t:toevent=\"toevent\"\r\n\t\t\t\t\t:key=\"k\"\r\n\t\t\t\t\t:search=\"search\"\r\n\t\t\t\t\t:searchresults=\"processresult\"\r\n\t\t\t\t\t@removeBrokenRoom=\"creatorLeft\"\r\n\t\t\t\t\t@getEvents=\"eventsRoom\"\r\n\t\t\t\t\t@menuIsVisible=\"menuIsVisibleHandler\"\r\n\t\t\t\t\t@toeventscrolled=\"toeventscrolled\"\r\n\t\t\t\t/>\r\n\t\t\t</template>\r\n\t\t</maincontent>\r\n\r\n\t\t<modal @close=\"closeModal\" v-if=\"openInviteModal\">\r\n\t\t\t<template v-slot:header>\r\n\t\t\t\t<span>{{ $t(\"caption.inviteUser\") }}</span>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:body>\r\n\t\t\t\t<contacts\r\n\t\t\t\t\t:mode=\"`inviteUsers`\"\r\n\t\t\t\t\t:chatRoomId=\"chat.roomId\"\r\n\t\t\t\t\t@closeModal=\"closeContactModal\"\r\n\t\t\t\t/>\r\n\t\t\t</template>\r\n\t\t\t<template v-slot:footer></template>\r\n\t\t</modal>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped lang=\"sass\">\r\n\r\n.topheader\r\n  width: 100%\r\n  top: 0\r\n  z-index: 999\r\n\r\n.aboutContact\r\n  position: absolute\r\n  left: 0\r\n  right: 0\r\n  top: 100px\r\n  bottom: 0\r\n  z-index: 999\r\n  background: $color-applebuttontext\r\n\r\n.chat.mobile\r\n  /deep/ #maincontent\r\n    .headerSpacerWrapper\r\n      bottom: 0\r\n      overflow: visible\r\n\r\n    .headerSpacerWrapperOvf\r\n      overflow: visible\r\n</style>\r\n\r\n<script>\r\nimport chat from \"@/components/chat/index.vue\";\r\nimport topheader from \"@/components/chat/topheader/index.vue\";\r\nimport contacts from \"@/components/contacts/index.vue\";\r\nimport { mapState } from \"vuex\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"pagechat\",\r\n\tcomponents: {\r\n\t\tchat,\r\n\t\ttopheader,\r\n\t\tcontacts,\r\n\t},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tevents: [],\r\n\t\t\topenInviteModal: false,\r\n\t\t\tbrokenRoom: false,\r\n\t\t\thideHeader: false,\r\n\t\t\thastoeventscrolled : false,\r\n\t\t\thasprocesscleared : false,\r\n\t\t\tsearchchanged : undefined,\r\n\t\t\tprocess : null,\r\n\t\t\tprocessresult : null,\r\n\t\t\tfocusedevent : null\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\tu() {\r\n\t\t\treturn this.$route.query.u;\r\n\t\t},\r\n\t\tchat() {\r\n\t\t\tvar id = this.$route.query.id;\r\n\r\n\t\t\treturn this.$store.state.chatsMap[id];\r\n\t\t},\r\n\r\n\t\tk() {\r\n\t\t\treturn this.u + this.$route.query.id;\r\n\t\t},\r\n\r\n\t\tprocessid(){\r\n\t\t\treturn this.hasprocesscleared ? null : this.$route.query.process;\r\n\t\t},\r\n\r\n\t\tsearch(){\r\n\t\t\treturn (typeof this.searchchanged == 'undefined' ? this.$route.query.search : this.searchchanged) || \"\";\r\n\t\t},\r\n\r\n\t\ttoevent(){\r\n\t\t\treturn this.hastoeventscrolled ? null : this.$route.query.toevent;\r\n\t\t},\r\n\r\n\t\tios() {\r\n\t\t\treturn f.isios();\r\n\t\t},\r\n\r\n\t\t...mapState({\r\n\t\t\tpocketnet: (state) => state.pocketnet,\r\n\t\t\tminimized: (state) => state.minimized,\r\n\t\t\tmobile: (state) => state.mobile,\r\n\t\t}),\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!this.leaveIfBroken()) {\r\n\t\t\t}\r\n\t\t}, 2000);\r\n\r\n\t\t//setTimeout(() => {\r\n\t\t\tif(this.toevent){\r\n\r\n\t\t\t}\r\n\t\t//}, 300)\r\n\t},\r\n\tbeforeDestroy : function(){\r\n\t\tif(this.process) this.process.stop()\r\n\t},\r\n\twatch : {\r\n\t\tsearch : {\r\n\t\t\timmediate : true,\r\n\t\t\thandler : function(){\r\n\t\t\t\tpretry(() => {\r\n\t\t\t\t\treturn this.chat;\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.searchingProcess()\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\ttosearchevent(event){\r\n\t\t\tconsole.log('event', event)\r\n\t\t\tthis.focusedevent = event\r\n\r\n\t\t\tthis.$refs['chat'].scrollToEvent(event)\r\n\t\t},\r\n\t\tsearchingProcess(){\r\n\t\t\tconsole.log(\"HERE\", this.search, this.chat)\r\n\t\t\tif (this.search.length > 1 && this.chat){\r\n\r\n\t\t\t\tthis.processresult = null\r\n\r\n\t\t\t\tif (this.process){\r\n\t\t\t\t\tthis.process.updateText(this.search)\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(\"INITTEXT\")\r\n\r\n\t\t\t\tthis.process = this.core.mtrx.searchEngine.execute(this.search, [this.chat], ({results}) => {\r\n\r\n\t\t\t\t\treturn false\r\n\r\n\t\t\t\t}, {\r\n\t\t\t\t\tchat : (result) => {\r\n\t\t\t\t\t\tconsole.log(\"RESULT\", result)\r\n\t\t\t\t\t\tthis.processresult = result.results[this.chat.roomId] || null\r\n\r\n\t\t\t\t\t\tif(!this.processresult) return\r\n\r\n\t\t\t\t\t\tif(!this.focusedevent && this.processresult[0]){\r\n\r\n\t\t\t\t\t\t\tif (this.toevent){\r\n\r\n\t\t\t\t\t\t\t\tvar e = _.find(this.processresult, (e) => {\r\n\t\t\t\t\t\t\t\t\treturn e.event.event_id == this.toevent\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log('this.toevent', e, this.toevent)\r\n\r\n\t\t\t\t\t\t\t\tif (e){\r\n\t\t\t\t\t\t\t\t\tthis.toeventscrolled()\r\n\t\t\t\t\t\t\t\t\tthis.tosearchevent(e)\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tthis.tosearchevent(this.processresult[0])\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.process.execute().catch(e => {\r\n\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse{\r\n\t\t\t\tif(this.process) this.process.stop()\r\n\r\n\t\t\t\tthis.processresult = null\r\n\t\t\t\tthis.focusedevent = null\r\n\r\n\t\t\t\tthis.processcleared()\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearching(txt){\r\n\t\t\tthis.searchchanged = txt\r\n\t\t},\r\n\t\tprocesscleared(){\r\n\t\t\tthis.hasprocesscleared = true\r\n\t\t},\r\n\t\ttoeventscrolled(){\r\n\t\t\tthis.hastoeventscrolled = true\r\n\t\t},\r\n\t\tcreatorLeft(val) {\r\n\t\t\tthis.brokenRoom = val;\r\n\t\t},\r\n\t\tcloseModal() {\r\n\t\t\tthis.openInviteModal = false;\r\n\t\t},\r\n\r\n\t\tcloseContactModal(value) {\r\n\t\t\tthis.openInviteModal = value;\r\n\t\t},\r\n\t\taddMemberModal(value) {\r\n\t\t\tthis.openInviteModal = value;\r\n\t\t},\r\n\t\tnewchat(_chat) {},\r\n\t\tsending() {},\r\n\t\teventsRoom(data) {\r\n\t\t\tthis.events = data;\r\n\t\t},\r\n\t\tmenuIsVisibleHandler(isVisible) {\r\n\t\t\tthis.hideHeader = isVisible;\r\n\t\t},\r\n\r\n\t\tleaveIfBroken() {\r\n\t\t\tif (this.brokenRoom) {\r\n\t\t\t\tthis.core.mtrx.client.leave(from.query.id).then((r) => {\r\n\t\t\t\t\tthis.core.mtrx.client\r\n\t\t\t\t\t\t.forget(from.query.id, true)\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\tthis.$store.commit(\"DELETE_ROOM\", from.query.id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=193bd206&scoped=true&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./chat.vue?vue&type=style&index=0&id=193bd206&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"193bd206\",\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=66e7a2eb&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5fda6366\", content, shadowRoot)\n};"],"sourceRoot":""}