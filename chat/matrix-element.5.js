(window["matrixElement_jsonp"] = window["matrixElement_jsonp"] || []).push([[5],{

/***/ "04b4":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".nameWrapper[data-v-3b761913]{display:flex;align-items:center;justify-content:center}.roomMuted[data-v-3b761913]{margin-left:3px}.roomMuted i[data-v-3b761913]{font-size:.7em}.editButton[data-v-3b761913]{display:flex;justify-content:center;align-items:center}.editButton i[data-v-3b761913]{font-size:1.5em}.nameline[data-v-3b761913]{max-width:250px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#topheader.minimized.fix[data-v-3b761913]{background:transparent;overflow:inherit}.donationModalBody[data-v-3b761913]{padding:1em;display:flex;flex-direction:column}.donationModalBody span[data-v-3b761913]{color:rgb(var(--color-txt-ac))}.donationModalBody input[data-v-3b761913],.donationModalBody select[data-v-3b761913]{margin-top:.5em;margin-bottom:1.5em;border:1px solid rgb(var(--color-txt-ac));border-radius:3px;padding:.5em}.donationModalBody input.disabled[data-v-3b761913],.donationModalBody select.disabled[data-v-3b761913]{color:rgb(var(--neutral-grad-2));border:1px solid rgba(var(--neutral-grad-2),.5)}.donationModalBody button[data-v-3b761913]{margin-top:1em}.donationModalBody button i[data-v-3b761913]{margin-right:.2em}.donationModalBody .totalAmount[data-v-3b761913]{font-weight:700;margin-left:.5em;margin-top:.5em;margin-bottom:1em}.donationModalBody .error[data-v-3b761913]{color:rgb(var(--color-bad));text-align:center}.donationModalBody .linepreloader[data-v-3b761913]{text-align:center;height:29px;margin-top:1em}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "0f20":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "#chatAttachement[data-v-41942aae]{height:90px;width:120px;border-radius:5px;overflow:hidden;position:relative;background:rgb(var(--background-secondary-theme))}#chatAttachement>div[data-v-41942aae]{width:100%;height:100%}.cancel[data-v-41942aae],.loading[data-v-41942aae]{position:absolute;height:90px;width:120px;line-height:90px;text-align:center;font-size:3em;left:0;top:0;background:rgba(var(--background-main),.8);color:rgba(var(--text-color),.2)}.cancel[data-v-41942aae]{background:transparent;font-size:1.2em;color:rgb(var(--text-color))}.file[data-v-41942aae]{text-align:center;font-size:.8em;padding-top:1em}.file span[data-v-41942aae]{white-space:normal}.file .fileicon i[data-v-41942aae]{opacity:.4;font-size:1.5em}.image[data-v-41942aae],.image .bgimage[data-v-41942aae]{width:100%;height:100%}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "114c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_86d76f62_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1e58");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_86d76f62_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_86d76f62_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_86d76f62_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_86d76f62_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "1e58":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("25ed");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("5bec43fc", content, shadowRoot)
};

/***/ }),

/***/ "25ed":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".caption[data-v-86d76f62]{padding:1em}.caption span[data-v-86d76f62]{font-size:1.5em;font-weight:700}.tip[data-v-86d76f62]{padding:1.5em;text-align:center}.tip span[data-v-86d76f62]{font-size:.8em}.blocked[data-v-86d76f62]{width:100%;text-align:center}.blocked span[data-v-86d76f62]{font-size:.9em}.joinAction[data-v-86d76f62]{position:fixed;bottom:0;left:0;right:0;background:rgb(var(--neutral-grad-0));padding:1em 0;text-align:center;z-index:3}.joinAction.bin[data-v-86d76f62]{position:sticky}.joinAction .actions[data-v-86d76f62]{display:flex}.joinAction .actions .action[data-v-86d76f62]{padding:.5em;flex-grow:1}.joinAction .actions .action button[data-v-86d76f62]{min-width:0;width:100%}.my-swipe[data-v-86d76f62]{height:200px;font-size:30px;text-align:center}.my-swipe[data-v-86d76f62],.slide1[data-v-86d76f62]{color:rgb(var(--text-on-bg-ac-color))}.slide1[data-v-86d76f62]{background-color:rgb(var(--color-bg-ac))}.slide2[data-v-86d76f62]{background-color:rgb(var(--color-bg-orange));color:#000}.slide3[data-v-86d76f62]{background-color:rgb(var(--color-bg-ac-2));color:rgb(var(--text-on-bg-ac-color))}.minimized:not(.active) .caption[data-v-86d76f62]{width:52px;text-align:center}.minimized:not(.active) .caption span[data-v-86d76f62]{color:rgb(var(--color-txt-ac));font-size:.6em}.minimized:not(.active) .chatPreview[data-v-86d76f62],.minimized:not(.active) .joinAction[data-v-86d76f62]{display:none}.minimized[data-v-86d76f62]:not(.active) .userinfoWrapper{background:transparent!important;box-shadow:none}.minimized[data-v-86d76f62]:not(.active) .haskeys{display:none}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "3508":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("c4a0");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("292f943e", content, shadowRoot)
};

/***/ }),

/***/ "3688":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_85cc32fa_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8669");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_85cc32fa_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_85cc32fa_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_85cc32fa_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_85cc32fa_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "57f6":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".roomStatusView[data-v-85cc32fa]{height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.roomStatusView .statusViewIcon i[data-v-85cc32fa]{color:rgb(var(--color-txt-ac));font-size:5em}.roomStatusView .text[data-v-85cc32fa]{margin:40px 0;color:rgb(var(--color-txt-ac))}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "6af4":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("0f20");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("42d072f6", content, shadowRoot)
};

/***/ }),

/***/ "7e41":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_7f0235e5_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c27c");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_7f0235e5_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_7f0235e5_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_7f0235e5_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_7f0235e5_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "817d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_3b761913_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d75f");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_3b761913_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_3b761913_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_3b761913_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_3b761913_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "8669":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("57f6");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("dfdc80cc", content, shadowRoot)
};

/***/ }),

/***/ "91ee":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".userinfoWrapper[data-v-79ef1fe4]{height:95%;width:100%;padding:2em .5em;background:rgba(var(--background-main),.4);border-radius:15px;position:relative;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.previewWrapper .work[data-v-79ef1fe4]{padding-bottom:.5em!important}.VueCarousel[data-v-79ef1fe4]{width:100%}.filter[data-v-79ef1fe4]{background-color:rgba(var(--color-shadow-base),.2)!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "9ad5":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".topheader[data-v-7f0235e5]{width:100%;top:0;z-index:999}.aboutContact[data-v-7f0235e5]{position:absolute;left:0;right:0;top:100px;bottom:0;z-index:999;background:#fff}.chat.mobile[data-v-7f0235e5] #maincontent .headerSpacerWrapper{bottom:0;overflow:visible}.chat.mobile[data-v-7f0235e5] #maincontent .headerSpacerWrapperOvf{overflow:visible}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "c27c":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("9ad5");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("981b0ec6", content, shadowRoot)
};

/***/ }),

/***/ "c4a0":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".attachements[data-v-7387542f]{position:absolute;left:0;top:0;right:0;padding:.5em .5em;overflow-x:scroll}.attachements .attachementsWrapper[data-v-7387542f]{display:flex;align-items:center;flex-wrap:nowrap;flex-grow:1;flex-direction:row}.attachements .attachementsWrapper[data-v-7387542f] #chatAttachement{margin-right:.5em;min-width:120px}.cantchatmessage[data-v-7387542f]{padding:2em}.cantchatmessage .proceed[data-v-7387542f]{padding-top:1em}.cantchatmessage .proceed button[data-v-7387542f]{padding-left:0}.cantchatmessage .refresh[data-v-7387542f]{padding-top:2em}.cantchatmessage .msg[data-v-7387542f]{font-size:.8em}.encryptedInfo[data-v-7387542f]{position:relative;z-index:9999;display:flex;justify-content:center;align-items:center;flex-direction:column}.encryptedInfo #slide[data-v-7387542f]{padding:0 .5em;position:absolute;left:-180px;top:0;background:#fff;border-bottom-right-radius:8px;border-top-right-radius:8px;-webkit-animation:slide-data-v-7387542f .1s forwards;-webkit-animation-delay:.3s;animation:slide-data-v-7387542f .1s forwards;animation-delay:.3s;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}@-webkit-keyframes slide-data-v-7387542f{to{left:0}}@keyframes slide-data-v-7387542f{to{left:0}}.encryptedInfo button[data-v-7387542f]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;text-align:left}.encryptedInfo button i[data-v-7387542f]{margin-right:5px}.encryptedInfo .encryptedTxtIcon[data-v-7387542f]{flex-direction:column;align-items:center;justify-content:center;padding:.25em .25em;text-align:center}.encryptedInfo .encryptedTxtIcon span[data-v-7387542f]{color:rgb(var(--color-good));font-size:.8em}.encryptedInfo .encryptedTxtIcon i[data-v-7387542f]{color:rgb(var(--color-good));display:none}.blockedcaption[data-v-7387542f]{text-align:center}.blockedcaption span[data-v-7387542f]{font-size:.8em}.relationEvent[data-v-7387542f]{display:flex;align-items:flex-end;width:100%}.relationEvent .relationEventWrapper[data-v-7387542f]{padding-bottom:1em}.relationEvent .relationEventCaption[data-v-7387542f]{padding:1em 0;padding-bottom:.5em}.relationEvent .relationEventCaption span[data-v-7387542f]{font-size:.8em;font-weight:700;color:rgb(var(--color-txt-ac))}.relationEvent .relationEventPreview[data-v-7387542f]{flex-grow:1;padding:0 1em;padding-top:0}.relationEvent[data-v-7387542f] .previewMessage{font-size:.9em}.relationEvent .relationEventActions[data-v-7387542f]{width:66px;min-width:66px}.relationEvent .relationEventActions .item[data-v-7387542f]{width:100%;padding:.5em 0;cursor:pointer;text-align:center}.chatInputWrapper[data-v-7387542f]{position:fixed;z-index:3;bottom:-1px;background:transparent;left:0;right:0;padding-bottom:31px;background:rgb(var(--background-total-theme));will-change:transform;transform:translate3d(0,calc(var(--keyboardheight, 0)*-1 - -1px),0);transition:.3s}.chatInputWrapper.bin[data-v-7387542f]{position:absolute;left:1px;right:1px;bottom:0;border-radius:5px}#chat.minimized .chatInputWrapper[data-v-7387542f]{opacity:0;padding-bottom:0}#chat.minimized[data-v-7387542f]:not(.active) .statusWrapper{width:33px}#chat.minimized[data-v-7387542f]:not(.active) .statusWrapper i{color:rgb(var(--color-txt-ac))}#chat.minimized[data-v-7387542f]:not(.active) .statusWrapper span{display:none}#chat.minimized[data-v-7387542f]:not(.active) .messageRow{padding:0!important;background:transparent!important}#chat.minimized[data-v-7387542f]:not(.active) .event{padding-bottom:.5em}#chat.minimized[data-v-7387542f]:not(.active) #events{transform:translate3d(.25em,30px,0)}#chat.minimized[data-v-7387542f]:not(.active) .iconWrapper{margin-left:0!important}#chat.minimized[data-v-7387542f]:not(.active) [my=true]{justify-content:flex-start}#chat.minimized[data-v-7387542f]:not(.active) [my=true] .iconWrapper{margin-left:0!important;order:-1;align-self:flex-end}#chat.minimized[data-v-7387542f]:not(.active) .actionsWrapper,#chat.minimized[data-v-7387542f]:not(.active) .filePreview,#chat.minimized[data-v-7387542f]:not(.active) .labelwrapper,#chat.minimized[data-v-7387542f]:not(.active) .linkPreview,#chat.minimized[data-v-7387542f]:not(.active) .maxcontent,#chat.minimized[data-v-7387542f]:not(.active) .messageImg,#chat.minimized[data-v-7387542f]:not(.active) .timeWrapper,#chat.minimized[data-v-7387542f]:not(.active) .userpic:after{display:none}#chat.minimized.active[data-v-7387542f]{padding-bottom:90px}#chat.minimized.active .chatInputWrapper[data-v-7387542f]{opacity:1}#chat.unselectable[data-v-7387542f]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.encrypted[data-v-7387542f]{position:absolute;left:0;top:0;z-index:2;color:rgb(var(--color-good));padding:.25em .5em}.encrypted i[data-v-7387542f]{font-size:.8em;cursor:pointer}.roomMuted[data-v-7387542f]{position:absolute;left:5px;top:20px;z-index:2;color:rgb(var(--neutral-grad-3))}.roomMuted i[data-v-7387542f]{font-size:.8em}.chatEmpty[data-v-7387542f]{padding:4em;text-align:center;color:rgb(var(--neutral-grad-3))}.chatEmpty span[data-v-7387542f]{font-size:.8em}.preview-wrapper[data-v-7387542f]{max-height:350px;overflow-y:auto;border:1px solid rgb(var(rgb(var(--neutral-grad-2))));border-radius:10px;margin:0 auto;width:98%}.preview-wrapper[data-v-7387542f]::-webkit-scrollbar{width:0!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "cae9":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_7387542f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3508");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_7387542f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_7387542f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_7387542f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_7387542f_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "d75f":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("04b4");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("a66dd582", content, shadowRoot)
};

/***/ }),

/***/ "e241":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_79ef1fe4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f082");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_79ef1fe4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_79ef1fe4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_79ef1fe4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_79ef1fe4_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "ec21":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_41942aae_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6af4");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_41942aae_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_41942aae_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_41942aae_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_41942aae_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "ee79":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/chat.vue?vue&type=template&id=7f0235e5&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"page chat",class:{mobile: _vm.mobile}},[_c('topheader',{directives:[{name:"show",rawName:"v-show",value:(!_vm.hideHeader || !_vm.ios),expression:"!hideHeader || !ios"}],key:_vm.k,staticClass:"topheader",attrs:{"u":_vm.u,"chat":_vm.chat},on:{"addMember":_vm.addMemberModal}}),_c('maincontent',{scopedSlots:_vm._u([{key:"content",fn:function(){return [_c('chat',{key:_vm.k,attrs:{"u":_vm.u,"chat":_vm.chat},on:{"sending":_vm.sending,"newchat":_vm.newchat,"removeBrokenRoom":_vm.creatorLeft,"getEvents":_vm.eventsRoom,"menuIsVisible":_vm.menuIsVisibleHandler}})]},proxy:true}])}),(_vm.openInviteModal)?_c('modal',{on:{"close":_vm.closeModal},scopedSlots:_vm._u([{key:"header",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.$t("caption.inviteUser")))])]},proxy:true},{key:"body",fn:function(){return [_c('contacts',{attrs:{"mode":"inviteUsers","chatRoomId":_vm.chat.roomId},on:{"closeModal":_vm.closeContactModal}})]},proxy:true},{key:"footer",fn:function(){return undefined},proxy:true}],null,false,1321158477)}):_vm._e()],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/views/chat.vue?vue&type=template&id=7f0235e5&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__("5530");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/index.vue?vue&type=template&id=7387542f&scoped=true&
var chatvue_type_template_id_7387542f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'bin' : _vm.pocketnet, 'bout' : !_vm.pocketnet, minimized: _vm.minimized, fix : _vm.pocketnet, active: _vm.active, unselectable: _vm.isRecording},attrs:{"id":"chat"}},[(_vm.cantchat && !_vm.cantchatexc)?_c('div',{staticClass:"cantchatmessage"},[_c('div',{staticClass:"msg"},[_vm._v(" "+_vm._s(_vm.$t("caption." + this.keyproblem))+" ")]),(_vm.keyproblem=='usernotgen')?_c('div',{staticClass:"refresh"},[_c('button',{staticClass:"button small",on:{"click":_vm.refreshkeys}},[_vm._v(" Refresh "),_c('i',{staticClass:"fas fa-sync"})])]):_vm._e(),(_vm.keyproblem=='younotgen')?_c('div',{staticClass:"preloaderwrapper"},[_c('linepreloader')],1):_vm._e()]):_c('div',{staticClass:"chatcontent"},[(_vm.m_chat && _vm.membership === 'join' && _vm.ready)?_c('list',{key:_vm.key,ref:"list",attrs:{"error":_vm.error,"chat":_vm.m_chat},on:{"editingEvent":_vm.editingEvent,"replyEvent":_vm.replyEvent,"eventImage":function (e) { return _vm.galleryImage(e); },"scroll":_vm.scroll,"menuIsVisible":_vm.menuIsVisibleHandler,"getEvents":_vm.events}}):_vm._e(),(_vm.m_chat && _vm.membership === 'invite')?_c('div',{staticClass:"joinwrapper"},[_c('join',{attrs:{"m_chat":_vm.m_chat,"chat":_vm.chat,"usersinfo":_vm.usersinfo},on:{"creatorLeft":_vm.brokenInvitedRoom}})],1):_vm._e(),(!_vm.m_chat && _vm.usersinfo && _vm.usersinfo.length)?_c('div',{staticClass:"chatEmpty"},[_c('span',[_vm._v(_vm._s(_vm.$t("caption.startChatWith"))+" "+_vm._s(_vm.usersinfoNames()))])]):_vm._e(),(!_vm.m_chat || _vm.membership === 'join')?_c('div',{staticClass:"chatInputWrapper fixedOnPageBottom",class:{'bin' : _vm.pocketnet, 'bout' : !_vm.pocketnet}},[_c('div',[(_vm.relationEvent)?_c('div',{staticClass:"relationEvent"},[_c('div',{staticClass:"relationEventPreview"},[_c('div',{staticClass:"relationEventCaption"},[_c('span',[_vm._v(_vm._s(_vm.relationEvent.action))])]),(_vm.relationEvent.type!='m.replace')?_c('div',{staticClass:"relationEventWrapper"},[_c('eventsEvent',{attrs:{"event":_vm.relationEvent.event,"chat":_vm.chat,"preview":true}})],1):_vm._e()]),_c('div',{staticClass:"relationEventActions"},[_c('div',{staticClass:"item",on:{"click":_vm.clearRelationEvent}},[_c('i',{staticClass:"far fa-times-circle"})])])]):_vm._e(),(!_vm.blockedUser)?_c('chatInput',{ref:"chatInput",attrs:{"u":_vm.u,"chat":_vm.m_chat,"usersinfo":_vm.usersinfo,"relationEvent":_vm.relationEvent},on:{"sending":_vm.sending,"sent":_vm.sent,"sentError":_vm.sentError,"sentMessageError":_vm.sentMessageError,"sendingData":_vm.sendingData,"sentData":_vm.sentData,"force":_vm.force,"newchat":_vm.newchat,"closeMetaPreview":_vm.closing,"clearRelationEvent":_vm.clearRelationEvent,"focused":_vm.focused,"cantchatcrypto":_vm.cantchatcrypto}}):_vm._e(),(_vm.blockedUser && _vm.m_chat)?_c('div',{staticClass:"blockedcaption"},[_c('span',[_vm._v("You have blocked this user")])]):_vm._e()],1)]):_vm._e(),(_vm.encrypted && _vm.membership != 'invite')?_c('div',{staticClass:"encrypted",on:{"mouseover":function (e) { return _vm.hoverEncrypt = true; }}},[_c('i',{staticClass:"fas fa-lock"})]):_vm._e(),(_vm.hoverEncrypt)?_c('div',{staticClass:"encryptedInfo",on:{"mouseover":function (e) { return _vm.hoverEncrypt = true; },"mouseleave":function (e) { return _vm.hoverEncrypt = false; },"click":function (e) { return _vm.hoverEncrypt = !_vm.hoverEncrypt; }}},[_c('div',{attrs:{"id":"slide"}},[_c('div',{staticClass:"encryptedTxtIcon"},[_c('i',{staticClass:"fas fa-user-shield"}),_c('span',[_vm._v(_vm._s(_vm.$t("caption.encrypted")))])])])]):_vm._e(),(_vm.attachements.length)?_c('div',{staticClass:"attachements"},[_c('div',{staticClass:"attachementsWrapper"},_vm._l((_vm.attachements),function(attachement){return _c('attachement',{key:attachement.id,attrs:{"attachement":attachement},on:{"cancel":function (e) { return _vm.abortSending(attachement.id); }}})}),1)]):_vm._e()],1),(_vm.roomUserBanned)?_c('userRoomStatus',{attrs:{"chat":_vm.chat,"text":"You've have been banned in this room"}}):_vm._e()],1)}
var chatvue_type_template_id_7387542f_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/chat/index.vue?vue&type=template&id=7387542f&scoped=true&

// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js
var vuex_esm = __webpack_require__("2f62");

// EXTERNAL MODULE: ./src/components/chat/list/index.vue + 9 modules
var list = __webpack_require__("4e29");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/join/index.vue?vue&type=template&id=86d76f62&scoped=true&
var joinvue_type_template_id_86d76f62_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"maskedtop",class:{minimized: _vm.minimized, active: _vm.active},attrs:{"id":"chatJoin"}},[_c('div',{staticClass:"work"},[_c('div',{staticClass:"caption"},[(!_vm.creatorLeft)?_c('span',[_vm._v(" "+_vm._s(_vm.$t("caption.chatInvite"))+" ")]):_vm._e(),(_vm.creatorLeft)?_c('span',[_vm._v(_vm._s(_vm.$t("caption.cantJoin")))]):_vm._e()])]),_c('chatPreview',{attrs:{"usersinfo":_vm.usersinfo,"chat":_vm.chat,"m_chat":_vm.m_chat,"undefinedRoom":_vm.creatorLeft}}),(!_vm.blockedCheck)?_c('div',{staticClass:"tip"},[(!_vm.creatorLeft)?_c('span',[_vm._v(_vm._s(_vm.$t("caption.chatInviteDecline")))]):_vm._e(),(_vm.creatorLeft)?_c('span',[_vm._v(_vm._s(_vm.$t("caption.creatorLeft")))]):_vm._e()]):_vm._e(),(!_vm.hiddenInParent)?_c('div',{staticClass:"joinAction fixedOnPageBottom",class:{'bin' : _vm.pocketnet, 'bout' : !_vm.pocketnet}},[_c('div',{staticClass:"work"},[(!_vm.blockedCheck)?_c('div',{staticClass:"actions"},[(!_vm.creatorLeft && !_vm.tetatet)?_c('div',{staticClass:"action"},[_c('button',{staticClass:"small button black rounded",on:{"click":_vm.decline}},[_vm._v(_vm._s(_vm.$t("button.decline")))])]):_vm._e(),(_vm.tetatet)?_c('div',{staticClass:"action"},[_c('button',{staticClass:"small button black rounded",on:{"click":_vm.ignore}},[_vm._v(_vm._s(_vm.$t("button.declineandignore")))])]):_vm._e(),(!_vm.creatorLeft)?_c('div',{staticClass:"action"},[_c('button',{staticClass:"small button rounded",on:{"click":_vm.join}},[_vm._v(_vm._s(_vm.$t("button.join")))])]):_vm._e(),(_vm.creatorLeft)?_c('div',{staticClass:"action"},[_c('button',{staticClass:"small button rounded",on:{"click":_vm.back}},[_vm._v(_vm._s(_vm.$t("button.ok")))])]):_vm._e()]):_c('div',{staticClass:"actions"},[_vm._m(0)])])]):_vm._e()],1)}
var joinvue_type_template_id_86d76f62_scoped_true_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"blocked"},[_c('span',[_vm._v("You have blocked this user")])])}]


// CONCATENATED MODULE: ./src/components/chat/join/index.vue?vue&type=template&id=86d76f62&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/preview/index.vue?vue&type=template&id=79ef1fe4&scoped=true&
var previewvue_type_template_id_79ef1fe4_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"chatPreview"},[_c('div',{staticClass:"work"},[_c('div',{staticClass:"previewWrapper"},[(_vm.users && _vm.users.length)?_c('div',{staticClass:"users"},[_c('swiper',{staticClass:"swiper",attrs:{"options":_vm.swiperOption}},[_vm._l((_vm.users),function(user){return (!_vm._.isEmpty(user))?_c('swiper-slide',{key:user.id},[_c('div',{staticClass:"work"},[_c('div',{staticClass:"userinfoWrapper",class:{'filter': _vm.undefinedRoom}},[(user.name)?_c('userView',{attrs:{"userinfo":user}}):_vm._e()],1)])]):_vm._e()}),_c('div',{staticClass:"swiper-pagination",attrs:{"slot":"pagination"},slot:"pagination"})],2)],1):_vm._e()])])])}
var previewvue_type_template_id_79ef1fe4_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/chat/preview/index.vue?vue&type=template&id=79ef1fe4&scoped=true&

// EXTERNAL MODULE: ./src/components/chats/assets/name.vue + 4 modules
var assets_name = __webpack_require__("aa20");

// EXTERNAL MODULE: ./src/components/chats/assets/icon.vue + 4 modules
var icon = __webpack_require__("3094");

// EXTERNAL MODULE: ./src/components/user/view/pnuser/index.vue + 4 modules
var pnuser = __webpack_require__("42cd");

// EXTERNAL MODULE: ./node_modules/vue-awesome-swiper/dist/vue-awesome-swiper.js
var vue_awesome_swiper = __webpack_require__("7212a");

// EXTERNAL MODULE: ./node_modules/swiper/swiper-bundle.css
var swiper_bundle = __webpack_require__("bbe3");

// EXTERNAL MODULE: ./node_modules/vue-carousel/dist/vue-carousel.min.js
var vue_carousel_min = __webpack_require__("0a63");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/preview?vue&type=script&lang=js&




 //


//
/* harmony default export */ var preview_vue_type_script_lang_js_ = ({
  name: 'chatPreview',
  props: {
    chat: Object,
    usersinfo: Array,
    room: {},
    undefinedRoom: false
  },
  components: {
    userView: pnuser["a" /* default */],
    chatName: assets_name["a" /* default */],
    chatIcon: icon["a" /* default */],
    Swiper: vue_awesome_swiper["Swiper"],
    SwiperSlide: vue_awesome_swiper["SwiperSlide"],
    Carousel: vue_carousel_min["Carousel"],
    Slide: vue_carousel_min["Slide"]
  },
  data: function data() {
    return {
      loading: false,
      swiperOption: {
        direction: 'horizontal',
        pagination: {
          el: '.swiper-pagination'
        }
      }
    };
  },
  computed: {
    users: function users() {
      if (!this.chat) return [];
      return this.core.mtrx.chatUsersInfo(this.chat.roomId, 'anotherChatUsers');
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/preview?vue&type=script&lang=js&
 /* harmony default export */ var chat_preview_vue_type_script_lang_js_ = (preview_vue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/chat/preview/index.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__("e241")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  chat_preview_vue_type_script_lang_js_,
  previewvue_type_template_id_79ef1fe4_scoped_true_render,
  previewvue_type_template_id_79ef1fe4_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "79ef1fe4",
  null
  ,true
)

/* harmony default export */ var preview = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/join?vue&type=script&lang=js&


/* harmony default export */ var join_vue_type_script_lang_js_ = ({
  name: 'chatJoin',
  props: {
    chat: Object,
    m_chat: {},
    usersinfo: Array,
    room: Object
  },
  components: {
    chatPreview: preview
  },
  data: function data() {
    return {
      loading: false,
      joinedMembers: [],
      creatorLeft: false
    };
  },
  created: function created() {},
  watch: {},
  computed: Object(vuex_esm["c" /* mapState */])({
    hiddenInParent: function hiddenInParent(state) {
      return state.hiddenInParent;
    },
    auth: function auth(state) {
      return state.auth;
    },
    pocketnet: function pocketnet(state) {
      return state.pocketnet;
    },
    minimized: function minimized(state) {
      return state.minimized;
    },
    active: function active(state) {
      return state.active;
    },
    tetatet: function tetatet() {
      console.log('this.core.mtrx.kit.tetatetchat(this.m_chat)', this.core.mtrx.kit.tetatetchat(this.m_chat));
      return this.core.mtrx.kit.tetatetchat(this.m_chat);
    },
    blockedCheck: function blockedCheck() {
      var users = this.core.mtrx.anotherChatUsers(this.m_chat.roomId);

      if (users.length == 1) {
        return this.core.mtrx.blockeduser(users[0].userId);
      }
    }
  }),
  mounted: function mounted() {},
  methods: {
    join: function join() {
      var _this = this;

      var self = this;
      this.$store.commit('SET_CHAT_TO_FORCE', this.m_chat.roomId);
      this.core.mtrx.client.joinRoom(this.m_chat.roomId).then(function () {
        _this.$store.commit('SET_CHAT_TO_STORE', _this.m_chat.summary);

        _this.$emit('joined');
      }).catch(function (error) {
        console.log(error, "error");
        console.log(error['M_UNKNOWN'], "error");
        self.brokenRoom(true);
        return self.creatorLeft = true;
      });
    },
    back: function back() {
      this.$router.go(-1);
    },
    ignore: function ignore() {
      var _this2 = this;

      var users = this.core.mtrx.anotherChatUsers(this.chat.roomId);

      if (users.length > 1) {
        return;
      }

      this.core.mtrx.blockUser(users[0].userId).then(function (r) {
        _this2.$router.go(-1);
      }).catch(function (e) {});
    },
    decline: function decline() {
      var _this3 = this;

      this.$store.commit('SET_CHAT_TO_FORCE', this.m_chat.roomId);
      this.core.mtrx.client.leave(this.chat.roomId).then(function (r) {
        _this3.core.mtrx.client.forget(_this3.chat.roomId, true).then(function (r) {
          return r;
        }).then(function (r) {
          _this3.$store.commit('DELETE_ROOM', _this3.chat.roomId);

          _this3.$router.go(-1);
        });
      });
    },
    brokenRoom: function brokenRoom() {
      console.log("need to left user");
      this.$emit('creatorLeft', true);
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/join?vue&type=script&lang=js&
 /* harmony default export */ var chat_join_vue_type_script_lang_js_ = (join_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/join/index.vue



function join_injectStyles (context) {
  
  var style0 = __webpack_require__("114c")
if (style0.__inject__) style0.__inject__(context)
var style1 = __webpack_require__("99f3")
if (style1.__inject__) style1.__inject__(context)
var style2 = __webpack_require__("734c")
if (style2.__inject__) style2.__inject__(context)

}

/* normalize component */

var join_component = Object(componentNormalizer["a" /* default */])(
  chat_join_vue_type_script_lang_js_,
  joinvue_type_template_id_86d76f62_scoped_true_render,
  joinvue_type_template_id_86d76f62_scoped_true_staticRenderFns,
  false,
  join_injectStyles,
  "86d76f62",
  null
  ,true
)

/* harmony default export */ var join = (join_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/attachement/index.vue?vue&type=template&id=41942aae&scoped=true&
var attachementvue_type_template_id_41942aae_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"id":"chatAttachement"}},[(_vm.attachement.type == 'image')?_c('div',{staticClass:"image"},[(_vm.attachement.base64)?_c('bgimage',{attrs:{"src":_vm.attachement.base64}}):_vm._e()],1):_vm._e(),(_vm.attachement.type == 'file')?_c('div',{staticClass:"file"},[_c('div',{staticClass:"fileicon"},[_c('i',{class:_vm.fileicon})]),_c('div',{staticClass:"filename"},[_c('span',[_vm._v(_vm._s(_vm.attachement.info.name || "File"))])]),(_vm.humanReadableSize)?_c('div',{staticClass:"filesize"},[_c('span',[_vm._v(_vm._s(_vm.humanReadableSize))])]):_vm._e()]):_vm._e(),_vm._m(0),_c('div',{staticClass:"cancel",on:{"click":_vm.cancel}},[_c('i',{staticClass:"far fa-times-circle"})])])}
var attachementvue_type_template_id_41942aae_scoped_true_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"loading"},[_c('i',{staticClass:"fas fa-spinner fa-spin"})])}]


// CONCATENATED MODULE: ./src/components/chat/attachement/index.vue?vue&type=template&id=41942aae&scoped=true&

// EXTERNAL MODULE: ./src/application/functions.js
var functions = __webpack_require__("3139");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/attachement?vue&type=script&lang=js&


/* harmony default export */ var attachement_vue_type_script_lang_js_ = ({
  name: 'chatAttachement',
  props: {
    attachement: Object
  },
  data: function data() {
    return {
      loading: false,
      ext: {
        'pdf': 'far fa-file-pdf',
        'custom': 'far fa-file'
      }
    };
  },
  created: function created() {},
  watch: {//$route: 'getdata'
  },
  computed: Object(vuex_esm["c" /* mapState */])({
    auth: function auth(state) {
      return state.auth;
    },
    extension: function extension() {
      if (!functions["a" /* default */].deep(this, 'attachement.info.name')) return 'custom';
      var name = functions["a" /* default */].deep(this, 'attachement.info.name');
      var name = name.split('.');
      var ext = name[name.length - 1].toLowerCase();
      return ext;
    },
    humanReadableSize: function humanReadableSize() {
      if (!functions["a" /* default */].deep(this, 'attachement.info.size')) return '';
      return functions["a" /* default */].formatBytes(this.attachement.info.size);
    },
    fileicon: function fileicon() {
      var ext = this.extension;
      return this.ext[ext] || this.ext['custom'];
    }
  }),
  methods: {
    cancel: function cancel() {
      this.$emit('cancel');
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/attachement?vue&type=script&lang=js&
 /* harmony default export */ var chat_attachement_vue_type_script_lang_js_ = (attachement_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/attachement/index.vue



function attachement_injectStyles (context) {
  
  var style0 = __webpack_require__("ec21")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var attachement_component = Object(componentNormalizer["a" /* default */])(
  chat_attachement_vue_type_script_lang_js_,
  attachementvue_type_template_id_41942aae_scoped_true_render,
  attachementvue_type_template_id_41942aae_scoped_true_staticRenderFns,
  false,
  attachement_injectStyles,
  "41942aae",
  null
  ,true
)

/* harmony default export */ var attachement = (attachement_component.exports);
// EXTERNAL MODULE: ./node_modules/underscore/modules/index-all.js + 159 modules
var index_all = __webpack_require__("c46f");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/userRoomStatus/index.vue?vue&type=template&id=85cc32fa&scoped=true&
var userRoomStatusvue_type_template_id_85cc32fa_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"roomStatusView"},[_vm._m(0),_c('div',{staticClass:"text"},[_vm._v(" "+_vm._s(_vm.text)+" ")]),_c('button',{staticClass:"button small black rounded",on:{"click":function($event){return _vm.leaveRoom()}}},[_vm._v("Delete room")])])}
var userRoomStatusvue_type_template_id_85cc32fa_scoped_true_staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"statusViewIcon"},[_c('i',{staticClass:"fas fa-ban"})])}]


// CONCATENATED MODULE: ./src/components/chat/userRoomStatus/index.vue?vue&type=template&id=85cc32fa&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/userRoomStatus?vue&type=script&lang=js&
/* harmony default export */ var userRoomStatus_vue_type_script_lang_js_ = ({
  props: {
    text: String,
    chat: Object
  },
  methods: {
    leaveRoom: function leaveRoom() {
      var _this = this;

      this.core.mtrx.client.forget(this.chat.roomId, true).then(function (r) {
        _this.$store.commit('DELETE_ROOM', _this.chat.roomId);
      }).then(function (r) {
        _this.$router.push({
          path: '/chats'
        });
      });
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/userRoomStatus?vue&type=script&lang=js&
 /* harmony default export */ var chat_userRoomStatus_vue_type_script_lang_js_ = (userRoomStatus_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/userRoomStatus/index.vue



function userRoomStatus_injectStyles (context) {
  
  var style0 = __webpack_require__("3688")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var userRoomStatus_component = Object(componentNormalizer["a" /* default */])(
  chat_userRoomStatus_vue_type_script_lang_js_,
  userRoomStatusvue_type_template_id_85cc32fa_scoped_true_render,
  userRoomStatusvue_type_template_id_85cc32fa_scoped_true_staticRenderFns,
  false,
  userRoomStatus_injectStyles,
  "85cc32fa",
  null
  ,true
)

/* harmony default export */ var userRoomStatus = (userRoomStatus_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat?vue&type=script&lang=js&







/* harmony default export */ var chat_vue_type_script_lang_js_ = ({
  name: 'chat',
  props: {
    chat: Object,
    u: String
  },
  components: {
    list: list["a" /* default */],
    chatInput: function chatInput() {
      return Promise.all(/* import() */[__webpack_require__.e(10), __webpack_require__.e(6)]).then(__webpack_require__.bind(null, "fe01"));
    },
    join: join,
    attachement: attachement,
    userRoomStatus: userRoomStatus
  },
  data: function data() {
    return {
      roomUserBanned: false,
      roomUserKicked: false,
      hoverEncrypt: false,
      roomMuted: false,
      loading: false,
      ready: false,
      encrypted: false,
      usersinfo: [],
      chatEvents: {},
      relationEvent: null,
      key: '',
      sendingDataStore: {},
      esize: {},
      fsize: {},
      cantchat: false,
      cantchatexc: false,
      error: null,
      isRecording: false
    };
  },
  provide: function provide() {
    return {
      blockTextSelection: this.recordStart,
      unblockTextSelection: this.recordStop
    };
  },
  created: function created() {},
  mounted: function mounted() {
    this.getuserinfo();
    this.$store.commit('active', true);
    this.$store.commit('blockactive', {
      value: true,
      item: 'chat'
    });
  },
  destroyed: function destroyed() {
    this.$store.commit('blockactive', {
      value: false,
      item: 'chat'
    });
    this.$store.commit('SET_CURRENT_ROOM', false);
    this.clearintrv();
  },
  watch: {
    needcreatekey: function needcreatekey() {
      var _this = this;

      if (this.needcreatekey) {
        if (!this.intrv) {
          this.intrv = setInterval(function () {
            _this.refreshkeys(true);
          }, 20000);
        }
      } else {
        this.clearintrv();
      }
    },
    chatusers: function chatusers() {
      var _this2 = this;

      if (this.m_chat && this.m_chat.pcrypto) {
        this.m_chat.pcrypto.userschanded().then(function (r) {
          _this2.checkcrypto();
        });
      }
    },
    m_chat: {
      immediate: true,
      handler: function handler() {
        var _this3 = this;

        if (this.m_chat && !index_all["default"].isEmpty(this.m_chat)) {
          this.core.mtrx.kit.allchatmembers([this.m_chat], false, true).then(function (r) {
            return _this3.core.mtrx.kit.prepareChat(_this3.m_chat);
          }).then(function (r) {
            _this3.ready = true;

            _this3.checkcrypto();
          });
        }
      }
    },
    chat: {
      immediate: true,
      handler: function handler() {
        this.ready = false;
        this.encrypted = false;
        this.$store.commit('setmodal', null);

        if (this.chat) {
          this.$store.commit('SET_CURRENT_ROOM', this.chat.roomId);
          this.$store.commit('SET_LAST_ROOM', this.chat.roomId);
        } else this.$store.commit('SET_CURRENT_ROOM', false);
      }
    }
  },
  computed: Object(vuex_esm["c" /* mapState */])({
    pocketnet: function pocketnet(state) {
      return state.pocketnet;
    },
    minimized: function minimized(state) {
      return state.minimized;
    },
    active: function active(state) {
      return state.active;
    },
    auth: function auth(state) {
      return state.auth;
    },
    m_chat: function m_chat() {
      if (this.chat && this.chat.roomId) {
        var pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);

        if (pushRules !== null) {
          this.roomMuted = true;
        }

        var m_chat = this.core.mtrx.client.getRoom(this.chat.roomId);
        return m_chat || {};
      }
    },
    keyproblem: function keyproblem() {
      if (this.core.user.userinfo.keys.length < 12) {
        return 'younotgen';
      } else return 'usernotgen';
    },
    needcreatekey: function needcreatekey() {
      return this.keyproblem == 'younotgen' && this.cantchat && !this.cantchatexc;
    },
    membership: function membership() {
      if (this.m_chat) {
        if (this.m_chat.timeline.length > 0) {
          var id = this.core.mtrx.client.credentials.userId;
          var lastEvent = this.m_chat.timeline[this.m_chat.timeline.length - 1];

          if (lastEvent.event.state_key === id && lastEvent.event.content.reason === 'admin ban') {
            this.roomUserBanned = true;
          }
        }

        return this.m_chat.getMyMembership();
      }
    },
    blockedUser: function blockedUser() {
      if (this.u) {
        return this.core.mtrx.blockeduser(this.u[0]);
      }

      if (this.chat) {
        var users = this.core.mtrx.anotherChatUsers(this.chat.roomId);

        if (users.length == 1) {
          return this.core.mtrx.blockeduser(users[0].userId);
        }
      }
      /* if(this.m_chat){
            var me = this.m_chat.myUserId
          var anotherUser = this.chat.members.filter(member => member.userId !== me)
          this.core.mtrx.client.isUserIgnored(anotherUser[0].userId)
            
       }*/

    },
    openInviteModal: function openInviteModal() {
      return this.openInviteModal;
    },
    attachements: function attachements() {
      return index_all["default"].toArray(this.sendingDataStore);
    },
    chatusers: function chatusers() {
      if (this.m_chat) return this.core.store.state.chatusers[this.m_chat.roomId];
    }
  }),
  methods: {
    recordStart: function recordStart() {
      this.isRecording = true;
    },
    recordStop: function recordStop() {
      this.isRecording = false;
    },
    clearintrv: function clearintrv() {
      if (this.intrv) {
        clearInterval(this.intrv);
        this.intrv = null;
      }
    },
    checkcrypto: function checkcrypto() {
      this.encrypted = this.m_chat.pcrypto.canBeEncrypt();
      this.cantchat = this.m_chat.pcrypto.cantchat();
    },
    force: function force() {
      this.key = functions["a" /* default */].makeid();
    },
    clearRelationEvent: function clearRelationEvent() {
      if (this.relationEvent && this.relationEvent.type == 'm.replace' && this.$refs['chatInput']) {
        this.$refs['chatInput'].setText('');
      }

      this.relationEvent = null;
    },
    newchat: function newchat(chat) {
      this.$emit("newchat", chat);
      this.m_chat.pcrypto.userschanded();
    },
    getuserinfo: function getuserinfo() {
      var _this4 = this;

      if (this.u) {
        this.core.user.usersInfo(this.u).then(function (info) {
          _this4.usersinfo = info;
        });
      }
    },
    cantchatcrypto: function cantchatcrypto() {
      this.cantchat = true;
    },
    proceedwithoutkeys: function proceedwithoutkeys() {
      this.cantchatexc = true;
    },
    refreshkeys: function refreshkeys() {
      var _this5 = this;

      this.core.user.userInfo(true).then(function (r) {
        if (_this5.u) {
          _this5.core.user.usersInfo(_this5.u, false, true).then(function (info) {
            var _info = info[0];

            if (_info && _info.keys && _info.keys.length >= 12 && _this5.core.user.userinfo.keys.length >= 12) {
              _this5.cantchat = false;
            }

            _this5.usersinfo = info; //this.m_chat.pcrypto.userschanded()
          });
        } else {
          _this5.core.store.dispatch('RELOAD_CHAT_USERS', [_this5.m_chat]).then(function (r) {
            /*this.m_chat.pcrypto.userschanded()
                  this.checkcrypto()*/
          });
        }
      });
    },
    closing: function closing(e) {
      this.PNmetaPreview = e;
    },
    usersinfoNames: function usersinfoNames() {
      return index_all["default"].map(this.usersinfo, function (u) {
        return u.name;
      }).join(', ');
    },
    replyEvent: function replyEvent(_ref) {
      var event = _ref.event;
      this.relationEvent = {
        type: 'm.reference',
        event: event,
        action: this.$i18n.t("caption.replyOnMessage")
      };

      if (this.$refs['chatInput']) {
        this.$refs['chatInput'].focus();
      }
    },
    editingEvent: function editingEvent(_ref2) {
      var event = _ref2.event,
          text = _ref2.text;
      this.relationEvent = {
        type: 'm.replace',
        event: event,
        action: this.$i18n.t("caption.editMessage")
      };

      if (this.$refs['chatInput']) {
        this.$refs['chatInput'].setText(text);
      }
    },
    focused: function focused() {
      this.fsize = index_all["default"].clone(this.esize);
    },
    scroll: function scroll(size) {
      this.esize = size;
      var ns = this.esize.scrollTop || 0;
      var fs = this.fsize.scrollTop || 0;

      if (ns - 450 > fs) {
        this.$refs['chatInput'].blurifempty();
      }
    },
    events: function events(data) {
      this.$emit('getEvents', data);
      this.chatEvents = data;
    },
    galleryImage: function galleryImage(e) {
      this.core.store.dispatch('SHOW_GALLERY_FROMEVENTS', {
        events: this.chatEvents,
        event: e
      });
    },
    sending: function sending() {
      this.$emit('sending');
      this.$refs['list'].scrollToNew(0); ///$(this.$el).find('.eventsflex').scrollTop(0) ??? 
    },
    sent: function sent() {
      if (this.relationEvent && this.relationEvent.type == 'm.reference') {
        this.relationEvent = null;
      }

      this.$emit('sent');
      this.error = null;
    },
    sendingData: function sendingData(meta) {
      this.$set(this.sendingDataStore, meta.id, meta);
    },
    sentData: function sentData(meta) {
      this.clearMeta(meta);
      this.error = null;
    },
    sentError: function sentError(meta) {
      if (meta && meta.id) {
        this.clearMeta(meta);
      }

      if (meta && meta.error) {
        this.error = meta.error;
      }
    },
    sentMessageError: function sentMessageError(e) {
      this.error = e.error;
      this.core.logerror('sentMessageError', functions["a" /* default */].stringify(this.error));
    },
    abortSending: function abortSending(id) {
      var meta = this.sendingDataStore[id];
      if (meta.abort) meta.abort();
      meta.aborted = true; ///

      this.clearMeta(meta);
    },
    brokenInvitedRoom: function brokenInvitedRoom(val) {
      this.$emit('removeBrokenRoom', val);
    },
    clearMeta: function clearMeta(meta) {
      this.$delete(this.sendingDataStore, meta.id);
    },
    menuIsVisibleHandler: function menuIsVisibleHandler(isVisible) {
      this.$emit('menuIsVisible', isVisible);
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat?vue&type=script&lang=js&
 /* harmony default export */ var components_chat_vue_type_script_lang_js_ = (chat_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/index.vue



function chat_injectStyles (context) {
  
  var style0 = __webpack_require__("cae9")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var chat_component = Object(componentNormalizer["a" /* default */])(
  components_chat_vue_type_script_lang_js_,
  chatvue_type_template_id_7387542f_scoped_true_render,
  chatvue_type_template_id_7387542f_scoped_true_staticRenderFns,
  false,
  chat_injectStyles,
  "7387542f",
  null
  ,true
)

/* harmony default export */ var chat = (chat_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"476efc6e-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/topheader/index.vue?vue&type=template&id=3b761913&scoped=true&
var topheadervue_type_template_id_3b761913_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{"id":"chatTopheader"}},[(_vm.chat || _vm.u)?_c('topheader',{scopedSlots:_vm._u([{key:"left",fn:function(){return [_c('backButton',{attrs:{"action":"chats"}})]},proxy:true},{key:"info",fn:function(){return [(_vm.chat)?_c('router-link',{attrs:{"to":'chatInfo?id=' + _vm.chat.roomId}},[(_vm.m_chat)?_c('div',[_c('div',{staticClass:"nameWrapper"},[(!_vm.roomInfo)?_c('chatName',{attrs:{"preview":true,"chat":_vm.chat,"m_chat":_vm.m_chat}}):_vm._e(),(_vm.roomMuted)?_c('div',{staticClass:"roomMuted"},[_c('i',{staticClass:"fas fa-bell-slash"})]):_vm._e()],1),_c('transition',{attrs:{"name":"fade"}},[(_vm.m_chat_typing)?_c('chatTyping'):_vm._e()],1)],1):_vm._e(),(!_vm.m_chat && _vm.userinfo)?_c('div',[_c('span',{staticClass:"nameline"},[_vm._v(_vm._s(_vm.userinfo.name))])]):_vm._e()]):_vm._e()]},proxy:true},{key:"right",fn:function(){return [(_vm.chat)?_c('router-link',{attrs:{"to":'chatInfo?id=' + _vm.chat.roomId}},[_c('div',{staticClass:"iconbutton"},[_c('i',{staticClass:"fas fa-ellipsis-h"})])]):_vm._e()]},proxy:true}],null,false,3419355125)}):_vm._e(),(_vm.donateUserOpened)?_c('modal',{on:{"close":_vm.closeDonateModal},scopedSlots:_vm._u([{key:"header",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.$t("caption.donate")))])]},proxy:true},{key:"body",fn:function(){return [_c('div',{staticClass:"donationModalBody"},[_c('span',[_vm._v(_vm._s(_vm.$t("caption.source")))]),_c('input',{staticClass:"disabled",attrs:{"type":"text","value":"Account Address","disabled":true}}),_c('span',[_vm._v(_vm._s(_vm.$t("caption.amount")))]),_c('input',{directives:[{name:"model",rawName:"v-model.number",value:(_vm.donationAmount),expression:"donationAmount",modifiers:{"number":true}}],attrs:{"type":"number","disabled":_vm.sending},domProps:{"value":(_vm.donationAmount)},on:{"keyup":function($event){return _vm.resetDonation()},"input":function($event){if($event.target.composing){ return; }_vm.donationAmount=_vm._n($event.target.value)},"blur":function($event){return _vm.$forceUpdate()}}}),_c('span',[_vm._v(_vm._s(_vm.$t("caption.receiver")))]),_c('input',{staticClass:"disabled",attrs:{"type":"text","disabled":true},domProps:{"value":(_vm.receiver) ? _vm.receiver.name : ''}}),_c('span',[_vm._v(_vm._s(_vm.$t("caption.message")))]),_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.donationMessage),expression:"donationMessage"}],attrs:{"type":"text","placeholder":"Your message","disabled":_vm.sending},domProps:{"value":(_vm.donationMessage)},on:{"input":function($event){if($event.target.composing){ return; }_vm.donationMessage=$event.target.value}}}),(_vm.showFeesError && _vm.showFeesError == 'money')?_c('span',{staticClass:"error"},[_vm._v(_vm._s(_vm.$t("caption.balanceTooLow")))]):(_vm.showFeesError)?_c('span',{staticClass:"error"},[_vm._v(_vm._s(_vm.$t("caption.transactionError")))]):_vm._e(),(_vm.calculatingFees != true)?_c('button',{staticClass:"button small",attrs:{"disabled":!_vm.donationAmount || _vm.calculatedFees != null},on:{"click":_vm.onCalculateFeesClick}},[_c('i',{staticClass:"fas fa-chevron-circle-right"}),_vm._v(" "+_vm._s(_vm.$t("caption.calculateFees"))+" ")]):_vm._e(),(_vm.calculatingFees == true)?_c('div',{staticClass:"linepreloader"},[_c('linepreloader')],1):_vm._e()]),(_vm.calculatedFees != null)?_c('div',{staticClass:"donationModalBody"},[_c('span',[_vm._v(_vm._s(_vm.$t("caption.includeFeesInAmount")))]),_c('select',{directives:[{name:"model",rawName:"v-model",value:(_vm.feesDirection),expression:"feesDirection"}],attrs:{"disabled":_vm.sending},on:{"change":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return val}); _vm.feesDirection=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.feesDirectionPossibleValues),function(feeDirection){return _c('option',{domProps:{"value":feeDirection.value}},[_vm._v(" "+_vm._s(feeDirection.label)+" ")])}),0),_c('span',[_vm._v(_vm._s(_vm.$t("caption.transactionFees")))]),_c('input',{staticClass:"disabled",attrs:{"type":"number","disabled":true},domProps:{"value":_vm.calculatedFees}}),_c('span',[_vm._v(_vm._s(_vm.$t("caption.totalAmount")))]),_c('span',{staticClass:"totalAmount"},[_vm._v(_vm._s(+_vm.totalDonationAmount.toFixed(5))+" PKOIN")]),(_vm.showTransactionError && _vm.showTransactionError == 'balance too low')?_c('span',{staticClass:"error"},[_vm._v(_vm._s(_vm.$t("caption.balanceTooLow")))]):(_vm.showTransactionError)?_c('span',{staticClass:"error"},[_vm._v(_vm._s(_vm.$t("caption.transactionError")))]):_vm._e(),(_vm.sending != true)?_c('button',{staticClass:"button small",attrs:{"disabled":_vm.sending},on:{"click":_vm.sendDonation}},[_c('i',{staticClass:"fas fa-arrow-alt-circle-right"}),_vm._v(" Send ")]):_vm._e(),(_vm.sending == true)?_c('div',{staticClass:"linepreloader"},[_c('linepreloader')],1):_vm._e()]):_vm._e()]},proxy:true},{key:"footer",fn:function(){return undefined},proxy:true}],null,false,2899695861)}):_vm._e()],1)}
var topheadervue_type_template_id_3b761913_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/chat/topheader/index.vue?vue&type=template&id=3b761913&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("1da1");

// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__("a34a");
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);

// EXTERNAL MODULE: ./src/components/chats/assets/typing.vue + 4 modules
var typing = __webpack_require__("0826");

// EXTERNAL MODULE: ./src/components/contacts/index.vue + 4 modules
var contacts = __webpack_require__("71da");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/topheader?vue&type=script&lang=js&








/* harmony default export */ var topheader_vue_type_script_lang_js_ = ({
  name: 'chatTopheader',
  props: {
    chat: Object,
    u: String,
    roomInfo: false,
    aboutUser: false
  },
  components: {
    chatName: assets_name["a" /* default */],
    chatIcon: icon["a" /* default */],
    chatTyping: typing["a" /* default */],
    contacts: contacts["a" /* default */]
  },
  data: function data() {
    return {
      menuItems: [{
        click: "callupVideoHandler",
        title: this.$i18n.t("caption.videocall"),
        icon: "fas fa-camera"
      }, {
        click: "callupHandler",
        title: this.$i18n.t("caption.call"),
        icon: "fas fa-phone"
      }],
      menuItemsRoom: [{
        click: "AddMember",
        title: this.$i18n.t("caption.add"),
        icon: "fas fa-user-plus"
      }, {
        click: "MuteRoom",
        title: this.$i18n.t("caption.mute"),
        icon: "fas fa-bell-slash"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }],
      menuItemsRoomMuted: [{
        click: "AddMember",
        title: this.$i18n.t("caption.add"),
        icon: "fas fa-user-plus"
      }, {
        click: "MuteRoom",
        title: this.$i18n.t("caption.unmute"),
        icon: "fas fa-bell"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }],
      oneToOne: [{
        click: "MuteRoom",
        title: this.$i18n.t("caption.mute"),
        icon: "fas fa-bell-slash"
      },
      /*{
        click: "LeaveFromRoom",
        title: "Leave and Delete",
        icon: "fas fa-sign-out-alt"
      },*/
      {
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      oneToOneMuted: [{
        click: "MuteRoom",
        title: this.$i18n.t("caption.unmute"),
        icon: "fas fa-bell"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }, {
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      donateMenu: [{
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      loading: false,
      typing: false,
      userinfo: null,
      aboutUserShow: false,
      roomBanned: false,
      roomMuted: false,
      // --- Variables for the donation part ---
      // Boolean when the donation modal is open
      donateUserOpened: false,
      // Object containing the receiver informations
      receiver: null,
      // How much PKOIN we want to donate
      donationAmount: 0,
      // Optional message for the transaction
      donationMessage: '',
      // Calculated fees needed for the transaction
      calculatedFees: null,
      // Booleans to show errors
      showFeesError: '',
      showTransactionError: '',
      // Booleans to show spinners
      calculatingFees: false,
      sending: false,
      // To choose by who the fee should be payed by
      feesDirection: 'include',
      feesDirectionPossibleValues: [{
        value: 'include',
        label: this.$i18n.t("caption.toBePaidByReceiver")
      }, {
        value: 'exclude',
        label: this.$i18n.t("caption.toBePaidBySender")
      }]
    };
  },
  watch: {//$route: 'getdata'
  },
  mounted: function mounted() {
    this.getuserinfo();
  },
  computed: Object(vuex_esm["c" /* mapState */])({
    auth: function auth(state) {
      return state.auth;
    },
    m_chat: function m_chat() {
      if (this.chat && this.chat.roomId) {
        var pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);

        if (pushRules !== null) {
          this.roomMuted = true;
        }

        var m_chat = this.core.mtrx.client.getRoom(this.chat.roomId);
        return m_chat || {};
      }
    },
    m_chat_typing: function m_chat_typing() {
      var _this = this;

      if (!this.chat) return false;
      var chat = this.chat.roomId;
      var typing = this.$store.state.typing[chat] || {};

      var userTyping = _.find(typing, function (t, i) {
        if (t) {
          var _this$core$user$useri;

          if (i == ((_this$core$user$useri = _this.core.user.userinfo) === null || _this$core$user$useri === void 0 ? void 0 : _this$core$user$useri.id)) return false;
          return true;
        }
      });

      return userTyping || false;
    },
    totalDonationAmount: function totalDonationAmount() {
      return this.feesDirection == 'include' ? this.donationAmount : this.donationAmount + this.calculatedFees;
    }
  }),
  methods: {
    navigateToProfile: function navigateToProfile(id) {
      this.$router.push({
        path: "/contact?id=".concat(functions["a" /* default */].getmatrixid(id))
      });
    },
    getuserinfo: function getuserinfo() {
      var _this2 = this;

      if (this.u) {
        this.core.user.usersInfo(this.u).then(function (info) {
          _this2.userinfo = info[0];
        });
      }
    },
    // Return the another member in the chat
    // (it returns the last one, so make sense only for the one to one chat)
    // If no user found, return undefined
    findOtherUser: function findOtherUser() {
      var my = this.m_chat.myUserId;
      var receiver;
      var members = this.m_chat.currentState.getMembers();
      members.forEach(function (member) {
        if (member && member.userId !== my) receiver = member;
      });
      return receiver;
    },
    addMember: function addMember() {
      this.modalInviteUser();
    },
    menuItemClickHandler: function menuItemClickHandler(item, rowObject) {
      var _this3 = this;

      if (item.click === 'AddMember') {
        this.$emit('addMember', true);
        this.$refs.dropdownMenu.hidePopup();
      }

      if (item.click === 'MuteRoom') {
        var roomId = this.chat.roomId;
        var deviceID = this.core.mtrx.client.deviceId;
        var self = this;

        var pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);

        if (pushRules !== null) {
          self.core.mtrx.client.deletePushRule('global', 'room', roomId);
          this.roomMuted = false;
        } else {
          self.core.mtrx.client.setRoomMutePushRule('global', roomId, 'true');
          this.roomMuted = true;
        }

        this.$refs.dropdownMenu.hidePopup();
      }

      if (item.click === 'LeaveFromRoom') {
        var _self = this;

        this.core.mtrx.client.leave(this.chat.roomId).then(function (r) {
          _this3.core.mtrx.client.forget(_this3.chat.roomId, true).then(function (r) {
            _this3.$store.commit('DELETE_ROOM', _this3.chat.roomId);
          }).then(function (r) {
            _this3.$router.push({
              path: '/chats'
            });
          });
        });
        this.$refs.dropdownMenu.hidePopup();
      }

      if (item.click === 'BanRoom') {
        var banUserId = '';
        var banUser = this.findOtherUser();
        if (banUser && banUser.userId) banUserId = banUser.userId;
        var roomID = this.chat.roomId;
        this.core.mtrx.client.ban(roomID, banUserId, 'ban').then(function (r) {});
        this.roomBanned = true;
        this.$refs.dropdownMenu.hidePopup();
      }

      if (item.click === 'Unban') {
        var _banUserId = '';

        var _banUser = this.findOtherUser();

        if (_banUser && _banUser.userId) _banUserId = _banUser.userId;
        this.core.mtrx.client.unban(this.chat.roomId, _banUserId).then(function (r) {
          _this3.core.mtrx.client.invite(_this3.chat.roomId, _banUserId);
        });
        this.roomBanned = false;
        this.$refs.dropdownMenu.hidePopup();
      }

      if (item.click === "Donate") {
        // Open modal
        this.donateUserOpened = true; // Close dropdown menu

        this.$refs.dropdownMenu.hidePopup(); // Find the user we are about to donate to

        var receiverObj = this.findOtherUser();
        this.receiver = receiverObj ? this.$f.deep(this, '$store.state.users.' + this.$f.getmatrixid(receiverObj.name)) : null;
      }
    },
    closeDonateModal: function closeDonateModal() {
      this.donateUserOpened = false;
    },
    onCalculateFeesClick: function onCalculateFeesClick() {
      var _this4 = this;

      this.calculatingFees = true;
      this.calculateFees().finally(function () {
        return _this4.calculatingFees = false;
      });
    },
    calculateFees: function calculateFees() {
      var _this5 = this;

      var self = this;
      this.showFeesError = '';
      return new Promise(function (resolve, reject) {
        // Check parameters
        if (_this5.donationAmount <= 0 || !_this5.receiver || !_this5.receiver.source || !_this5.receiver.source.address) {
          _this5.showFeesError = 'invalid';
          return reject('Missing amount or receiver');
        } // Try calculating fees


        try {
          var sdk = window.POCKETNETINSTANCE.platform.sdk;
          sdk.node.fee.estimate(function (fees) {
            var outputs = [{
              address: self.receiver.source.address,
              amount: self.donationAmount
            }];
            sdk.wallet.txbase([sdk.address.pnet().address], outputs, 0, self.feesDirection, function (err, inputs, _outputs) {
              if (err) {
                console.error(err);
                self.showFeesError = err;
                return reject(err);
              }

              var tx = sdk.node.transactions.create.wallet(inputs, _outputs);
              var totalFees = Math.min(tx.virtualSize() * fees.feerate, 0.0999); // Got the fees

              self.calculatedFees = totalFees;
              return resolve();
            });
          });
        } catch (err) {
          console.error(err);
          self.showFeesError = err;
          return reject(err);
        }
      });
    },
    sendDonation: function sendDonation() {
      var _this6 = this;

      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {
        var self, sdk;
        return regenerator_default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                self = _this6;
                _this6.sending = true;
                _this6.showTransactionError = ''; // Recalculate the fees just before sending

                _context.prev = 3;
                _context.next = 6;
                return _this6.calculateFees();

              case 6:
                _context.next = 13;
                break;

              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](3);
                _this6.showTransactionError = 'error';
                _this6.sending = false;
                return _context.abrupt("return");

              case 13:
                // Check if current balance is enough
                sdk = window.POCKETNETINSTANCE.platform.sdk;
                sdk.node.transactions.get.canSpend(sdk.address.pnet().address, function (currentBalance) {
                  // If balance is too low
                  if (!currentBalance || isNaN(currentBalance) || currentBalance < self.totalDonationAmount) {
                    self.showTransactionError = 'balance too low';
                    self.sending = false;
                    return;
                  } // Start the send transaction process


                  try {
                    var outputs = [{
                      address: self.receiver.source.address,
                      amount: self.donationAmount
                    }];
                    sdk.wallet.embed(outputs, self.donationMessage); // Create a transaction

                    sdk.wallet.txbase([sdk.address.pnet().address], outputs, self.calculatedFees, self.feesDirection, function (err, inputs, _outputs) {
                      if (err) {
                        console.error(err);
                        self.showTransactionError = 'error';
                        self.sending = false;
                        return reject(err);
                      }

                      var tx = sdk.node.transactions.create.wallet(inputs, _outputs);
                      inputs.forEach(function (t) {
                        t.cantspend = true;
                      }); // Try sending the transaction

                      sdk.node.transactions.send(tx, function (d, err) {
                        if (err) {
                          sdk.node.transactions.releaseCS(inputs);
                          self.showTransactionError = 'error';
                          self.sending = false;
                          return;
                        } // Transaction has been sent


                        var ids = inputs.map(function (i) {
                          return i.txid;
                        });
                        sdk.node.transactions.clearUnspents(ids);
                        sdk.wallet.saveTempInfoWallet(d, inputs, _outputs); // Send an event to the chat

                        self.core.mtrx.client.sendEvent(self.chat.roomId, "m.room.message", {
                          from: self.$f.getmatrixid(self.m_chat.myUserId),
                          to: self.receiver.id,
                          amount: self.donationAmount,
                          txId: d,
                          msgtype: "m.notice"
                        }, ""); // Close the donation modal

                        self.closeDonateModal();
                      });
                    });
                  } catch (err) {
                    console.error(err);
                    self.showTransactionError = 'error';
                    self.sending = false;
                  }
                });

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[3, 8]]);
      }))();
    },
    resetDonation: function resetDonation() {
      this.calculatedFees = null;
      this.showFeesError = '';
      this.showTransactionError = '';
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/topheader?vue&type=script&lang=js&
 /* harmony default export */ var chat_topheader_vue_type_script_lang_js_ = (topheader_vue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chat/topheader/index.vue



function topheader_injectStyles (context) {
  
  var style0 = __webpack_require__("817d")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var topheader_component = Object(componentNormalizer["a" /* default */])(
  chat_topheader_vue_type_script_lang_js_,
  topheadervue_type_template_id_3b761913_scoped_true_render,
  topheadervue_type_template_id_3b761913_scoped_true_staticRenderFns,
  false,
  topheader_injectStyles,
  "3b761913",
  null
  ,true
)

/* harmony default export */ var topheader = (topheader_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/chat.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var chatvue_type_script_lang_js_ = ({
  name: 'pagechat',
  components: {
    chat: chat,
    topheader: topheader,
    contacts: contacts["a" /* default */]
  },
  data: function data() {
    return {
      events: [],
      openInviteModal: false,
      brokenRoom: false,
      hideHeader: false
    };
  },
  computed: Object(objectSpread2["a" /* default */])({
    u: function u() {
      return this.$route.query.u;
    },
    chat: function chat() {
      var id = this.$route.query.id;
      return this.$store.state.chatsMap[id];
    },
    k: function k() {
      return this.u + this.$route.query.id;
    },
    ios: function ios() {
      return functions["a" /* default */].isios();
    }
  }, Object(vuex_esm["c" /* mapState */])({
    pocketnet: function pocketnet(state) {
      return state.pocketnet;
    },
    minimized: function minimized(state) {
      return state.minimized;
    },
    mobile: function mobile(state) {
      return state.mobile;
    }
  })),
  mounted: function mounted() {
    var _this = this;

    setTimeout(function () {
      if (!_this.leaveIfBroken()) {}
    }, 2000);
  },
  methods: {
    creatorLeft: function creatorLeft(val) {
      this.brokenRoom = val;
    },
    closeModal: function closeModal() {
      this.openInviteModal = false;
    },
    closeContactModal: function closeContactModal(value) {
      this.openInviteModal = value;
    },
    addMemberModal: function addMemberModal(value) {
      this.openInviteModal = value;
    },
    newchat: function newchat(_chat) {},
    sending: function sending() {},
    eventsRoom: function eventsRoom(data) {
      this.events = data;
    },
    menuIsVisibleHandler: function menuIsVisibleHandler(isVisible) {
      this.hideHeader = isVisible;
    },
    leaveIfBroken: function leaveIfBroken() {
      var _this2 = this;

      if (this.brokenRoom) {
        this.core.mtrx.client.leave(from.query.id).then(function (r) {
          _this2.core.mtrx.client.forget(from.query.id, true).then(function (r) {
            return r;
          }).then(function (r) {
            _this2.$store.commit('DELETE_ROOM', from.query.id);
          });
        });
        return true;
      } else {
        return false;
      }
    }
  }
});
// CONCATENATED MODULE: ./src/views/chat.vue?vue&type=script&lang=js&
 /* harmony default export */ var views_chatvue_type_script_lang_js_ = (chatvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/views/chat.vue



function views_chat_injectStyles (context) {
  
  var style0 = __webpack_require__("7e41")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var views_chat_component = Object(componentNormalizer["a" /* default */])(
  views_chatvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  views_chat_injectStyles,
  "7f0235e5",
  null
  ,true
)

/* harmony default export */ var views_chat = __webpack_exports__["default"] = (views_chat_component.exports);

/***/ }),

/***/ "f082":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("91ee");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("1a21ba68", content, shadowRoot)
};

/***/ })

}]);
//# sourceMappingURL=matrix-element.5.js.map