(window["matrixElement_jsonp"] = window["matrixElement_jsonp"] || []).push([[4],{

/***/ "01e2":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_66e7a2eb_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("fdaf");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_66e7a2eb_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_66e7a2eb_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_66e7a2eb_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_index_sass_vue_type_style_index_0_id_66e7a2eb_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "0417":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("4cd5");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("5d90cea9", content, shadowRoot)
};

/***/ }),

/***/ "0538d":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("50fc");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("70a04820", content, shadowRoot)
};

/***/ }),

/***/ "0826":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"614319e0-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chats/assets/typing.vue?vue&type=template&id=d22cd0ca&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "typingBlock",
    staticStyle: {
      "position": "relative"
    }
  }, [_c('div', {
    staticClass: "typingBlockWrapper"
  }, [_c('div', [_c('span', [_vm._v(_vm._s(_vm.$t("caption.typing")))])]), _c('div', [_c('PulseLoader', {
    attrs: {
      "color": _vm.color,
      "size": _vm.size,
      "loading": true
    }
  })], 1)])]);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/chats/assets/typing.vue?vue&type=template&id=d22cd0ca&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"614319e0-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/vue-spinner/src/PulseLoader.vue?vue&type=template&id=7dc0198c&
var PulseLoadervue_type_template_id_7dc0198c_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: _vm.loading,
      expression: "loading"
    }],
    staticClass: "v-spinner"
  }, [_c('div', {
    staticClass: "v-pulse v-pulse1",
    style: [_vm.spinnerStyle, _vm.spinnerDelay1]
  }), _c('div', {
    staticClass: "v-pulse v-pulse2",
    style: [_vm.spinnerStyle, _vm.spinnerDelay2]
  }), _c('div', {
    staticClass: "v-pulse v-pulse3",
    style: [_vm.spinnerStyle, _vm.spinnerDelay3]
  })]);
};
var PulseLoadervue_type_template_id_7dc0198c_staticRenderFns = [];

// CONCATENATED MODULE: ./node_modules/vue-spinner/src/PulseLoader.vue?vue&type=template&id=7dc0198c&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/vue-spinner/src/PulseLoader.vue?vue&type=script&lang=js&
/* harmony default export */ var PulseLoadervue_type_script_lang_js_ = ({
  name: 'PulseLoader',
  props: {
    loading: {
      type: Boolean,
      default: true
    },
    color: {
      type: String,
      default: '#5dc596'
    },
    size: {
      type: String,
      default: '15px'
    },
    margin: {
      type: String,
      default: '2px'
    },
    radius: {
      type: String,
      default: '100%'
    }
  },
  data() {
    return {
      spinnerStyle: {
        backgroundColor: this.color,
        width: this.size,
        height: this.size,
        margin: this.margin,
        borderRadius: this.radius,
        display: 'inline-block',
        animationName: 'v-pulseStretchDelay',
        animationDuration: '0.75s',
        animationIterationCount: 'infinite',
        animationTimingFunction: 'cubic-bezier(.2,.68,.18,1.08)',
        animationFillMode: 'both'
      },
      spinnerDelay1: {
        animationDelay: '0.12s'
      },
      spinnerDelay2: {
        animationDelay: '0.24s'
      },
      spinnerDelay3: {
        animationDelay: '0.36s'
      }
    };
  }
});
// CONCATENATED MODULE: ./node_modules/vue-spinner/src/PulseLoader.vue?vue&type=script&lang=js&
 /* harmony default export */ var src_PulseLoadervue_type_script_lang_js_ = (PulseLoadervue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./node_modules/vue-spinner/src/PulseLoader.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__("2e6b")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  src_PulseLoadervue_type_script_lang_js_,
  PulseLoadervue_type_template_id_7dc0198c_render,
  PulseLoadervue_type_template_id_7dc0198c_staticRenderFns,
  false,
  injectStyles,
  null,
  null
  ,true
)

/* harmony default export */ var PulseLoader = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chats/assets/typing.vue?vue&type=script&lang=js&

/* harmony default export */ var typingvue_type_script_lang_js_ = ({
  name: "typing",
  props: {},
  components: {
    PulseLoader: PulseLoader
  },
  data: () => {
    return {
      color: "#868686",
      size: "2px",
      loading: true
    };
  },
  methods: {},
  computed: {}
});
// CONCATENATED MODULE: ./src/components/chats/assets/typing.vue?vue&type=script&lang=js&
 /* harmony default export */ var assets_typingvue_type_script_lang_js_ = (typingvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/chats/assets/typing.vue



function typing_injectStyles (context) {
  
  var style0 = __webpack_require__("8228")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var typing_component = Object(componentNormalizer["a" /* default */])(
  assets_typingvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  typing_injectStyles,
  null,
  null
  ,true
)

/* harmony default export */ var typing = __webpack_exports__["a"] = (typing_component.exports);

/***/ }),

/***/ "2e6b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _vue_style_loader_index_js_ref_7_oneOf_1_0_css_loader_dist_cjs_js_ref_7_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_7_oneOf_1_2_postcss_loader_src_index_js_ref_7_oneOf_1_3_cache_loader_dist_cjs_js_ref_1_0_vue_loader_lib_index_js_vue_loader_options_PulseLoader_vue_vue_type_style_index_0_id_7dc0198c_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("467a");
/* harmony import */ var _vue_style_loader_index_js_ref_7_oneOf_1_0_css_loader_dist_cjs_js_ref_7_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_7_oneOf_1_2_postcss_loader_src_index_js_ref_7_oneOf_1_3_cache_loader_dist_cjs_js_ref_1_0_vue_loader_lib_index_js_vue_loader_options_PulseLoader_vue_vue_type_style_index_0_id_7dc0198c_prod_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_vue_style_loader_index_js_ref_7_oneOf_1_0_css_loader_dist_cjs_js_ref_7_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_7_oneOf_1_2_postcss_loader_src_index_js_ref_7_oneOf_1_3_cache_loader_dist_cjs_js_ref_1_0_vue_loader_lib_index_js_vue_loader_options_PulseLoader_vue_vue_type_style_index_0_id_7dc0198c_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _vue_style_loader_index_js_ref_7_oneOf_1_0_css_loader_dist_cjs_js_ref_7_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_7_oneOf_1_2_postcss_loader_src_index_js_ref_7_oneOf_1_3_cache_loader_dist_cjs_js_ref_1_0_vue_loader_lib_index_js_vue_loader_options_PulseLoader_vue_vue_type_style_index_0_id_7dc0198c_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _vue_style_loader_index_js_ref_7_oneOf_1_0_css_loader_dist_cjs_js_ref_7_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_7_oneOf_1_2_postcss_loader_src_index_js_ref_7_oneOf_1_3_cache_loader_dist_cjs_js_ref_1_0_vue_loader_lib_index_js_vue_loader_options_PulseLoader_vue_vue_type_style_index_0_id_7dc0198c_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "467a":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("5f4b");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("9a086d26", content, shadowRoot)
};

/***/ }),

/***/ "4cd5":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "50fc":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".topheader[data-v-193bd206]{width:100%;top:0;z-index:999}.aboutContact[data-v-193bd206]{position:absolute;left:0;right:0;top:100px;bottom:0;z-index:999;background:#fff}.chat.mobile[data-v-193bd206] #maincontent .headerSpacerWrapper{bottom:0;overflow:visible}.chat.mobile[data-v-193bd206] #maincontent .headerSpacerWrapperOvf{overflow:visible}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "5f4b":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "@keyframes v-pulseStretchDelay{0%,80%{transform:scale(1);-webkit-opacity:1;opacity:1}45%{transform:scale(.1);-webkit-opacity:.7;opacity:.7}}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "6357":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_193bd206_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0538d");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_193bd206_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_193bd206_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_193bd206_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_chat_vue_vue_type_style_index_0_id_193bd206_prod_scoped_true_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "8228":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_typing_vue_vue_type_style_index_0_id_d22cd0ca_prod_lang_sass___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0417");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_typing_vue_vue_type_style_index_0_id_d22cd0ca_prod_lang_sass___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_typing_vue_vue_type_style_index_0_id_d22cd0ca_prod_lang_sass___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_typing_vue_vue_type_style_index_0_id_d22cd0ca_prod_lang_sass___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_3_node_modules_sass_loader_dist_cjs_js_ref_10_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_typing_vue_vue_type_style_index_0_id_d22cd0ca_prod_lang_sass___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));


/***/ }),

/***/ "8c07":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".call[data-v-66e7a2eb]{font-size:.8em;outline:none;position:relative;-webkit-tap-highlight-color:transparent}.call[data-v-66e7a2eb]:after{content:\"\";display:block;width:100%;height:100%;opacity:0;transition:all .5s;box-shadow:0 0 10px 40px rgba(var(--neutral-grad-2),.4)}.call[data-v-66e7a2eb]:active:after,.call[data-v-66e7a2eb]:after{position:absolute;border-radius:4em;left:0;top:0}.call[data-v-66e7a2eb]:active:after{box-shadow:0 0 0 0 rgba(var(--neutral-grad-2),.4);opacity:1;transition:0s}.call.disabled[data-v-66e7a2eb]{color:rgb(var(--neutral-grad-1));cursor:not-allowed}.call.disabled[data-v-66e7a2eb]:after{display:none}.call.wait[data-v-66e7a2eb]{color:rgb(var(--color-star-yellow));cursor:not-allowed}.call.wait[data-v-66e7a2eb]:after{display:none}.nameWrapper[data-v-66e7a2eb]{display:flex;align-items:center;justify-content:center}.roomMuted[data-v-66e7a2eb]{margin-left:.25em;color:rgb(var(--neutral-grad-4))}.roomMuted i[data-v-66e7a2eb]{font-size:.8em}.editButton[data-v-66e7a2eb]{display:flex;justify-content:center;align-items:center}.editButton i[data-v-66e7a2eb]{font-size:1.5em}.nameline[data-v-66e7a2eb],[data-v-66e7a2eb] .nameline{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[data-v-66e7a2eb] .nameline{max-width:250px}[data-v-66e7a2eb] #topheader.minimized.fix{background:transparent;overflow:inherit}[data-v-66e7a2eb] #search{padding-left:.5em;padding-right:.5em}.donationModalBody[data-v-66e7a2eb]{padding:1em;display:flex;flex-direction:column}.donationModalBody span[data-v-66e7a2eb]{color:rgb(var(--color-txt-ac))}.donationModalBody input[data-v-66e7a2eb],.donationModalBody select[data-v-66e7a2eb]{margin-top:.5em;margin-bottom:1.5em;border:1px solid rgb(var(--color-txt-ac));border-radius:3px;padding:.5em}.donationModalBody input.disabled[data-v-66e7a2eb],.donationModalBody select.disabled[data-v-66e7a2eb]{color:rgb(var(--neutral-grad-2));border:1px solid rgba(var(--neutral-grad-2),.5)}.donationModalBody button[data-v-66e7a2eb]{margin-top:1em}.donationModalBody button i[data-v-66e7a2eb]{margin-right:.2em}.donationModalBody .totalAmount[data-v-66e7a2eb]{font-weight:700;margin-left:.5em;margin-top:.5em;margin-bottom:1em}.donationModalBody .error[data-v-66e7a2eb]{color:rgb(var(--color-bad));text-align:center}.donationModalBody .linepreloader[data-v-66e7a2eb]{text-align:center;height:29px;margin-top:1em}#simpleSearch .matches[data-v-66e7a2eb]{display:flex;align-items:center;height:100%}#simpleSearch .matches i[data-v-66e7a2eb],#simpleSearch .matches span[data-v-66e7a2eb]{font-size:.8em;padding:.5em}#simpleSearch .matches i[data-v-66e7a2eb]{cursor:pointer}#simpleSearch .matches i[data-v-66e7a2eb]:hover{color:rgb(var(--color-txt-ac))}.encrypted[data-v-66e7a2eb]{z-index:2;color:rgb(var(--color-good));padding:.25em .5em}.encrypted i[data-v-66e7a2eb]{font-size:.8em;cursor:pointer}.encryptedInfo[data-v-66e7a2eb]{cursor:default;margin-left:-25px;position:absolute;top:50%;transform:translateY(-50%);z-index:9999;display:flex;justify-content:center;align-items:center;flex-direction:column}.encryptedInfo #slide[data-v-66e7a2eb]{border-radius:8px;padding:0 .5em;position:absolute;left:0;background:#fff;-webkit-animation:slide-66e7a2eb .1s forwards;-webkit-animation-delay:.3s;animation:slide-66e7a2eb .1s forwards;animation-delay:.3s;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}@keyframes slide-66e7a2eb{to{left:0}}.encryptedInfo button[data-v-66e7a2eb]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;text-align:left}.encryptedInfo button i[data-v-66e7a2eb]{margin-right:5px}.encryptedInfo .encryptedTxtIcon[data-v-66e7a2eb]{flex-direction:column;align-items:center;justify-content:center;padding:.25em .25em;text-align:center}.encryptedInfo .encryptedTxtIcon span[data-v-66e7a2eb]{color:rgb(var(--color-good));font-size:.8em}.encryptedInfo .encryptedTxtIcon i[data-v-66e7a2eb]{color:rgb(var(--color-good));display:none}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "ee79":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"614319e0-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/chat.vue?vue&type=template&id=193bd206&scoped=true&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "page chat",
    class: {
      mobile: _vm.mobile
    }
  }, [_c('topheader', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: !_vm.hideHeader || !_vm.ios,
      expression: "!hideHeader || !ios"
    }],
    key: _vm.k,
    staticClass: "topheader",
    attrs: {
      "u": _vm.u,
      "chat": _vm.chat,
      "search": _vm.search,
      "focusedevent": _vm.focusedevent,
      "process": _vm.processid,
      "searchresults": _vm.processresult
    },
    on: {
      "searching": _vm.searching,
      "addMember": _vm.addMemberModal,
      "tosearchevent": _vm.tosearchevent
    }
  }), _c('maincontent', {
    scopedSlots: _vm._u([{
      key: "content",
      fn: function () {
        return [_c('chat', {
          key: _vm.k,
          ref: "chat",
          attrs: {
            "u": _vm.u,
            "chat": _vm.chat,
            "toevent": _vm.toevent,
            "search": _vm.search,
            "searchresults": _vm.processresult
          },
          on: {
            "sending": _vm.sending,
            "newchat": _vm.newchat,
            "removeBrokenRoom": _vm.creatorLeft,
            "getEvents": _vm.eventsRoom,
            "menuIsVisible": _vm.menuIsVisibleHandler,
            "toeventscrolled": _vm.toeventscrolled
          }
        })];
      },
      proxy: true
    }])
  }), _vm.openInviteModal ? _c('modal', {
    on: {
      "close": _vm.closeModal
    },
    scopedSlots: _vm._u([{
      key: "header",
      fn: function () {
        return [_c('span', [_vm._v(_vm._s(_vm.$t("caption.inviteUser")))])];
      },
      proxy: true
    }, {
      key: "body",
      fn: function () {
        return [_c('contacts', {
          attrs: {
            "mode": `inviteUsers`,
            "chatRoomId": _vm.chat.roomId
          },
          on: {
            "closeModal": _vm.closeContactModal
          }
        })];
      },
      proxy: true
    }, {
      key: "footer",
      fn: function () {
        return undefined;
      },
      proxy: true
    }], null, false, 1321158477)
  }) : _vm._e()], 1);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./src/views/chat.vue?vue&type=template&id=193bd206&scoped=true&

// EXTERNAL MODULE: ./src/components/chat/index.vue + 24 modules
var chat = __webpack_require__("b163");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"614319e0-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/chat/topheader/index.vue?vue&type=template&id=66e7a2eb&scoped=true&
var topheadervue_type_template_id_66e7a2eb_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c,
    _setup = _vm._self._setupProxy;
  return _c('div', {
    attrs: {
      "id": "chatTopheader"
    }
  }, [_vm.chat || _vm.u ? _c('topheader', {
    scopedSlots: _vm._u([{
      key: "left",
      fn: function () {
        return [_c('backButton', {
          attrs: {
            "action": "chats"
          }
        })];
      },
      proxy: true
    }, {
      key: "leftadd",
      fn: function () {
        return [_c('div', {
          staticClass: "iconbuttonsmall",
          on: {
            "click": _vm.tosearch
          }
        }, [_c('i', {
          staticClass: "fas fa-search"
        })])];
      },
      proxy: true
    }, {
      key: "info",
      fn: function () {
        return [_vm.chat ? _c('router-link', {
          attrs: {
            "to": 'chatInfo?id=' + _vm.chat.roomId
          }
        }, [_vm.m_chat ? _c('div', [_c('div', {
          staticClass: "nameWrapper"
        }, [!_vm.roomInfo ? _c('chatName', {
          attrs: {
            "preview": true,
            "chat": _vm.chat,
            "m_chat": _vm.m_chat
          }
        }) : _vm._e(), _vm.roomMuted ? _c('div', {
          staticClass: "roomMuted"
        }, [_c('i', {
          staticClass: "fas fa-bell-slash"
        })]) : _vm._e()], 1), _c('transition', {
          attrs: {
            "name": "fade"
          }
        }, [_vm.m_chat_typing ? _c('chatTyping') : _vm._e()], 1)], 1) : _vm._e(), !_vm.m_chat && _vm.userinfo ? _c('div', [_c('span', {
          staticClass: "nameline"
        }, [_vm._v(_vm._s(_vm.userinfo.name))])]) : _vm._e()]) : _vm._e()];
      },
      proxy: true
    }, _vm.callsEnabled && _vm.m_chat ? {
      key: "rightadd",
      fn: function () {
        return [_vm.isCallsActive && !_vm.isGroup ? _c('div', {
          staticClass: "call btn iconbutton",
          class: _vm.checkCallsEnabled === 'wait' || _vm.wait ? 'wait' : _vm.checkCallsEnabled ? '' : 'disabled',
          attrs: {
            "title": _vm.checkCallsEnabled === 'wait' || _vm.wait ? _vm.$t('caption.wait') : _vm.checkCallsEnabled ? '' : _vm.$t('caption.disabled')
          },
          on: {
            "click": _vm.bcCall
          }
        }, [_c('i', {
          staticClass: "fas fa-video"
        })]) : _vm._e()];
      },
      proxy: true
    } : null, {
      key: "right",
      fn: function () {
        return [_vm.chat ? _c('router-link', {
          attrs: {
            "to": 'chatInfo?id=' + _vm.chat.roomId
          }
        }, [_c('div', {
          staticClass: "iconbutton"
        }, [_c('i', {
          staticClass: "fas fa-ellipsis-h"
        })])]) : _vm._e()];
      },
      proxy: true
    }], null, true)
  }) : _vm._e(), _vm.chat && _vm.searchactive ? _c('topheader', {
    attrs: {
      "classstyle": "noiconsButWithL"
    },
    scopedSlots: _vm._u([{
      key: "left",
      fn: function () {
        return [_c('backButton', {
          on: {
            "back": _vm.backfromsearch
          }
        })];
      },
      proxy: true
    }, {
      key: "info",
      fn: function () {
        return [_c('simpleSearch', {
          ref: "search",
          attrs: {
            "value": _vm.search,
            "controlKeys": true
          },
          on: {
            "search": _vm.searching,
            "controlKey": _vm.searchControlKey
          },
          scopedSlots: _vm._u([_vm.searchresults && _vm.searchresults.length ? {
            key: "default",
            fn: function () {
              return [_c('div', {
                staticClass: "matches"
              }, [_c('span', {
                staticClass: "current-match"
              }, [_vm._v(_vm._s(_vm.searchresults.length - _vm.focusedeventIndex) + "/" + _vm._s(_vm.searchresults.length))]), _c('i', {
                staticClass: "prev-match fas fa-chevron-up",
                on: {
                  "click": _vm.tobottomsearch
                }
              }), _c('i', {
                staticClass: "next-match fas fa-chevron-down",
                on: {
                  "click": _vm.toupsearch
                }
              })]), _vm.search ? _c('div', {
                staticClass: "iconWrapper",
                on: {
                  "click": () => {
                    _vm.searching('');
                  }
                }
              }, [_c('i', {
                staticClass: "fas fa-times"
              })]) : _vm._e()];
            },
            proxy: true
          } : null], null, true)
        })];
      },
      proxy: true
    }], null, false, 3516297580)
  }) : _vm._e()], 1);
};
var topheadervue_type_template_id_66e7a2eb_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/chat/topheader/index.vue?vue&type=template&id=66e7a2eb&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("1da1");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__("14d9");

// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js
var vuex_esm = __webpack_require__("2f62");

// EXTERNAL MODULE: ./src/components/chats/assets/name.vue + 4 modules
var assets_name = __webpack_require__("aa20");

// EXTERNAL MODULE: ./src/components/chats/assets/icon.vue + 4 modules
var icon = __webpack_require__("3094");

// EXTERNAL MODULE: ./src/components/chats/assets/typing.vue + 9 modules
var typing = __webpack_require__("0826");

// EXTERNAL MODULE: ./src/components/contacts/index.vue + 4 modules
var contacts = __webpack_require__("71da");

// EXTERNAL MODULE: ./src/application/functions.js
var functions = __webpack_require__("3139");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./src/components/chat/topheader?vue&type=script&lang=js&








/* harmony default export */ var topheader_vue_type_script_lang_js_ = ({
  name: "chatTopheader",
  props: {
    chat: Object,
    u: String,
    roomInfo: false,
    aboutUser: false,
    search: String,
    process: String,
    searchresults: null,
    focusedevent: null
  },
  inject: ["matches"],
  components: {
    chatName: assets_name["a" /* default */],
    chatIcon: icon["a" /* default */],
    chatTyping: typing["a" /* default */],
    contacts: contacts["a" /* default */]
  },
  data: function () {
    return {
      menuItems: [{
        click: "callupVideoHandler",
        title: this.$i18n.t("caption.videocall"),
        icon: "fas fa-camera"
      }, {
        click: "callupHandler",
        title: this.$i18n.t("caption.call"),
        icon: "fas fa-phone"
      }],
      menuItemsRoom: [{
        click: "AddMember",
        title: this.$i18n.t("caption.add"),
        icon: "fas fa-user-plus"
      }, {
        click: "MuteRoom",
        title: this.$i18n.t("caption.mute"),
        icon: "fas fa-bell-slash"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }],
      menuItemsRoomMuted: [{
        click: "AddMember",
        title: this.$i18n.t("caption.add"),
        icon: "fas fa-user-plus"
      }, {
        click: "MuteRoom",
        title: this.$i18n.t("caption.unmute"),
        icon: "fas fa-bell"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }],
      oneToOne: [{
        click: "MuteRoom",
        title: this.$i18n.t("caption.mute"),
        icon: "fas fa-bell-slash"
      },
      /*{
            click: "LeaveFromRoom",
            title: "Leave and Delete",
            icon: "fas fa-sign-out-alt"
          },*/
      {
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      oneToOneMuted: [{
        click: "MuteRoom",
        title: this.$i18n.t("caption.unmute"),
        icon: "fas fa-bell"
      }, {
        click: "LeaveFromRoom",
        title: this.$i18n.t("caption.leaveAndDelete"),
        icon: "fas fa-sign-out-alt"
      }, {
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      donateMenu: [{
        click: "Donate",
        title: this.$i18n.t("caption.donate"),
        icon: "fas fa-money-bill-wave"
      }],
      wait: false,
      loading: false,
      typing: false,
      userinfo: null,
      aboutUserShow: false,
      roomBanned: false,
      roomMuted: false,
      searchactive: false,
      // --- Variables for the donation part ---
      // Boolean when the donation modal is open
      donateUserOpened: false,
      // Object containing the receiver informations
      receiver: null,
      // How much PKOIN we want to donate
      donationAmount: 0,
      // Optional message for the transaction
      donationMessage: "",
      // Calculated fees needed for the transaction
      calculatedFees: null,
      // Booleans to show errors
      showFeesError: "",
      showTransactionError: "",
      // Booleans to show spinners
      calculatingFees: false,
      sending: false,
      // To choose by who the fee should be payed by
      feesDirection: "include",
      feesDirectionPossibleValues: [{
        value: "include",
        label: this.$i18n.t("caption.toBePaidByReceiver")
      }, {
        value: "exclude",
        label: this.$i18n.t("caption.toBePaidBySender")
      }],
      hoverEncrypt: false
    };
  },
  watch: {
    //$route: 'getdata'
  },
  mounted: function () {
    this.getuserinfo();
    if (this.search) {
      this.searchactive = true;
    }
  },
  computed: Object(vuex_esm["c" /* mapState */])({
    focusedeventIndex: function () {
      if (!this.searchresults || !this.focusedevent) {
        return null;
      }
      var i = -1;
      _.find(this.searchresults, (e, index) => {
        if (e.event.event_id == this.focusedevent.event.event_id) {
          i = index;
          return true;
        }
      });

      //if (i < 1) i = 1

      return i;
    },
    callsEnabled: state => state.isCallsEnabled,
    checkCallsEnabled: function () {
      var _this$$store$state$Ch, _this$$store$state$Ch2;
      if ((_this$$store$state$Ch = this.$store.state.ChatStatuses[this.m_chat.roomId]) !== null && _this$$store$state$Ch !== void 0 && _this$$store$state$Ch.enabled) {
        this.wait = false;
        return true;
      } else if ((_this$$store$state$Ch2 = this.$store.state.ChatStatuses[this.m_chat.roomId]) !== null && _this$$store$state$Ch2 !== void 0 && _this$$store$state$Ch2.isWaiting) {
        return "wait";
      } else {
        this.wait = false;
        return false;
      }
    },
    isGroup: function () {
      var _this$m_chat;
      return ((_this$m_chat = this.m_chat) === null || _this$m_chat === void 0 ? void 0 : _this$m_chat.name.slice(0, 1)) === "@";
    },
    auth: state => state.auth,
    isCallsActive: state => state.isCallsActive,
    m_chat: function () {
      if (this.chat && this.chat.roomId) {
        let pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);
        if (pushRules !== null) {
          this.roomMuted = true;
        }
        var m_chat = this.core.mtrx.client.getRoom(this.chat.roomId);
        return m_chat || {};
      }
    },
    m_chat_typing: function () {
      if (!this.chat) return false;
      var chat = this.chat.roomId;
      var typing = this.$store.state.typing[chat] || {};
      var userTyping = _.find(typing, (t, i) => {
        if (t) {
          var _this$core$user$useri;
          if (i == ((_this$core$user$useri = this.core.user.userinfo) === null || _this$core$user$useri === void 0 ? void 0 : _this$core$user$useri.id)) return false;
          return true;
        }
      });
      return userTyping || false;
    },
    totalDonationAmount: function () {
      return this.feesDirection == "include" ? this.donationAmount : this.donationAmount + this.calculatedFees;
    }
  }),
  methods: {
    searchControlKey: function (key) {
      if (key == 'up') this.tobottomsearch();
      if (key == 'down') this.toupsearch();
    },
    toupsearch: function () {
      if (!this.searchresults) return;
      var i = this.focusedeventIndex;
      if (i <= this.searchresults.length - 2) {
        this.$emit('tosearchevent', this.searchresults[this.focusedeventIndex + 1]);
      } else {
        this.$emit('tosearchevent', this.searchresults[0]);
      }
    },
    tobottomsearch: function () {
      if (!this.searchresults && this.searchresults.length) return;
      var i = this.focusedeventIndex;
      if (i > 0) this.$emit('tosearchevent', this.searchresults[this.focusedeventIndex - 1]);else this.$emit('tosearchevent', this.searchresults[this.searchresults.length - 1]);
    },
    backfromsearch: function () {
      if (this.process) {
        this.$router.push("chats?process=" + this.process).catch(e => {});
      } else {
        this.searchactive = false;
        this.searching('');
      }
    },
    tosearch: function () {
      this.searchactive = true;
      setTimeout(() => {
        if (this.$refs.search) this.$refs.search.focus();
      }, 100);
    },
    searching: function (str) {
      this.$emit('searching', str);
      if (!str) {
        this.searchactive = false;
      }
    },
    bcCall: function () {
      if (!this.checkCallsEnabled) {
        this.$dialog.confirm(this.$t("caption.request"), {
          okText: this.$t("yes"),
          cancelText: this.$t("cancel")
        }).then(() => {
          this.core.mtrx.client.sendStateEvent(this.chat.roomId, "m.room.callsEnabled", {
            enabled: true
          }, this.core.user.userinfo.id);
          this.wait = true;
          this.requestCallsAccess();
        });
        return;
      } else if (this.checkCallsEnabled === "wait") {
        return;
      }
      let local = document.querySelector("body");
      this.core.mtrx.bastyonCalls.initCall(this.chat.roomId, local).then(matrixCall => {
        console.log('matrixCall', matrixCall);

        // if (matrixCall) this.$store.dispatch("CALL", matrixCall);
      }).catch(e => {
        console.log("error", e);
      });
    },
    requestCallsAccess() {
      this.core.mtrx.client.sendStateEvent(this.m_chat.roomId, "m.room.request_calls_access", {
        accepted: null
      });
    },
    navigateToProfile(id) {
      this.$router.push({
        path: `/contact?id=${functions["a" /* default */].getmatrixid(id)}`
      }).catch(e => {});
    },
    getuserinfo: function () {
      if (this.u) {
        this.core.user.usersInfo(this.u).then(info => {
          this.userinfo = info[0];
        });
      }
    },
    // Return the another member in the chat
    // (it returns the last one, so make sense only for the one to one chat)
    // If no user found, return undefined
    findOtherUser: function () {
      let my = this.m_chat.myUserId;
      let receiver;
      let members = this.m_chat.currentState.getMembers();
      members.forEach(function (member) {
        if (member && member.userId !== my) receiver = member;
      });
      return receiver;
    },
    addMember() {
      this.modalInviteUser();
    },
    menuItemClickHandler(item, rowObject) {
      if (item.click === "AddMember") {
        this.$emit("addMember", true);
        this.$refs.dropdownMenu.hidePopup();
      }
      if (item.click === "MuteRoom") {
        var roomId = this.chat.roomId;
        var deviceID = this.core.mtrx.client.deviceId;
        let self = this;
        let pushRules = this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);
        if (pushRules !== null) {
          self.core.mtrx.client.deletePushRule("global", "room", roomId);
          this.roomMuted = false;
        } else {
          self.core.mtrx.client.setRoomMutePushRule("global", roomId, "true");
          this.roomMuted = true;
        }
        this.$refs.dropdownMenu.hidePopup();
      }
      if (item.click === "LeaveFromRoom") {
        let self = this;
        this.core.mtrx.client.leave(this.chat.roomId).then(r => {
          this.core.mtrx.client.forget(this.chat.roomId, true).then(r => {
            this.$store.commit("DELETE_ROOM", this.chat.roomId);
          }).then(r => {
            this.$router.push({
              path: "/chats"
            }).catch(e => {});
          });
        });
        this.$refs.dropdownMenu.hidePopup();
      }
      if (item.click === "BanRoom") {
        let banUserId = "";
        let banUser = this.findOtherUser();
        if (banUser && banUser.userId) banUserId = banUser.userId;
        let roomID = this.chat.roomId;
        this.core.mtrx.client.ban(roomID, banUserId, "ban").then(r => {});
        this.roomBanned = true;
        this.$refs.dropdownMenu.hidePopup();
      }
      if (item.click === "Unban") {
        let banUserId = "";
        let banUser = this.findOtherUser();
        if (banUser && banUser.userId) banUserId = banUser.userId;
        this.core.mtrx.client.unban(this.chat.roomId, banUserId).then(r => {
          this.core.mtrx.client.invite(this.chat.roomId, banUserId);
        });
        this.roomBanned = false;
        this.$refs.dropdownMenu.hidePopup();
      }
      if (item.click === "Donate") {
        // Open modal
        this.donateUserOpened = true;
        // Close dropdown menu
        this.$refs.dropdownMenu.hidePopup();
        // Find the user we are about to donate to
        let receiverObj = this.findOtherUser();
        this.receiver = receiverObj ? this.$f.deep(this, "$store.state.users." + this.$f.getmatrixid(receiverObj.name)) : null;
      }
    },
    closeDonateModal() {
      this.donateUserOpened = false;
    },
    onCalculateFeesClick() {
      this.calculatingFees = true;
      this.calculateFees().finally(() => this.calculatingFees = false);
    },
    calculateFees() {
      var self = this;
      this.showFeesError = "";
      return new Promise((resolve, reject) => {
        // Check parameters
        if (this.donationAmount <= 0 || !this.receiver || !this.receiver.source || !this.receiver.source.address) {
          this.showFeesError = "invalid";
          return reject("Missing amount or receiver");
        }
        // Try calculating fees
        try {
          var sdk = window.POCKETNETINSTANCE.platform.sdk;
          sdk.node.fee.estimate(function (fees) {
            var outputs = [{
              address: self.receiver.source.address,
              amount: self.donationAmount
            }];
            sdk.wallet.txbase([sdk.address.pnet().address], outputs, 0, self.feesDirection, function (err, inputs, _outputs) {
              if (err) {
                console.error(err);
                self.showFeesError = err;
                return reject(err);
              }
              var tx = sdk.node.transactions.create.wallet(inputs, _outputs);
              var totalFees = Math.min(tx.virtualSize() * fees.feerate, 0.0999);
              // Got the fees
              self.calculatedFees = totalFees;
              return resolve();
            });
          });
        } catch (err) {
          console.error(err);
          self.showFeesError = err;
          return reject(err);
        }
      });
    },
    sendDonation() {
      var _this = this;
      return Object(asyncToGenerator["a" /* default */])(function* () {
        var self = _this;
        _this.sending = true;
        _this.showTransactionError = "";
        // Recalculate the fees just before sending
        try {
          yield _this.calculateFees();
        } catch (err) {
          _this.showTransactionError = "error";
          _this.sending = false;
          return;
        }
        // Check if current balance is enough
        var sdk = window.POCKETNETINSTANCE.platform.sdk;
        sdk.node.transactions.get.canSpend(sdk.address.pnet().address, currentBalance => {
          // If balance is too low
          if (!currentBalance || isNaN(currentBalance) || currentBalance < self.totalDonationAmount) {
            self.showTransactionError = "balance too low";
            self.sending = false;
            return;
          }
          // Start the send transaction process
          try {
            var outputs = [{
              address: self.receiver.source.address,
              amount: self.donationAmount
            }];
            sdk.wallet.embed(outputs, self.donationMessage);
            // Create a transaction
            sdk.wallet.txbase([sdk.address.pnet().address], outputs, self.calculatedFees, self.feesDirection, function (err, inputs, _outputs) {
              if (err) {
                console.error(err);
                self.showTransactionError = "error";
                self.sending = false;
                return reject(err);
              }
              var tx = sdk.node.transactions.create.wallet(inputs, _outputs);
              inputs.forEach(t => {
                t.cantspend = true;
              });
              // Try sending the transaction
              sdk.node.transactions.send(tx, function (d, err) {
                if (err) {
                  sdk.node.transactions.releaseCS(inputs);
                  self.showTransactionError = "error";
                  self.sending = false;
                  return;
                }
                // Transaction has been sent
                var ids = inputs.map(i => i.txid);
                sdk.node.transactions.clearUnspents(ids);
                sdk.wallet.saveTempInfoWallet(d, inputs, _outputs);
                // Send an event to the chat
                self.core.mtrx.client.sendEvent(self.chat.roomId, "m.room.message", {
                  from: self.$f.getmatrixid(self.m_chat.myUserId),
                  to: self.receiver.id,
                  amount: self.donationAmount,
                  txId: d,
                  msgtype: "m.notice"
                }, "");
                // Close the donation modal
                self.closeDonateModal();
              });
            });
          } catch (err) {
            console.error(err);
            self.showTransactionError = "error";
            self.sending = false;
          }
        });
      })();
    },
    resetDonation() {
      this.calculatedFees = null;
      this.showFeesError = "";
      this.showTransactionError = "";
    }
  }
});
// CONCATENATED MODULE: ./src/components/chat/topheader?vue&type=script&lang=js&
 /* harmony default export */ var chat_topheader_vue_type_script_lang_js_ = (topheader_vue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/chat/topheader/index.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__("01e2")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  chat_topheader_vue_type_script_lang_js_,
  topheadervue_type_template_id_66e7a2eb_scoped_true_render,
  topheadervue_type_template_id_66e7a2eb_scoped_true_staticRenderFns,
  false,
  injectStyles,
  "66e7a2eb",
  null
  ,true
)

/* harmony default export */ var topheader = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/chat.vue?vue&type=script&lang=js&





/* harmony default export */ var chatvue_type_script_lang_js_ = ({
  name: "pagechat",
  components: {
    chat: chat["a" /* default */],
    topheader: topheader,
    contacts: contacts["a" /* default */]
  },
  data: () => {
    return {
      events: [],
      openInviteModal: false,
      brokenRoom: false,
      hideHeader: false,
      hastoeventscrolled: false,
      hasprocesscleared: false,
      searchchanged: undefined,
      process: null,
      processresult: null,
      focusedevent: null
    };
  },
  computed: {
    u() {
      return this.$route.query.u;
    },
    chat() {
      var id = this.$route.query.id;
      return this.$store.state.chatsMap[id];
    },
    k() {
      return this.u + this.$route.query.id;
    },
    processid() {
      return this.hasprocesscleared ? null : this.$route.query.process;
    },
    search() {
      return (typeof this.searchchanged == 'undefined' ? this.$route.query.search : this.searchchanged) || "";
    },
    toevent() {
      return this.hastoeventscrolled ? null : this.$route.query.toevent;
    },
    ios() {
      return functions["a" /* default */].isios();
    },
    ...Object(vuex_esm["c" /* mapState */])({
      pocketnet: state => state.pocketnet,
      minimized: state => state.minimized,
      mobile: state => state.mobile
    })
  },
  mounted() {
    setTimeout(() => {
      if (!this.leaveIfBroken()) {}
    }, 2000);

    //setTimeout(() => {
    if (this.toevent) {}
    //}, 300)
  },

  beforeDestroy: function () {
    if (this.process) this.process.stop();
  },
  watch: {
    search: {
      immediate: true,
      handler: function () {
        pretry(() => {
          return this.chat;
        }).then(() => {
          this.searchingProcess();
        });
      }
    }
  },
  methods: {
    tosearchevent(event) {
      console.log('event', event);
      this.focusedevent = event;
      this.$refs['chat'].scrollToEvent(event);
    },
    searchingProcess() {
      console.log("HERE", this.search, this.chat);
      if (this.search.length > 1 && this.chat) {
        this.processresult = null;
        if (this.process) {
          this.process.updateText(this.search);
          return;
        }
        console.log("INITTEXT");
        this.process = this.core.mtrx.searchEngine.execute(this.search, [this.chat], _ref => {
          let {
            results
          } = _ref;
          return false;
        }, {
          chat: result => {
            console.log("RESULT", result);
            this.processresult = result.results[this.chat.roomId] || null;
            if (!this.processresult) return;
            if (!this.focusedevent && this.processresult[0]) {
              if (this.toevent) {
                var e = _.find(this.processresult, e => {
                  return e.event.event_id == this.toevent;
                });
                console.log('this.toevent', e, this.toevent);
                if (e) {
                  this.toeventscrolled();
                  this.tosearchevent(e);
                }
              } else {
                this.tosearchevent(this.processresult[0]);
              }
            }
          }
        });
        this.process.execute().catch(e => {
          console.error(e);
        });
      } else {
        if (this.process) this.process.stop();
        this.processresult = null;
        this.focusedevent = null;
        this.processcleared();
      }
    },
    searching(txt) {
      this.searchchanged = txt;
    },
    processcleared() {
      this.hasprocesscleared = true;
    },
    toeventscrolled() {
      this.hastoeventscrolled = true;
    },
    creatorLeft(val) {
      this.brokenRoom = val;
    },
    closeModal() {
      this.openInviteModal = false;
    },
    closeContactModal(value) {
      this.openInviteModal = value;
    },
    addMemberModal(value) {
      this.openInviteModal = value;
    },
    newchat(_chat) {},
    sending() {},
    eventsRoom(data) {
      this.events = data;
    },
    menuIsVisibleHandler(isVisible) {
      this.hideHeader = isVisible;
    },
    leaveIfBroken() {
      if (this.brokenRoom) {
        this.core.mtrx.client.leave(from.query.id).then(r => {
          this.core.mtrx.client.forget(from.query.id, true).then(r => {
            return r;
          }).then(r => {
            this.$store.commit("DELETE_ROOM", from.query.id);
          });
        });
        return true;
      } else {
        return false;
      }
    }
  }
});
// CONCATENATED MODULE: ./src/views/chat.vue?vue&type=script&lang=js&
 /* harmony default export */ var views_chatvue_type_script_lang_js_ = (chatvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/views/chat.vue



function chat_injectStyles (context) {
  
  var style0 = __webpack_require__("6357")
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var chat_component = Object(componentNormalizer["a" /* default */])(
  views_chatvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  chat_injectStyles,
  "193bd206",
  null
  ,true
)

/* harmony default export */ var views_chat = __webpack_exports__["default"] = (chat_component.exports);

/***/ }),

/***/ "fdaf":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("8c07");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to Shadow Root
var add = __webpack_require__("35d6").default
module.exports.__inject__ = function (shadowRoot) {
  add("5fda6366", content, shadowRoot)
};

/***/ })

}]);
//# sourceMappingURL=matrix-element.4.js.map