(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f115af6"],{"14ac":function(t,e,i){"use strict";i("c7ca4")},"40d2":function(t,e,i){"use strict";i("61bc")},5719:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatpublicroom"},[t.ready?i("div",[t.room.length>0?i("div",{staticClass:"publicPreviewContent"},[i("div",{staticClass:"name"},[i("span",[t._v(t._s(t.room[0].name))])]),t.room[0].topic?i("div",{staticClass:"topic"},[i("span",[t._v(t._s(t.room[0].topic.replace(/_/g," ")))])]):t._e(),i("div",{staticClass:"membersCount"},[i("i",{staticClass:"fas fa-users"}),i("span",[i("b",[t._v(t._s(t.room[0].num_joined_members))]),t._v(" Users in room")])]),i("div",{staticClass:"actions"},[i("button",{staticClass:"button small rounded",on:{click:function(e){return t.joinRoom()}}},[t._v(t._s(t.$t("button.join"))+" ")])])]):i("div",{staticClass:"empty"},[t._m(0)])]):i("div",[i("div",{staticClass:"empty"},[i("linepreloader")],1)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"caption"},[i("span",[t._v("Room not found")])])}],r=i("2f62"),o=i("08da"),s={name:"chatpublicroom",props:{id:String},data:function(){return{ready:!1,room:{}}},components:{topheader:o["a"]},computed:Object(r["c"])({active:t=>t.active,pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,pocketteammessages:t=>t.pocketteammessages}),methods:{joinRoom(){this.core.mtrx.client.joinRoom(this.room[0].room_id).then(t=>{this.$router.push("/chat?id="+this.room[0].room_id).catch(t=>{})})}},mounted(){this.core.mtrx.wait().then(t=>{this.core.mtrx.client.publicRooms().then(t=>(this.ready=!0,"!"===this.id[0]?this.room=t["chunk"].filter(t=>t.room_id===this.id):this.room=t["chunk"].filter(t=>t.name===this.id.replace(/_/g," "))))})}},c=s,d=(i("c09f"),i("f155"),i("2877")),m=Object(d["a"])(c,n,a,!1,null,"ffacfd66",null);e["a"]=m.exports},"61bc":function(t,e,i){},"6a4f":function(t,e,i){},7272:function(t,e,i){},"7e786":function(t,e,i){},"8e73":function(t,e,i){"use strict";i("6a4f")},a9e7:function(t,e,i){},ab2a5:function(t,e,i){"use strict";i("f761")},c09f:function(t,e,i){"use strict";i("7272")},c7ca4:function(t,e,i){},d6fd:function(t,e,i){"use strict";i("a9e7")},dacd:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"metaMsg",staticClass:"metaMsg"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.iframe,expression:"iframe"}],staticClass:"pocketnet_iframe_wrapper"},[i("div",{ref:"iframe",staticClass:"pocketnet_iframe"}),t.gotopn?i("div",{staticClass:"openlink"},[i("button",{staticClass:"button orange small rounded",on:{click:function(e){return t.openlinkiframe(t.url)}}},[t._v(" "+t._s(t.$t("caption.open"))+" ")])]):t._e()]),t.matrix?i("div",{staticClass:"matrixUrl"},[i("matrixlink",{attrs:{url:t.url}})],1):t._e(),t.iframe||t.matrix?t._e():i("div",{staticClass:"customURL"},[i("div",{staticClass:"link"},[i("div",{on:{click:function(e){return t.openlink(t.url)}}},[i("i",{staticClass:"fas fa-link"}),t._v(" "),i("span",[t._v(t._s(t.url))])])]),t.image||t.title?i("div",{staticClass:"header"},[t.image?i("div",[i("bgimage",{attrs:{src:t.image}})],1):t._e(),i("div",{staticClass:"header-text"},[i("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.description?i("span",{staticClass:"description"},[t._v(t._s(t.description))]):t._e()])]):t._e()])])},a=[],r=function(){var t=this;return t.renders={iframe:function(t,e,i,n){var a=window.pocketnetdomain||"pocketnet.app";return'<iframe width="100%" src="https://'+a+"/openapi.html?action="+e+"&id="+i+"&embeddingSettigns="+n+'" id="pocketnet_iframe_'+t+'" scrolling="no" style="border: none;" frameborder="0" marginheight="0" marginwidth="0" loading="lazy" allowfullscreen allowautoplay></iframe>'}},t.make=function(e,i,n,a,r,o,s,c,d){c||(c={});var m=document.getElementById("pocketnet_"+e);if(window.POCKETNETINSTANCE&&r){m=$(o).find("#pocketnet_"+e);var l=window.POCKETNETINSTANCE,u={id:makeid()};try{u=JSON.parse(hexDecode(a||"7B7D"))}catch(p){}return u.openapi=!0,u=_.extend(u,c),m.addClass("openapipnet"),l.platform.papi[i](n,m,d,u,c),"transaction"!=i&&!l.curation()}if(m.innerHTML=t.renders.iframe(e,i,n,a,c),"undefined"!=typeof iFrameResize)iFrameResize({onResized:function(){s&&s()},onBeforeResized:function(){s&&s(!0)}},"#pocketnet_iframe_"+e)},t.url=function(t){var e=new URL(t),i=e.searchParams.get("s")||e.searchParams.get("v"),n=e.searchParams.get("commentid")?"comment":i?"lenta":"channel",a="channel"===n?e.pathname.replace("/",""):i;"author"==a&&"channel"===n&&(a=e.searchParams.get("address"));var r=e.searchParams.get("connect"),o=e.searchParams.get("publicroom"),s={commentPs:{commentid:e.searchParams.get("commentid"),parentid:e.searchParams.get("parentid")}};r&&(n="connect",a=r),o&&(n="publicroom",a=o);var c="7b22626c61636b223a66616c73652c22636f6d6d656e7473223a226e6f222c22726566223a2250503538325634375038764376586a645633696e77594e677853635a437554577371227d",d=e.searchParams.get("stx");return d&&(a=d,n="transaction"),{action:n,id:a,p:c,additional:s}},t.makefromurl=function(e,i,n,a,r){var o=Math.floor(1e5*Math.random()),s='<div id="pocketnet_'+o+'">';s+="</div>",e.innerHTML=s;var c=t.url(i);return c.additional||(c.additional={}),c.additional=_.extend(c.additional,a||{}),t.make(o,c.action,c.id,c.p,!0,e,n,c.additional,r)},t};window.PNWIDGETS=r;var o=r,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"matrixlink"}},[t.idtype?i("div",["publicroom"==t.idtype.type?i("publicroom",{attrs:{id:t.idtype.id}}):t._e(),"connect"==t.idtype.type?i("div",{staticClass:"contactWrapper"},[i("router-link",{attrs:{to:"contact?id="+t.idtype.href}},[i("contactid",{attrs:{id:t.idtype.id}})],1)],1):t._e()],1):t._e()])},c=[],d=i("2f62"),m=i("5719"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"contactid"}},[t.contact?i("contact",{attrs:{contact:t.contact}}):t._e()],1)},u=[],p=i("d3ff"),f=i("3139"),h={name:"contactid",props:{id:""},components:{contact:p["default"]},computed:Object(d["c"])({auth:t=>t.auth,contact:function(){if(this.id){var t=this.$store.state.users[f["a"].hexEncode(this.id)];return t}}}),methods:{},mounted:function(){this.id&&this.core.user.usersInfo(this.id,!0).then(t=>{})}},v=h,g=i("2877"),b=Object(g["a"])(v,l,u,!1,null,"f329229a",null),k=b.exports,w={name:"matrixlink",props:{url:String},components:{publicroom:m["a"],contactid:k},computed:Object(d["c"])({auth:t=>t.auth,idtype:function(){if(this.url){var t=new URL(this.url),e=t.search.replace("?","").split("&"),i={};return _.each(e,(function(t){var e=t.split("=");i[e[0]]=e[1]})),i.publicroom?{type:"publicroom",id:i.publicroom}:i.connect?{type:"connect",id:i.connect,href:f["a"].hexEncode(i.connect)}:void 0}}}),methods:{}},y=w,C=(i("40d2"),Object(g["a"])(y,s,c,!1,null,"15518517",null)),x=C.exports,S={components:{matrixlink:x},directives:{},props:{title:String,msg:String,name:String,description:String,image:String,video:String,url:String,h:Number,w:Number,initImageWidth:Number,imageFactor:Number,clientWidth:Number,post:String,type:String},data:()=>({link:"",txt:String,gotopn:!1,module:{}}),computed:{smallsize(){if(this.url){var t=new URL(this.url);return!t.pathname||"/"==t.pathname}},imageWidth(){return this.clientWidth<650?this.imageFactor*this.initImageWidth:this.initImageWidth},getUrl:function(){var t=window.pocketnetdomain||"pocketnet.app";if(this.metaUrl)return new URL(this.metaUrl).hostname===t},imageHeight(){const t=this.w/this.imageWidth;return this.h/t||300},iframe(){if("pocketnet"===this.type)return!0},matrix(){if("matrix"===this.type)return!0}},beforeMount(){},beforeDestroy(){if(this.module.d){try{this.module.d.destroy()}catch(t){}delete this.module.d}},mounted(){if("pocketnet"===this.type&&this.$refs.iframe){let t=new o;this.$refs.iframe&&(this.gotopn=t.makefromurl(this.$refs.iframe,this.url,t=>{this.updatedSize(t)},{theme:this.core.vm.ctheme||this.$store.state.theme},(t,e)=>{this.module.d=e}))}},methods:{openlink:function(t){if("undefined"!=typeof window&&"undefined"!=typeof window.cordova&&cordova.InAppBrowser){cordova.InAppBrowser.open(t,"_system");return!1}window.open(t,"_blank")},openlinkiframe:function(t){if(this.core.backtoapp){var e=new URL(t);this.core.backtoapp(e.pathname.replace("/","")+e.search)}else window.open(t,"_blank")},updatedSize:function(t){}}},E=S,R=(i("d6fd"),i("14ac"),i("ab2a5"),i("8e73"),Object(g["a"])(E,n,a,!1,null,"cffb7280",null));e["default"]=R.exports},f155:function(t,e,i){"use strict";i("7e786")},f761:function(t,e,i){}}]);
//# sourceMappingURL=chunk-6f115af6.f5a4fa0a.js.map