(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37dd8fd7"],{"26e5":function(t,e,n){},"2d8f":function(t,e,n){"use strict";n("cba2")},9056:function(t,e,n){},"99ce":function(t,e,n){"use strict";n("26e5")},bd26:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page contacts"},[n("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[n("div",{staticClass:"back",on:{click:t.back}},[n("div",{staticClass:"iconbutton"},[n("i",{staticClass:"fas fa-angle-left"})])])]},proxy:!0},{key:"info",fn:function(){return[n("span",[t._v(t._s(t.title))])]},proxy:!0},{key:"right",fn:function(){return[t.navigator.share?n("div",{staticClass:"iconbutton",on:{click:t.openMore}},[n("i",{staticClass:"fas fa-share-alt"})]):t._e()]},proxy:!0}])}),n("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[n("inviteChoice",{ref:"inviteChoice"})]},proxy:!0}])})],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.unauthorized?n("div",{staticClass:"unauthorized"},[n("div",{staticClass:"captionWrapper"},[n("span",[t._v(t._s(t.$i18n.t("caption.accNotFound")))])])]):n("div",{class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active},attrs:{id:"invite"}},[n("div",{staticClass:"work"},[n("div",{directives:[{name:"id",rawName:"v-id",value:"sms"==t.currentType||"email"==t.currentType,expression:"currentType == 'sms' || currentType == 'email'"}]},[n("search",{attrs:{minimize:t.minimized},on:{search:t.search}}),n("listPhoneContacts",{attrs:{phoneContacts:t.displayedPhoneContacts,type:t.currentType},on:{invitePhoneContact:t.invitePhoneContact}})],1),t.currentType&&t.loading?n("div",{staticClass:"searching"},[n("div",{staticClass:"linepreloaderWrapper"},[n("linepreloader")],1)]):t._e(),t.inputText.length>=3&&!t.displayedPhoneContacts.length&&!t.loading?n("div",{staticClass:"noSearchResult"},[n("span",[t._v(t._s(t.$i18n.t("caption.queryNoResults")))]),n("i",{staticClass:"fas fa-search"})]):t._e(),t.inputText.length>=1&&t.inputText.length<=2&&!t.loading?n("div",{staticClass:"noSearchResult"},[n("span",[t._v(t._s(t.$i18n.t("caption.needMoreCharacters")))]),n("i",{staticClass:"fas fa-search"})]):t._e(),t.displayedPhoneContacts.length||t.loading?t._e():n("div",{staticClass:"noSearchResult"},[n("span",[t._v(t._s(t.$i18n.t("caption.emptyContactList")))])])])])},o=[],c=n("2f62"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0!==t.contacts.length?n("div",[t.showTitle?n("div",{staticClass:"titleContacts"},[n("span",[t._v(t._s(t.$i18n.t("caption.phoneContacts")))])]):t._e(),t._l(t.contacts,(function(e){return n("div",{key:e.id,staticClass:"phoneContact"},[e.photo?n("img",{staticClass:"contactProfilePicture",attrs:{src:"data:image/jpeg;base64,"+e.photo,width:"42",height:"44"}}):n("i",{staticClass:"fas fa-user-circle"}),n("div",{staticClass:"phoneContactInfo"},[e.displayName&&e.displayName.length>0?n("span",[t._v(t._s(e.displayName))]):e.firstName||e.familyName?n("span",[t._v(t._s(e.firstName)+" "+t._s(e.familyName))]):t._e(),"email"==t.type?n("span",{staticClass:"subLabel"},[t._v(t._s(e.emails[0].value))]):t._e(),"sms"==t.type?n("span",{staticClass:"subLabel"},[t._v(t._s(e.phoneNumbers[0].value))]):t._e()]),n("button",{staticClass:"button small rounded",on:{click:function(n){return t.invitePhoneContact(e)}}},[t._v(" "+t._s(t.$i18n.t("caption.invite"))+" ")])])}))],2):t._e()},l=[],u={name:"listPhoneContacts",props:{phoneContacts:Array,showTitle:Boolean,type:String},methods:{invitePhoneContact:function(t){this.$emit("invitePhoneContact",t)}},computed:{contacts:function(){switch(this.type){case"email":return _.filter(this.phoneContacts,t=>{if(t.emails&&t.emails.length>=1)return!0});case"sms":return _.filter(this.phoneContacts,t=>{if(t.phoneNumbers&&t.phoneNumbers.length>=1)return!0});default:return this.phoneContacts}}}},p=u,d=(n("d2ee"),n("2877")),h=Object(d["a"])(p,r,l,!1,null,"16b6f229",null),f=h.exports,m=n("3139"),v=n("ebaa"),C={name:"inviteChoice",props:{},components:{listPhoneContacts:f},data:function(){var t="pocketnet.app",e="";m["a"].deep(this,"core.user.userinfo.source.address")&&(e="?connect="+m["a"].deep(this,"core.user.userinfo.source.address")),window.testpocketnet&&(t="test.pocketnet.app"),window.pocketnetdomain&&(t=window.pocketnetdomain);var n="https://"+t+"/welcome"+e,i=this.$i18n.t("caption.hasInvitedToJoin")+": "+n;return{messageSubject:this.$i18n.t("caption.joinApp"),messageBody:i,socials:[{n:"SMS",i:"far fa-comment",t:"sms",c:"#143e50"},{n:"Email",i:"far fa-envelope",t:"email",c:"#f82a53"},{n:"Facebook",i:"fab fa-facebook-f",t:"facebook",c:"#3b5999",hideOnIos:!0},{n:"Whatsapp",i:"fab fa-whatsapp",t:"whatsapp",c:"#075e54"},{n:"Telegram",i:"fab fa-telegram-plane",t:"telegram",c:"#0088cc",hideOnIos:!0},{n:this.$i18n.t("caption.more"),i:"fas fa-ellipsis-h",t:"more",c:"rgb(112, 112, 112)"}],currentType:"sms",inputText:"",phoneContacts:[],displayedPhoneContacts:[],loading:!1,focusListener:new v["a"].focus(this.core),canGetContacts:!1}},mounted:function(){},created:function(){var t=this;this.focusListener.init(),this.focusListener.clbks.resume.core=()=>{setTimeout((function(){t.loadContacts()}),0)},window.ContactsX&&(t.loading=!0,window.ContactsX.requestPermission((function(e){t.canGetContacts=e&&e.read,t.loadContacts()}),(function(e){console.error(e),t.loading=!1})))},destroyed:function(){delete this.focusListener.clbks.resume.core},watch:{},computed:Object(c["c"])({auth:t=>t.auth,...Object(c["c"])(["contactsMap","pocketnet","minimized","active","unauthorized"])}),methods:{back:function(){this.$router.go(-1)},openMore:function(){if(window.plugins&&window.plugins.socialsharing){var t=window.plugins.socialsharing;t.share(this.messageBody,this.messageSubject)}},loadContacts:function(){var t=this;t.canGetContacts?window.ContactsX.find((function(e){t.phoneContacts=e,t.search(t.inputText),t.loading=!1}),(function(e){console.error(e),t.loading=!1}),{fields:{phoneNumbers:!0,emails:!0,photo:!0}}):t.loading=!1},invitePhoneContact:function(t){if(window.plugins&&window.plugins.socialsharing){var e=window.plugins.socialsharing,n=this;switch(this.currentType){case"email":e.canShareViaEmail((function(){e.shareViaEmail(n.messageBody,n.messageSubject,[t.emails[0].value])}));break;case"sms":e.shareViaSMS({message:n.messageSubject+" "+n.messageBody,url:this.link},t.phoneNumbers[0].value);break;default:break}}},search(t){this.inputText=t,t.length>=1&&t.length<=2?this.displayedPhoneContacts=[]:t.length>2?this.displayedPhoneContacts=_.filter(this.phoneContacts,e=>{var n=e.displayName+" "+e.firstName+" "+e.familyName;if(n.toLowerCase().match(t.toLowerCase()))return!0}):this.displayedPhoneContacts=this.phoneContacts},isios(){return"undefined"!=typeof window&&window.cordova&&window.device&&"iOS"==deep(window,"device.platform")}}},g=C,w=(n("99ce"),Object(d["a"])(g,a,o,!1,null,"39a93cc8",null)),b=w.exports,y={name:"pageinvite",data:function(){return{}},components:{inviteChoice:b},computed:Object(c["c"])({pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,title:function(){return this.$i18n.t("caption.inviteFriend")},navigator:function(){return navigator||{}}}),methods:{back:function(){this.$refs.inviteChoice.back()},openMore:function(){this.$refs.inviteChoice.openMore()}},mounted(){}},k=y,P=(n("2d8f"),Object(d["a"])(k,i,s,!1,null,"76f89d0e",null));e["default"]=P.exports},cba2:function(t,e,n){},d2ee:function(t,e,n){"use strict";n("9056")}}]);
//# sourceMappingURL=chunk-37dd8fd7.c738ab95.js.map